<html>
<head>
<meta charset="UTF-8">
<title>Atj-gen-shallow-mv-let</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-GEN-SHALLOW-MV-LET">Click for Atj-gen-shallow-mv-let in the Full Manual</a></h3>

<p>Generate a shallowly embedded ACL2 <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span>.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-gen-shallow-mv-let term jvar-tmp-base jvar-tmp-index 
                        pkg-class-names fn-method-names 
                        curr-pkg qpairs guards$ wrld) 
 
  → 
(mv successp block expr new-jvar-tmp-index)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">term</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> term)</span>.</font>
</dd> 
  <dd>
<span class="tt">jvar-tmp-base</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> jvar-tmp-base)</span>.</font>
</dd> 
  <dd>
<span class="tt">jvar-tmp-index</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____POSP.html">posp</a> jvar-tmp-index)</span>.</font>
</dd> 
  <dd>
<span class="tt">pkg-class-names</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____STRING-STRING-ALISTP.html">string-string-alistp</a> pkg-class-names)</span>.</font>
</dd> 
  <dd>
<span class="tt">fn-method-names</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-STRING-ALISTP.html">symbol-string-alistp</a> fn-method-names)</span>.</font>
</dd> 
  <dd>
<span class="tt">curr-pkg</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> curr-pkg)</span>.</font>
</dd> 
  <dd>
<span class="tt">qpairs</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____CONS-POS-ALISTP.html">cons-pos-alistp</a> qpairs)</span>.</font>
</dd> 
  <dd>
<span class="tt">guards$</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> guards$)</span>.</font>
</dd> 
  <dd>
<span class="tt">wrld</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PLIST-WORLDP.html">plist-worldp</a> wrld)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">successp</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> successp)</span>.</font>
</dd> 
<dd>
<span class="tt">block</span> — <font color="#606060">Type <span class="v">(<a href="JAVA____JBLOCKP.html">jblockp</a> block)</span>.</font>
</dd> 
<dd>
<span class="tt">expr</span> — <font color="#606060">Type <span class="v">(<a href="JAVA____JEXPRP.html">jexprp</a> expr)</span>.</font>
</dd> 
<dd>
<span class="tt">new-jvar-tmp-index</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____POSP.html">posp</a> new-jvar-tmp-index)</span>, given <span class="v">(<a href="ACL2____POSP.html">posp</a> jvar-tmp-index)</span>.</font>
</dd> 
 
</dl></div> 
<p>This is the first thing we try on every term 
       (see <span class="tt"><a href="JAVA____ATJ-GEN-SHALLOW-TERM.html">atj-gen-shallow-term</a></span>): 
       if the term is an <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span>, 
       we translate it to Java here and return a success value as first result, 
       so that the caller can propagate the results; 
       otherwise, the first result is <span class="v">nil</span>, 
       the other results are irrelevant, 
       and the caller will handle the term 
       knowing that it is not an <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span>.</p><p>First, we check whether the term 
       is a marked and annotated <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span>; 
       see <span class="tt"><a href="JAVA____ATJ-CHECK-MARKED-ANNOTATED-MV-LET-CALL.html">atj-check-marked-annotated-mv-let-call</a></span>. 
       If it is, we proceed as follows. 
       We recursively translate to Java 
       the term assigned to the <span class="v">mv</span> variable; 
       this must have multiple types. 
       Then we translate the <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span> binding itself to Java, 
       obtaining a local variable declaration or assignment 
       (depending on the new/old marking of the <span class="v">mv</span> variable) 
       for the multiple value. 
       Then we translate the <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span> bindings for the components, 
       and finally the body term.</p> 
 

</body>
</html>
