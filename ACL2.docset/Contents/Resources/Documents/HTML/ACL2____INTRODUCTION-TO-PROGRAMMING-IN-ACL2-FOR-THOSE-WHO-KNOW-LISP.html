<html>
<head>
<meta charset="UTF-8">
<title>Introduction-to-programming-in-ACL2-for-those-who-know-lisp</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____INTRODUCTION-TO-PROGRAMMING-IN-ACL2-FOR-THOSE-WHO-KNOW-LISP">Click for Introduction-to-programming-in-ACL2-for-those-who-know-lisp in the Full Manual</a></h3>

<p>Introduction to programming in ACL2 for Lisp users</p><p>The <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a> topic, <a href="ACL2____ACL2-BUILT-INS.html">ACL2-built-ins</a>, as well as 
 its parent topic, <a href="ACL2____PROGRAMMING.html">programming</a>, are starting points for a rich 
 collection of primitives and features in the ACL2 programming language.  In 
 the present topic (below) we give a succinct introduction to that language for 
 those who are already reasonably familiar with Common Lisp, or perhaps another 
 Lisp.  Follow the hyperlinks if you want to drill down; for example, we 
 mention multiple values below but say very little about them, instead 
 providing links to topics that explain their handling in a little more 
 depth.</p> 
 
 <p>The <span class="tt"><a href="COMMON-LISP____DOCUMENTATION.html">documentation</a></span> for ACL2 and its <a href="ACL2____COMMUNITY-BOOKS.html">community-books</a> provides 
 a rich set of topics for further exploration.  This particular topic is 
 intended to serve only as a brief introduction to programming in ACL2 for 
 those who know Lisp, especially Common Lisp.  Supplementary reading that may 
 interest a few readers includes ``<a href="http://www.cs.utexas.edu/users/moore/publications/km97a.pdf" target="_blank"><nobr>A Precise 
 Description of the ACL2 Logic<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/publications/km97a.pdf"></nobr></a>'' (Matt Kaufmann and J Moore, April, 
 1998).</p> 
 
 <h3>Applicative Common Lisp</h3> 
 
 <p>The ACL2 (``A Computational Logic for Applicative Common Lisp'') 
 programming language is essentially a subset of Common Lisp — albeit 
 with some useful extensions — that is <i>applicative</i>: the value 
 returned by a function depends only on its inputs, not state.  (There is an 
 ACL2 notion of <a href="ACL2____STATE.html">state</a>, introduced briefly below; but that state must be 
 passed as an explicit argument.)  Many commonly-used functions and special 
 forms in the applicative subset of Common Lisp are also in ACL2, such as (to 
 name just a very few) <span class="tt"><a href="COMMON-LISP____CAR.html">car</a></span>, <span class="tt"><a href="COMMON-LISP____CONS.html">cons</a></span>, <span class="tt"><a href="COMMON-LISP____NTH.html">nth</a></span>, <span class="tt"><a href="COMMON-LISP____APPEND.html">append</a></span>, 
 <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span>, and <span class="tt"><a href="COMMON-LISP____LET_A2.html">let*</a></span>.  A few others are not directly included in ACL2 
 because they have incomplete specifications in Common Lisp, such as <span class="tt"><a href="COMMON-LISP____PAIRLIS.html">pairlis</a></span>; according to the Common Lisp HyperSpec: ``The new pairs may appear 
 in the resulting association list in either forward or backward order.''  Many 
 such functions tend to have close analogues in ACL2, named by concatenating 
 <span class="v">"$"</span> to the Common Lisp name; for example, ACL2 has <span class="tt"><a href="ACL2____PAIRLIS_42.html">pairlis$</a></span>, 
 <span class="tt"><a href="ACL2____UNION_42.html">union$</a></span>, and even <span class="tt"><a href="ACL2____RANDOM_42.html">random$</a></span>.  Yet other Common Lisp functions, 
 for example <span class="v">format</span>, are not available in ACL2 but have useful 
 alternatives in ACL2; for example, see <span class="tt"><a href="ACL2____FMT.html">fmt</a></span>.  See <a href="ACL2____ACL2-BUILT-INS.html">ACL2-built-ins</a> 
 for a much more comprehensive list of functions, macros, and special forms 
 provided by the ACL2 programming language.  In particular, a search through 
 that documentation topic for `<span class="v">$</span>' will show you utilities like 
 <span class="v">pairlis$</span> that are based on related Common Lisp utilities.</p> 
 
 <p>In the ACL2 read-eval-print loop, you can define functions and macros with 
 <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> and <span class="tt"><a href="COMMON-LISP____DEFMACRO.html">defmacro</a></span> just as in Common Lisp, with some 
 restrictions (see for example <a href="ACL2____NAME.html">name</a>) and also some additional <span class="tt"><a href="COMMON-LISP____DECLARE.html">declare</a></span> forms.</p> 
 
 <h3>Data types</h3> 
 
 <p>Only certain Lisp data types are supported for programming in ACL2: numbers 
 that are either rational numbers or complex numbers with rational 
 coefficients (see <a href="ACL2____NUMBERS-INTRODUCTION.html">numbers-introduction</a>); the <a href="ACL2____CHARACTERS.html">characters</a> 
 constructed with <span class="v">(<a href="COMMON-LISP____CODE-CHAR.html">code-char</a> n)</span> for <span class="v">n</span> from 0 to 255; <a href="ACL2____STRINGS.html">strings</a> 
 formed from those characters; <a href="ACL2____SYMBOLS.html">symbols</a> whose <span class="tt"><a href="COMMON-LISP____SYMBOL-NAME.html">symbol-name</a></span> and 
 <span class="tt"><a href="ACL2____SYMBOL-PACKAGE-NAME.html">symbol-package-name</a></span> are ACL2 strings; and objects constructed from 
 others using <span class="tt"><a href="COMMON-LISP____CONS.html">cons</a></span>.</p> 
 
 <p>In particular, arrays are not directly supported as an ACL2 
 datatype (except for strings).  However, ACL2 supports an applicative notion 
 of array, which is logically an association list but has an associated Lisp 
 array that provides fast reads in single-threaded programs.  See <a href="ACL2____ARRAYS.html">arrays</a>.  If your code creates an array and does many more reads to it than 
 writes, or even if there are rarely two writes to the same index (as when 
 writes are primarily to initialize the array), then ACL2 arrays may perform 
 well.  Otherwise you may get significantly better performance, avoiding the 
 consing done by writes (to build the association list), by using a different 
 sort of representation of arrays in ACL2: <i>single-threaded objects</i>, or 
 <i>stobjs</i>; see <a href="ACL2____STOBJ.html">stobj</a>.</p> 
 
 <p>Structures can be simulated in ACL2 using suitable macros.  For a simple 
 such macro that is built into ACL2, together with alternatives to it, see 
 <a href="ACL2____DEFREC.html">defrec</a>.</p> 
 
 <h3>Program and logic modes</h3> 
 
 <p>If you are using ACL2 as a programming language but you do not intend to 
 prove anything about your code, at least not at first, then you might be 
 well-served by using <a href="ACL2____PROGRAM.html">program</a> mode.  In this mode, ACL2 will admit the 
 definition if syntactic checks succeed, in particular without requiring a 
 proof of termination for recursive definitions.  You can specify the mode 
 directly in a declaration (see <a href="ACL2____XARGS.html">xargs</a> for how to specify <span class="v">:program</span> 
 in a <a href="COMMON-LISP____DECLARE.html">declare</a> form), or you can set the default <a href="ACL2____DEFUN-MODE.html">defun-mode</a> to 
 <span class="v">:program</span> (see <a href="ACL2____DEFAULT-DEFUN-MODE.html">default-defun-mode</a> and see <a href="ACL2____PROGRAM.html">program</a>).</p> 
 
 <p>When you are ready to reason about your functions, you can use <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> mode instead, or you can convert a program-mode function to logic-mode 
 with <span class="tt"><a href="ACL2____VERIFY-TERMINATION.html">verify-termination</a></span>.</p> 
 
 <h3>Connection to Common Lisp</h3> 
 
 <p>Many Common Lisp functions should only be applied to certain types of 
 objects: for example, <span class="tt"><a href="COMMON-LISP____CAR.html">car</a></span> should only be applied to a cons pair or 
 <span class="v">nil</span>.  Every ACL2 function has a <i>guard</i>, which specifies the 
 intended domain of the function; see <a href="ACL2____GUARD.html">guard</a>.  For example, the guard for 
 <span class="v">car</span> is <span class="v">(<a href="COMMON-LISP____OR.html">OR</a> (<a href="COMMON-LISP____CONSP.html">CONSP</a> X) (<a href="COMMON-LISP____EQUAL.html">EQUAL</a> X NIL))</span>.  See <a href="ACL2____ARGS.html">args</a> for a utility 
 that provides this and other information about a given function symbol.</p> 
 
 <p>Beginning ACL2 programmers should probably ignore guards, at least 
 initially.  Otherwise, see <a href="ACL2____XARGS.html">xargs</a> for how to specify a guard; also see 
 <a href="ACL2____VERIFY-GUARDS.html">verify-guards</a>.</p> 
 
 <h3>Multiple values</h3> 
 
 <p>The analogues of Common Lisp utilities <span class="v">multiple-value-bind</span> and 
 <span class="v">values</span> are <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span> and <span class="tt"><a href="ACL2____MV.html">mv</a></span>, respectively.  Also see <a href="ACL2____B_A2.html">b*</a> for an alternative to <span class="tt"><a href="COMMON-LISP____LET_A2.html">let*</a></span> that can be convenient in the presence 
 of multiple values.</p> 
 
 <h3>State</h3> 
 
 <p>ACL2 provides a notion of <i>state</i> that is useful for certain kinds of 
 programming.  As mentioned above, the state must be passed explicitly because 
 of the applicative nature of ACL2; indeed, it must be passed as the variable, 
 <span class="v">state</span>, i.e., the symbol in the <span class="v">"ACL2"</span> package whose <span class="tt"><a href="COMMON-LISP____SYMBOL-NAME.html">symbol-name</a></span> is <span class="v">"STATE"</span>.  This is a rather complex notion, perhaps best 
 avoided by beginning ACL2 programmers.  To learn about the ACL2 state, see 
 <a href="ACL2____STATE.html">state</a>, which points to a topic, <a href="ACL2____PROGRAMMING-WITH-STATE.html">programming-with-state</a>, that 
 discusses many utilities for reading and writing the ACL2 state.</p> 
 
 <h3>More help</h3> 
 
 <p>ACL2 does not provide <span class="v">apropos</span>.  However, you can search the 
 documentation to find substring matches.  For example, if you type <span class="v">princ</span> 
 into the ``<span class="v">Jump to</span>'' box in the web-based manual, or if you type the 
 command <span class="v">i</span> [for ''index''] into the <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> Emacs-based 
 documentation browser, you will find <span class="tt"><a href="ACL2____PRINC_42.html">princ$</a></span>.  The ``<span class="v">Jump to</span>'' box 
 in the web-based manual matches on prefixes, but the <span class="v">i</span> command in <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> matches on any substring.</p> 
 
 <p>Another way for Lisp programmers to get answers to ``How do I do this in 
 ACL2'' questions is to query the acl2-help mailing list.  You can sign up via 
 a link on the <a href="http://www.cs.utexas.edu/users/moore/acl2/" target="_blank"><nobr>ACL2 home 
 page<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/acl2/"></nobr></a>.  Moreover, that could be a good place to request or suggest 
 improvements to this documentation topic!  Also see <a href="ACL2____HISTORY.html">history</a> for some 
 ways to query the current session.</p> 
 
 <p>Finally, here are a few specific alternatives to Common Lisp utilities.</p> 
 
 <ul> 
 
 <li>
<span class="v">describe</span>: see <span class="tt"><a href="ACL2____DOC.html">doc</a></span>
</li> 
 
 <li>
<span class="v">fboundp</span> and other utilities to provide information about functions, 
 macros, and special operators: see <span class="tt"><a href="ACL2____ARGS.html">args</a></span>
</li> 
 
 <li>
<span class="v">format</span>: see <span class="tt"><a href="ACL2____FMT.html">fmt</a></span>, which has links to related functions that 
 perform formatted printing</li> 
 
 <li>
<span class="v">list-all-packages</span>: see <span class="tt"><a href="COMMON-LISP____IN-PACKAGE.html">in-package</a></span>; also see the description 
 of <span class="v">known-package-alist</span> in <a href="ACL2____SYSTEM-UTILITIES.html">system-utilities</a>
</li> 
 
 <li>
<span class="v">setq</span>: see <span class="tt"><a href="ACL2____ASSIGN.html">assign</a></span>, but perhaps first look at the documentation 
 topics for <a href="ACL2____STATE.html">state</a> and <a href="ACL2____PROGRAMMING-WITH-STATE.html">programming-with-state</a>
</li> 
 
 <li>
<span class="v">symbol-plist</span>: see <span class="tt"><a href="ACL2____PROPS.html">props</a></span>, <span class="tt"><a href="ACL2____GETPROP.html">getprop</a></span>, and <span class="tt"><a href="ACL2____PUTPROP.html">putprop</a></span>
</li> 
 
 <li>
<span class="v">with-open-file</span>: see <a href="ACL2____IO.html">io</a>
</li> 
 
 </ul>
</body>
</html>
