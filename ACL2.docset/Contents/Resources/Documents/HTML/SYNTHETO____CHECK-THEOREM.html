<html>
<head>
<meta charset="UTF-8">
<title>Check-theorem</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=SYNTHETO____CHECK-THEOREM">Click for Check-theorem in the Full Manual</a></h3>

<p>Check if a theorem is statically well-formed.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(check-theorem thm ctxt) → (mv err? obligs)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">thm</span> — <font color="#606060">Guard <span class="v">(<a href="SYNTHETO____THEOREMP.html">theoremp</a> thm)</span>.</font>
</dd> 
  <dd>
<span class="tt">ctxt</span> — <font color="#606060">Guard <span class="v">(<a href="SYNTHETO____CONTEXTP.html">contextp</a> ctxt)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">obligs</span> — <font color="#606060">Type <span class="v">(<a href="SYNTHETO____PROOF-OBLIGATION-LISTP.html">proof-obligation-listp</a> obligs)</span>.</font>
</dd> 
 
</dl></div> 
<p>This is at the top level, so the context has no 
     type names, function headers, variables, and hypotheses.</p><p>We ensure that a theorem with the same name does not already exist.</p><p>We extend the context with the variables, 
     and we check the formula, ensuring it is a boolean.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>check-theorem</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 check-theorem (<a href="ACL2____THM.html">thm</a> ctxt)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="SYNTHETO____THEOREMP.html">theoremp</a> thm) (<a href="SYNTHETO____CONTEXTP.html">contextp</a> ctxt))))
 (<a href="COMMON-LISP____DECLARE.html">declare</a>
      (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NULL.html">null</a> (<a href="SYNTHETO____CONTEXT-_E3TYPES.html">context-&gt;types</a> ctxt))
                         (<a href="COMMON-LISP____NULL.html">null</a> (<a href="SYNTHETO____CONTEXT-_E3FUNCTIONS.html">context-&gt;functions</a> ctxt))
                         (<a href="OMAP____EMPTY.html">omap::empty</a> (<a href="SYNTHETO____CONTEXT-_E3VARIABLES.html">context-&gt;variables</a> ctxt))
                         (<a href="COMMON-LISP____NULL.html">null</a> (<a href="SYNTHETO____CONTEXT-_E3OBLIGATION-VARS.html">context-&gt;obligation-vars</a> ctxt))
                         (<a href="COMMON-LISP____NULL.html">null</a> (<a href="SYNTHETO____CONTEXT-_E3OBLIGATION-HYPS.html">context-&gt;obligation-hyps</a> ctxt)))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'check-theorem))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="SYNTHETO____THEOREM.html">theorem</a> thm) thm)
    ((when (<a href="SYNTHETO____GET-THEOREM.html">get-theorem</a> thm.name (<a href="SYNTHETO____CONTEXT-_E3TOPS.html">context-&gt;tops</a> ctxt)))
     (<a href="ACL2____MV.html">mv</a> (<a href="COMMON-LISP____LIST.html">list</a> :theorem-already-exists thm.name)
         nil))
    (var-ctxt (<a href="SYNTHETO____TYPED-VARIABLES-TO-VARIABLE-CONTEXT.html">typed-variables-to-variable-context</a> thm.variables))
    (ctxt (<a href="SYNTHETO____CHANGE-CONTEXT.html">change-context</a> ctxt
                          :variables var-ctxt
                          :obligation-vars thm.variables))
    (result (<a href="SYNTHETO____CHECK-EXPRESSION.html">check-expression</a> thm.formula ctxt)))
   (<a href="SYNTHETO____TYPE-RESULT-CASE.html">type-result-case</a>
        result
        :err (<a href="ACL2____MV.html">mv</a> result.info nil)
        :ok (<a href="COMMON-LISP____IF.html">if</a> (<a href="SYNTHETO____TYPE-LIST-EQUIV.html">type-list-equiv</a> result.types (<a href="COMMON-LISP____LIST.html">list</a> (<a href="SYNTHETO____TYPE-BOOLEAN.html">type-boolean</a>)))
                (<a href="ACL2____MV.html">mv</a> nil result.obligations)
                (<a href="ACL2____MV.html">mv</a> (<a href="COMMON-LISP____LIST.html">list</a> :non-boolean-theorem-formula thm.formula)
                    nil))))))</pre> 
<p><b>Theorem: </b>proof-obligation-listp-of-check-theorem.obligs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> proof-obligation-listp-of-check-theorem.obligs
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?err? ?obligs)
              (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm ctxt)))
            (<a href="SYNTHETO____PROOF-OBLIGATION-LISTP.html">proof-obligation-listp</a> obligs))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>check-theorem-of-theorem-fix-thm</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> check-theorem-of-theorem-fix-thm
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> (<a href="SYNTHETO____THEOREM-FIX.html">theorem-fix</a> thm) ctxt)
               (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm ctxt)))</pre> 
<p><b>Theorem: </b>check-theorem-theorem-equiv-congruence-on-thm</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> check-theorem-theorem-equiv-congruence-on-thm
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="SYNTHETO____THEOREM-EQUIV.html">theorem-equiv</a> thm thm-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm ctxt)
                        (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm-equiv ctxt)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>check-theorem-of-context-fix-ctxt</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> check-theorem-of-context-fix-ctxt
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm (<a href="SYNTHETO____CONTEXT-FIX.html">context-fix</a> ctxt))
               (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm ctxt)))</pre> 
<p><b>Theorem: </b>check-theorem-context-equiv-congruence-on-ctxt</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> check-theorem-context-equiv-congruence-on-ctxt
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="SYNTHETO____CONTEXT-EQUIV.html">context-equiv</a> ctxt ctxt-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm ctxt)
                        (<a href="SYNTHETO____CHECK-THEOREM.html">check-theorem</a> thm ctxt-equiv)))
        :rule-classes :congruence)</pre> 

</body>
</html>
