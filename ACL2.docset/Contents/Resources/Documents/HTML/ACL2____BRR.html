<html>
<head>
<meta charset="UTF-8">
<title>Brr</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____BRR">Click for Brr in the Full Manual</a></h3>

<p>To enable or disable the breaking of rewrite rules</p><pre class="code">Example:
:brr t       ; enable
(<a href="ACL2____BRR.html">brr</a> t)      ; enable (same as above)
(<a href="ACL2____BRR.html">brr</a> t t)    ; enable with less output (rarely invoked interactively)
:brr nil     ; disable

General Form:
(<a href="ACL2____BRR.html">brr</a> flg &amp;optional quietp)</pre> 
 
 <p>where <span class="v">flg</span> and the optional <span class="v">quietp</span> argument evaluate to <span class="v">t</span> or 
 <span class="v">nil</span>.  This function modifies <span class="tt"><a href="ACL2____STATE.html">state</a></span> so that the attempted 
 application of certain rewrite rules are ``broken.'' ``<span class="v">Brr</span>'' stands for 
 ``break-rewrite'' and can be thought of as a mode with two settings.  The 
 normal mode is ``disabled.''</p> 
 
 <p>For a more thorough introduction to the break rewrite system see <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a>.</p> 
 
 <p>When <span class="v">brr</span> mode is ``enabled'' the ACL2 rewriter monitors the attempts 
 to apply certain rules and advises the user of those attempts by entering an 
 interactive wormhole break.  From within this break the user can watch 
 selected application attempts.  The user can also interact with the system 
 during <span class="v">brr</span> breaks via <span class="tt"><a href="ACL2____BRR-COMMANDS.html">brr-commands</a></span>.</p> 
 
 <p>The rules monitored are selected by using the <span class="tt"><a href="ACL2____MONITOR.html">monitor</a></span> and <span class="tt"><a href="ACL2____UNMONITOR.html">unmonitor</a></span> commands.  It is possible to break a rune ``conditionally'' in the 
 sense that an interactive break will occur only if a specified predicate is 
 true of the environment at the time of the attempted application.  See <a href="ACL2____MONITOR.html">monitor</a> and see <a href="ACL2____UNMONITOR.html">unmonitor</a>.</p> 
 
 <p>Even if a non-empty set of rules has been selected, no breaks will occur 
 unless <span class="v">brr</span> mode is enabled.  Thus, the first time in a session that you 
 wish to monitor a rewrite rule, use <span class="v">:brr</span> <span class="v">t</span> to enable <span class="v">brr</span> mode. 
 Thereafter you may select runes to be monitored with <span class="tt"><a href="ACL2____MONITOR.html">monitor</a></span> and 
 <span class="tt"><a href="ACL2____UNMONITOR.html">unmonitor</a></span> with the effect that whenever monitored rules are tried (and 
 their break conditions are met) an interactive break will occur.  Be advised 
 that when <span class="v">brr</span> mode is enabled the rewriter is somewhat slower than 
 normal.  Furthermore, that sluggishness persists even if no runes are 
 monitored.  You may regain normal performance  regardless of what runes 
 are monitored  by disabling <span class="v">brr</span> mode with <span class="v">:brr</span> <span class="v">nil</span>.</p> 
 
 <p>Why isn't <span class="v">brr</span> mode disabled automatically when no runes are monitored? 
 More generally, why does ACL2 have <span class="v">brr</span> mode at all?  Why not just test 
 whether there are monitored runes?  If you care about the answers, see <a href="ACL2____WHY-BRR.html">why-brr</a>.</p> 
 
 <p>BRR Mode, Console Interrupts, and Subsidiary Prover Calls: If the system is 
 operating in <span class="v">brr</span> mode and you break into raw Lisp (as by causing a 
 console interrupt or happening upon a signaled Lisp error; see <a href="ACL2____BREAKS.html">breaks</a>), 
 you can return to the ACL2 top-level, outside any <span class="v">brr</span> environment, by 
 executing <span class="v">(</span><span class="tt"><a href="ACL2____ABORT_12.html">abort!</a></span><span class="v">)</span>.  Otherwise, the normal way to quit from 
 such a break (for example <span class="v">:q</span> in GCL, <span class="v">:reset</span> in Allegro CL, and 
 <span class="v">q</span> in CMU CL) will return to the innermost ACL2 read-eval-print loop, 
 which may or may not be the top-level of your ACL2 session!  In particular, if 
 the break happens to occur while ACL2 is within the <span class="v">brr</span> environment (in 
 which it is preparing to read <span class="tt"><a href="ACL2____BRR-COMMANDS.html">brr-commands</a></span>), the abort will merely 
 return to that <span class="v">brr</span> environment.  Upon exiting that environment, normal 
 theorem proving is continued (and the <span class="v">brr</span> environment may be entered 
 again in response to subsequent monitored rule applications).  Before 
 returning to the <span class="v">brr</span> environment, ACL2 ``cleans up'' from the interrupted 
 <span class="v">brr</span> processing.  However, it is not possible (given the current 
 implementation) to clean up perfectly.  This may have two side-effects. 
 First, the system may occasionally print the self-explanatory ``Cryptic BRR 
 Message 1'' (or 2), informing you that the system has attempted to recover 
 from an aborted <span class="v">brr</span> environment.  Second, it is possible that subsequent 
 <span class="v">brr</span> behavior in that proof will be erroneous because the cleanup was done 
 incorrectly.  The moral is that you should not trust what you learn from 
 <span class="v">brr</span> if you have interrupted and aborted <span class="v">brr</span> processing during the 
 proof.  Such ``clean up'' may also occur when you call the prover from within 
 the <span class="v">brr</span> environment (for example using <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span> or <span class="tt"><a href="ACL2____THM.html">thm</a></span>, or 
 even <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> or any other <a href="ACL2____EVENT.html">event</a> that invoke the prover), unless 
 you invoke <span class="v">:brr nil</span> before making that call.  These issues do not affect 
 the behavior or soundness of the theorem prover.</p>
</body>
</html>
