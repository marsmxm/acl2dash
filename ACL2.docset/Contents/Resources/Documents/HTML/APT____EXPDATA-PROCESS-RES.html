<html>
<head>
<meta charset="UTF-8">
<title>Expdata-process-res</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=APT____EXPDATA-PROCESS-RES">Click for Expdata-process-res in the Full Manual</a></h3>

<p>Process a result specification in the <span class="v">surjmap</span> input.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(expdata-process-res res m err-msg-preamble ctx state) 
   
(mv erp j state)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">m</span>  <font color="#606060">Guard <span class="v">(<a href="ACL2____POSP.html">posp</a> m)</span>.</font>
</dd> 
  <dd>
<span class="tt">err-msg-preamble</span>  <font color="#606060">Guard <span class="v">(<a href="ACL2____MSGP.html">msgp</a> err-msg-preamble)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">j</span>  <font color="#606060">Type <span class="v">(<a href="ACL2____POSP.html">posp</a> j)</span>.</font>
</dd> 
 
</dl></div> 
<p>Recall that <span class="v">m</span> is the number of results of <span class="v">old</span>.</p><p>We check that the result specification is a keyword <span class="v">:resultj</span>, 
     where <span class="v">j</span> is a positive integer not exceeding <span class="v">m</span>. 
     We return <span class="v">j</span>, if successful.</p><p>If <span class="v">m</span> is 1, we also accept the keyword <span class="v">:result</span>, 
     treating it the same as <span class="v">:result1</span>.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>expdata-process-res</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
     expdata-process-res
     (res m err-msg-preamble ctx state)
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____STATE.html">state</a>)))
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____POSP.html">posp</a> m) (<a href="ACL2____MSGP.html">msgp</a> err-msg-preamble))))
     (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'expdata-process-res))
          (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
          (<a href="ACL2____B_A2.html">b*</a> ((err-msg (<a href="ACL2____MSG.html">msg</a> "~@0 But ~x1 is none of those."
                             err-msg-preamble res))
               ((unless (<a href="COMMON-LISP____KEYWORDP.html">keywordp</a> res))
                (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a> ctx t 1 err-msg-preamble res))
               ((when (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP_____D3.html">=</a> m 1) (<a href="COMMON-LISP____EQ.html">eq</a> res :result)))
                (<a href="ACL2____VALUE.html">value</a> 1))
               (name (<a href="COMMON-LISP____SYMBOL-NAME.html">symbol-name</a> res))
               ((unless (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP_____E3.html">&gt;</a> (<a href="COMMON-LISP____LENGTH.html">length</a> name) 6)
                             (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____SUBSEQ.html">subseq</a> name 0 6) "RESULT")))
                (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a> ctx t 1 "~@0" err-msg))
               (j (<a href="STR____STRVAL.html">str::strval</a> (<a href="COMMON-LISP____SUBSEQ.html">subseq</a> name 6 (<a href="COMMON-LISP____LENGTH.html">length</a> name))))
               ((unless j)
                (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a> ctx t 1 "~@0" err-msg))
               ((unless (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> 1 j) (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> j m)))
                (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a> ctx t 1 "~@0" err-msg)))
              (<a href="ACL2____VALUE.html">value</a> j))))</pre> 
<p><b>Theorem: </b>posp-of-expdata-process-res.j</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     posp-of-expdata-process-res.j
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?erp ?j acl2::?state)
           (<a href="APT____EXPDATA-PROCESS-RES.html">expdata-process-res</a> res m err-msg-preamble ctx state)))
         (<a href="ACL2____POSP.html">posp</a> j))
     :rule-classes :rewrite)</pre> 

</body>
</html>
