<html>
<head>
<meta charset="UTF-8">
<title>Defcharset</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=STR____DEFCHARSET">Click for Defcharset in the Full Manual</a></h3>

<p>Define a recognizer for a particular set of characters.</p><p><span class="v">Defcharset</span> is a macro for introducing a <a href="STR____CHARSET-P.html">charset-p</a> and 
proving that it recognizes the correct characters.  </p> 
 
<h5>Example</h5> 
<pre class="code">(<a href="STR____DEFCHARSET.html">defcharset</a> whitespace
  (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____EQL.html">eql</a> x #\Newline)
      (<a href="COMMON-LISP____EQL.html">eql</a> x #\Space)
      (<a href="COMMON-LISP____EQL.html">eql</a> x #\Tab)))</pre> 
 
<p>This example introduces:</p> 
 
<ul> 
 
<li>
<span class="v">(whitespace-char-p x)</span>  a "slow" function for recognizing 
newline, space, and tab characters</li> 
 
<li>
<span class="v">(whitespace-chars)</span>  a <a href="STR____CHARSET-P.html">charset-p</a> that is proven to 
correspond to <span class="v">whitespace-char-p</span>,</li> 
 
<li>
<span class="v">(whitespace-charlist-p x)</span>  an ordinary <a href="STD____DEFLIST.html">std::deflist</a> to 
recognize lists whose every character satisfies <span class="v">whitespace-char-p</span>.</li> 
 
</ul> 
 
<h5>General Form</h5> 
<pre class="code">(<a href="STR____DEFCHARSET.html">defcharset</a> prefix criteria
  [:in-package-of package]
  [:parents ...]
  [:short ...]
  [:long ...]</pre> 
 
<p>All functions will be introduced in <span class="v">pkg</span>, determined as follows:</p> 
 
<ul> 
 
<li>If an <span class="v">:in-package-of</span> argument is provided, then the corresponding 
<span class="v">package</span> must be a symbol, and we will use its package.</li> 
 
<li>Otherwise, the package of <span class="v">prefix</span> will be used.</li> 
 
</ul> 
 
<p>The <span class="v">prefix</span> is a symbol that is used for name generation.  Some common 
examples would be <span class="v">whitespace</span>, <span class="v">alpha</span>, <span class="v">digit</span>, etc.</p> 
 
<p>The <span class="v">criteria</span> is some term involving the variable <span class="v">pkg::x</span>.  The 
criteria term may assume that <span class="v">x</span> is a character, and is responsible for 
determining whether <span class="v">x</span> is a member of the desired set.  Normally you should 
not worry about the efficiency of <span class="v">criteria</span>.  Although the term you write 
here <i>does</i> become part of recognizers like <span class="v">whitespace-char-p</span> and 
<span class="v">whitespace-charlist-p</span>, the actual character set, i.e., 
<span class="v">whitespace-chars</span>, is represented as a bit mask, and the speed of your 
<span class="v">criteria</span> term will not have any bearing on how fast it is to look up its 
bits.</p> 
 
<p>The <span class="v">:parents</span>, <span class="v">:short</span>, and <span class="v">:long</span> options are as in <a href="ACL2____DEFXDOC.html">defxdoc</a>, and allow you to provide documentation to the character recognizer, 
e.g., <span class="v">whitespace-char-p</span>.  The other functions are documented 
automatically.</p>
</body>
</html>
