<html>
<head>
<meta charset="UTF-8">
<title>Redefined-names</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____REDEFINED-NAMES">Click for Redefined-names in the Full Manual</a></h3>

<p>To collect the names that have been redefined</p><pre class="code">Example and General Forms:
(<a href="ACL2____REDEFINED-NAMES.html">redefined-names</a> state)</pre> 
 
 <p>This function collects names that have been redefined in the current ACL2 
 <a href="ACL2____STATE.html">state</a>.  <span class="v">:</span><span class="tt"><a href="ACL2____PROGRAM.html">Program</a></span> mode functions that were reclassified to 
 <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> functions are not collected, since such reclassification 
 cannot imperil soundness because it is allowed only when the new and old 
 definitions are identical.</p> 
 
 <p>Thus, if <span class="v">(<a href="ACL2____REDEFINED-NAMES.html">redefined-names</a> state)</span> returns <span class="v">nil</span> then no unsafe 
 definitions have been made, regardless of <span class="tt"><a href="ACL2____LD-REDEFINITION-ACTION.html">ld-redefinition-action</a></span>.  See 
 <a href="ACL2____LD-REDEFINITION-ACTION.html">ld-redefinition-action</a>.</p> 
 
 <p>WARNING: This function does not report names that are not explicitly 
 redefined in the current logical <a href="ACL2____WORLD.html">world</a>.  Consider for example:</p> 
 
 <pre class="code">(<a href="ACL2____ENCAPSULATE.html">encapsulate</a>
 ()
 (<a href="COMMON-LISP____DEFUN.html">defun</a> foo () t)
 (<a href="ACL2____LOCAL.html">local</a> (<a href="COMMON-LISP____DEFUN.html">defun</a> foo () nil))
 (<a href="ACL2____DEFTHM.html">defthm</a> foo-prop
   (<a href="COMMON-LISP____EQUAL.html">equal</a> (foo) nil)
   :rule-classes nil))</pre> 
 
 <p>If you attempt to call <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> in the resulting world, ACL2 
 will appropriately refuse to do the certification:</p> 
 
 <pre class="code">ACL2 Error in (<a href="ACL2____CERTIFY-BOOK.html">CERTIFY-BOOK</a> "foo" ...):  At least one command in the
current ACL2 world was executed while the value of state global variable
'LD-REDEFINITION-ACTION was not nil:

  (<a href="COMMON-LISP____DEFUN.html">DEFUN</a> FOO NIL T)

Certification is therefore not allowed in this world.  You can use
:ubt to undo back through this command; see :DOC ubt.</pre> 
 
 <p>However, since the local redefinition of <span class="v">foo</span> is gone in the 
 certification world, <span class="v">(<a href="ACL2____REDEFINED-NAMES.html">redefined-names</a> state)</span> will return <span class="v">nil</span>. 
 (Technical aside, to be ignored except for those interested in implementation 
 details: ACL2 inhibits <span class="v">certify-book</span> in this example because the 
 definition of <span class="v">foo</span> is the value of <span class="v">(global-val 'redef-seen (<a href="ACL2____W.html">w</a>
 state))</span>.)</p>
</body>
</html>
