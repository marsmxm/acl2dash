<html>
<head>
<meta charset="UTF-8">
<title>Atj-pre-translation</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-PRE-TRANSLATION">Click for Atj-pre-translation in the Full Manual</a></h3>

<p>Pre-translation performed by ATJ, as part of code generation.</p><p>As mentioned in <a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a>, 
     prior to generating Java code, 
     ATJ performs an ACL2-to-ACL2 pre-translation. 
     Currently, this pre-translation consists of the following steps. 
     The first three steps apply to both the deep and the shallow embedding; 
     the others apply only to the shallow embedding.</p><ol>
<li>We remove <span class="tt"><a href="ACL2____RETURN-LAST.html">return-last</a></span>. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-REMOVE-RETURN-LAST.html">atj-pre-translation-remove-return-last</a>.</li>
<li>We remove dead <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> branches. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-REMOVE-DEAD-IF-BRANCHES.html">atj-pre-translation-remove-dead-if-branches</a>.</li>
<li>We remove the unused lambda-bound variables. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-UNUSED-VARS.html">atj-pre-translation-unused-vars</a>.</li>
<li>We remove the trivial lambda-bound variables. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-TRIVIAL-VARS.html">atj-pre-translation-trivial-vars</a>.</li>
<li>We replace <span class="tt"><a href="COMMON-LISP____LIST.html">list</a></span> calls with <span class="tt"><a href="ACL2____MV.html">mv</a></span> calls 
      in functions that return multiple results. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-MULTIPLE-VALUES.html">atj-pre-translation-multiple-values</a>.</li>
<li>We check (on the ACL2 code translated to Java) 
      that the generated Java code does not use AIJ types. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-NO-AIJ-TYPES-ANALYSIS.html">atj-pre-translation-no-aij-types-analysis</a>.</li>
<li>We annotate terms with ATJ type information. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-TYPE-ANNOTATION.html">atj-pre-translation-type-annotation</a>.</li>
<li>We perform a single-threadedness analysis of the Java primitive arrays, 
      but only if <span class="v">:guards</span> is <span class="v">t</span>. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-ARRAY-ANALYSIS.html">atj-pre-translation-array-analysis</a>.</li>
<li>We mark the lambda-bound variables 
      that can be reused and destructively updated in Java. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-VAR-REUSE.html">atj-pre-translation-var-reuse</a>.</li>
<li>We rename variables 
      so that their names are valid Java variable names 
      and so that different variables with the same name are renamed apart, 
      unless they have been marked for reuse in the previous step. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-VAR-RENAMING.html">atj-pre-translation-var-renaming</a>.</li>
<li>We replace calls of the form <span class="v">(<a href="COMMON-LISP____IF.html">if</a> a b nil)</span> 
      with calls of the form <span class="v">(<a href="COMMON-LISP____AND.html">and</a> a b)</span>. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-CONJUNCTIONS.html">atj-pre-translation-conjunctions</a>.</li>
<li>We replace calls of the form <span class="v">(<a href="COMMON-LISP____IF.html">if</a> a a b)</span> 
      with calls of the form <span class="v">(<a href="COMMON-LISP____OR.html">or</a> a b)</span>. 
      See <a href="JAVA____ATJ-PRE-TRANSLATION-DISJUNCTIONS.html">atj-pre-translation-disjunctions</a>.</li>
</ol>
</body>
</html>
