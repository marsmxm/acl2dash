<html>
<head>
<meta charset="UTF-8">
<title>Keyword-commands</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____KEYWORD-COMMANDS">Click for Keyword-commands in the Full Manual</a></h3>

<p>How keyword commands like <span class="v">:u</span> and <span class="v">:pbt</span> are processed</p><pre class="code">Examples:
user type-in                 form evaluated
:pc 5                        (<a href="ACL2____PC.html">ACL2::PC</a> '5)
:pcs app rev                 (<a href="ACL2____PCS.html">ACL2::PCS</a> 'app 'rev)
:length (1 2 3)              (<a href="COMMON-LISP____LENGTH.html">ACL2::LENGTH</a> '(1 2 3))
:quit                        (<a href="ACL2____QUIT.html">ACL2::QUIT</a>) ; Note: avoid optional argument</pre> 
 
 <p>When a keyword, <span class="v">:key</span>, is read as a command, ACL2 determines whether 
 the symbol with the same name in the <span class="v">"ACL2"</span> package, <span class="v">acl2::key</span>, is 
 a function or simple macro of n arguments.  If so, ACL2 reads <span class="v">n</span> more 
 objects, <span class="v">obj1</span>, ..., <span class="v">objn</span>, and then acts as though it had read the 
 following form (for a given <span class="v">key</span>):</p> 
 
 <pre class="code">(ACL2::key 'obj1 ... 'objn)</pre> 
 
 <p>Thus, by using the keyword command hack you avoid typing the parentheses, 
 the <span class="v">"ACL2"</span> package name, and the quotation marks.</p> 
 
 <p>See <a href="ACL2____LD-KEYWORD-ALIASES.html">ld-keyword-aliases</a> for how to customize this behavior.</p> 
 
 <p>Note the generality of this hack.  Any function or macro in the 
 <span class="v">"ACL2"</span> package can be so invoked, not just ``commands.''  Indeed, there 
 is no such thing as a distinguished class of commands.  Users may take 
 advantage of the keyword command hack by defining functions and macros in the 
 <span class="v">"ACL2"</span> package.</p> 
 
 <p>The one caveat is that when the keyword hack is used to invoke a macro, 
 only the required arguments for that macro are read before calling that macro: 
 none of the <span class="v">&amp;optional</span>, <span class="v">&amp;rest</span>, <span class="v">&amp;body</span>, or <span class="v">&amp;key</span> arguments are 
 read for that call.  The macro is thus called with only its required 
 arguments.  The following log illustrates this caveat.</p> 
 
 <pre class="code">ACL2 !&gt;:set-iprint t

ACL2 Query (:SET-IPRINT):  Action  (T, NIL, RESET, RESET-ENABLE, SAME,
Q or ?):
ACL2 Observation in SET-IPRINT:  Iprinting has been enabled.
ACL2 !&gt;</pre> 
 
 <p>What happened?  First, the command <span class="v">:set-iprint</span> was read.  Since the 
 macro <span class="tt"><a href="ACL2____SET-IPRINT.html">set-iprint</a></span> has no required arguments, the ACL2 evaluator was 
 then called on the form <span class="v">(<a href="ACL2____SET-IPRINT.html">set-iprint</a>)</span>, that is, calling the macro on no 
 arguments.  <span class="v">Set-iprint</span> is defined to query the ACL2 user when its first 
 argument is omitted.  The log shows that query, which is set up to read the 
 next form from the input stream.  That form was available immediately: the 
 form <span class="v">t</span> that had been supplied by the user.  So the query returned 
 immediately and the <span class="v">set-iprint</span> call was completed.</p>
</body>
</html>
