<html>
<head>
<meta charset="UTF-8">
<title>Note-8-4-books</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-8-4-BOOKS">Click for Note-8-4-books in the Full Manual</a></h3>

<p>Release notes for the ACL2 Community Books for ACL2 8.4</p><p>The following is a brief summary of 
     changes made to the <a href="ACL2____COMMUNITY-BOOKS.html">community-books</a> 
     between the releases of ACL2 8.3 and 8.4.</p><p>See also <a href="ACL2____NOTE-8-4.html">note-8-4</a> for the changes made to ACL2 itself. 
     For additional details, 
     you may also see the raw <a href="https://github.com/acl2/acl2/commits/master" target="_blank"><nobr>commit log<img src="../Icon_External_Link.png" title="External link to https://github.com/acl2/acl2/commits/master"></nobr></a>.</p><h3>New Libraries</h3><h4>ACL2 Arrays Library</h4><p>A library to support reasoning about programs that use ACL2 
   arrays (e.g., those satisfying <span class="tt"><a href="ACL2____ARRAY1P.html">array1p</a></span>).  Includes operations that make 
   such arrays exapandable.  Includes a tool for defining typed ACL2 arrays.  See 
   <span class="v">[books]/kestrel/acl2-arrays/</span>.</p><h4><a href="ACL2PL____ACL2-PROGRAMMING-LANGUAGE.html">ACL2 Programming Language Library</a></h4><p>This is a library about the ACL2 programming language. 
     It includes a formalization of its evaluation semantics. 
     (This is just the work of this library's author, 
     not an official semantics of the ACL2 programming language; 
     see <a href="ACL2____EVALUATION.html">evaluation</a> for an official description 
     of the ACL2 evaluation semantics.)</p><h4>Algorithm Theories Library</h4><p>A library has been started to collect algorithm schemes, starting 
   with a scheme for a generic tail recursive function. See 
   <span class="v">[books]/kestrel/algorithm-theories/</span>.</p><h4>Arrays-2D Library</h4><p>A formalization of two-dimensional arrays as lists of lists (both 
   with arbitrary elements and with elements that are known to be bit- 
   vectors).  See <span class="v">[books]/kestrel/arrays-2d/</span>.</p><h4><a href="BIGMEM____BIGMEM.html">Bigmem</a></h4><p>A library that defines a <span class="v">2^64</span>-byte memory model that is 
  logically a record but provides array-like performance during 
  execution.</p><h4><a href="C____C.html">C Library</a></h4><p>This is a library about the C language. 
     It contains a formalization of (some aspects of) the C language 
     and ATC (`ACL2 To C'), a C code generator for ACL2.</p><h5><a href="C____ATC.html">ATC, the C Code Generator for ACL2</a></h5><p>This is a proof-generating C code generator for ACL2. 
     Besides the C code, it also generates proofs (i.e. ACL2 theorems) 
     asserting the correctness of the C code.</p><p>This currently covers a relatively limited subset of ACL2 and C. 
     The coverage is being extended.</p><h5><a href="C____LANGUAGE.html">C Language Formalization</a></h5><p>This currently covers just 
     character sets, bytes, and keywords. 
     The coverage is being extended.</p><p>A preliminary formalization of 
     the static and dynamic semantics of a subset of C 
     can be found as part of <a href="C____ATC.html">ATC</a>. Some of that material may be moved here in the future.</p><h4><a href="ISAR____ISAR.html">Isar Library</a></h4><p>This is a library to support proofs in the style of Isabelle's 
     Isar (Intelligent Semi-Automated Reasoning) language. 
     It is just a small step in that direction for now.</p><h4><a href="JSON____JSON.html">JSON Library</a></h4><p>This is a library about <a href="json.org" target="_blank"><nobr>JSON<img src="../Icon_External_Link.png" title="External link to json.org"></nobr></a>. 
     It currently contains an initial abstract syntax of JSON, 
     consisting of <a href="ACL2____FTY.html">fixtypes</a>; 
     it also contains some initial operations on this abstract syntax, 
     as well as a translator from the output of the parser at 
     <span class="v">[books]/kestrel/json-parser/</span> to the abstract syntax.</p><h4>JSON Parser</h4><p>A JSON parser implemented in ACL2, including Unicode support.  See 
   <span class="v">[books]/kestrel/json-parser/</span>.</p><h4>JVM Library</h4><p>Kestrel's model of the Java Virtual Machine, including support for 
   code proofs and lifting.  Works with Kestrel's Axe toolkit.  Also includes a 
   class file parser.  See <span class="v">[books]/kestrel/jvm/</span>.</p><h4>Number Theory Library</h4><p>A library about number theory, dealing with notions like 
   primality, divisibility, quadratic residues, etc.  Includes the defprime and 
   defprime-alias tools to introduce standard reasoning machinery about 
   primes.  Includes a proof of the Tonelli-Shanks Modular Square Root Algorithm. 
   See <span class="v">[books]/kestrel/number-theory/</span>.</p><h4><a href="OBAG____OBAGS.html">Ordered Bags Library</a></h4><p>This is a library that represents bags (a.k.a. multisets) 
     as non-strictly-ordered lists. 
     Thus, they capture (up to isomorphism) the mathematical notion of bag; 
     in particular, bag equality is <span class="tt"><a href="COMMON-LISP____EQUAL.html">equal</a></span>.</p><p>This is analogous to <a href="ACL2____STD_F2OSETS.html">the library of ordered sets</a> and to <a href="OMAP____OMAPS.html">the library of ordered maps</a>.</p><h4><a href="MIMC____MIMC.html">MiMC Library</a></h4><p>This is a library that formally specifies and implements 
     the Minimal Multiplicative Complexity (MiMC) hash function 
     as used by <a href="ZKSEMAPHORE____SEMAPHORE.html">Ethereum's Semaphore</a>. This is currently under the <a href="CRYPTO____CRYPTOGRAPHY.html">cryptographic library</a>.</p><h4><a href="PFCS____PRIME-FIELD-CONSTRAINT-SYSTEMS.html">PFCS (Prime Field Constraint System) Library</a></h4><p>This is a library that introduces and formalizes 
     the notion of PFCS (Prime Field Constraint Systems), 
     which generalize R1CS and possibly other constraint systems 
     for zero-knowledge proofs. 
     This is currently under the <a href="CRYPTO____CRYPTOGRAPHY.html">cryptographic library</a>.</p><h4>Random Library</h4><p>A lightweight library containing some simple random number 
   generators.  See <span class="v">[books]/kestrel/random/</span>.</p><h4><a href="EXLD____EXECLOADER.html">Read and Parse ELF/Mach-O Binary Files</a></h4><p>This library can be used to read in sections of ELF/Mach-O files into ACL2. 
     An older version of these books used to live in the <span class="tt"><a href="ACL2____X86ISA.html">x86isa</a></span> 
     library.</p><h4>Sequences Library</h4><p>A library for defining higher-order operations over lists (defforall, 
   defexists, defmap, and deffilter).  See <span class="v">[books]/kestrel/sequences/</span>.</p><h4><a href="SIMPL-IMP____IMP-LANGUAGE.html">Simple Programming Language Imp</a></h4><p>This is a library about a simple programming language, called Imp, 
     found (with small variations) in a variety of didactic resources. 
     This library formalizes syntax and semantics of this language, 
     and provides a program-mode interpreter of Imp programs. 
     This library may be extended with examples of 
     formal verification of Imp programs in ACL2.</p><h4><a href="SOLIDITY____SOLIDITY.html">Solidity Library</a></h4><p>This is a library about 
     the Solidity language for Ethereum smart contracts. 
     It includes a formalization of some aspects of the language. 
     There are plans to extend this to cover more aspects.</p><h4>Strings-Light Library</h4><p>A lightweight library about strings, including changing case, 
   splitting strings and character lists, etc.  See 
   <span class="v">[books]/kestrel/strings-light/</span>.</p><h4>Terms-Light Library</h4><p>A lightweight library of operations on terms (e.g., finding free 
   and bound vars and applying variable substitutions).  See 
   <span class="v">[books]/kestrel/terms-light/</span>.</p><h4>Typed-Lists-Light Library</h4><p>A lightweight library dealing with lists of objects of particular 
   types (rather than lists in general).  For example, lists of integers, of 
   symbols, of pseudo-terms, etc.  See 
   <span class="v">[books]/kestrel/typed-lists-light/</span>.</p><h4>Unicode-Light Library</h4><p>A lightweight library about Unicode, dealing with UTF-8 encoding and 
   UTF-16 surrogate code points.  See <span class="v">[books]/kestrel/unicode-light/</span>.</p><h4>Untranslated Term Library</h4><p>A new library for manipulating untranslated terms, which allows 
   structure to be maintained that would be lost by translation.  See 
   <span class="v">[books]/kestrel/untranslated-terms/</span>.</p><h4>X86 Library (Kestrel)</h4><p>This library contains Kestrel's x86 proof machinery, which complements the 
   X86ISA model.  This library focuses on readability of proof terms and 
   supporting the lifting of x86 code into logic with the Axe toolkit.  It also 
   includes parsers for PE and Mach-O executables.  See 
   <span class="v">[books]/kestrel/x86/</span>.</p><h4><a href="YUL____YUL.html">Yul Library</a></h4><p>This is a library about the Yul intermediate language, 
     currently used in the Ethereum Solidity compiler 
     but designed for more general use. 
     This library includes a formalization of some aspects of the language. 
     There are plans to extend this to cover more aspects.</p><h4><a href="ZCASH____ZCASH.html">Zcash Library</a></h4><p>This is a library about the Zcash blockchain currency, 
     which is based on zero-knowledge proofs.</p><h3>Changes to Existing Libraries</h3><h4><a href="ABNF____ABNF.html">ABNF Library</a></h4><p>The proofs of correctness of the grammar parser 
     have been moved to a separate file, 
     so that including the parser 
     does not necessarily also includes the proofs, 
     and so that book certification can be faster.</p><p>A new file and XDOC topic has been started 
     to collect parsing primitives, 
     i.e. parsing functions from the ABNF grammar parser 
     that are more generally useful than that parser. 
     These parsing primitives may be useful to write parsers 
     for other languages specified by ABNF grammars 
     (besides ABNF itself, which is what the grammar parser does).</p><h4>Alists-Light Library</h4><p>New rules and books have been added, including books on 
   <span class="v">alistp</span>, <span class="v">clear-key</span>, and <span class="v">keep-pairs</span>. See 
   <span class="v">[books]/kestrel/alists-light/</span>.</p><h4><a href="APT____APT.html">APT Library</a></h4><p>An <a href="APT____DEFAULTS-TABLE.html">APT defaults table</a> has been added, analogous to the <a href="ACL2____ACL2-DEFAULTS-TABLE.html">ACL2 defaults table</a> but specific to APT. 
     Utilities to set and retrieve a number of defaults have also been added.</p><p>Some XDOC constructors have been added, and others have been improved. 
     See <a href="XDOC____APT-CONSTRUCTORS.html">xdoc::apt-constructors</a>.</p><p>Some input processors have been added, and others have been improved. 
     See <a href="APT____INPUT-PROCESSORS.html">apt::input-processors</a>.</p><p>A new transformation has been added: 
     <span class="tt"><a href="APT____SCHEMALG.html">apt::schemalg</a></span>, the `schematic algorithm transformation'. 
     This transformation applies algorithm schemas 
     to non-executable specifications: 
     given a functional specification 
     (e.g. consisting of an input/output relation, 
     possibly as a precondition and postcondition), 
     this transformation partially determines the solution 
     and generates sub-specifications that, once recursively solve, 
     provide a solution to the initial specification. 
     In particular, divide-and-conquer algorithm schemas are supported: 
     the schema is a recursive function that 
     decompose the input, 
     solve the sub-input(s), 
     and composes the sub-output(s) to obtain an output. 
     This schematic algorithm transformation is currently realized 
     using <a href="SOFT____SOFT.html">SOFT</a> to represent 
     specifications and algorithm schemas, 
     with specifications as second-order functions 
     and refinement as backward implication, 
     as described in the ACL2-2015 Workshop paper on SOFT. 
     In the future, this transformation may be extended to represent 
     specifications and algorithm schemas via the built-in <span class="tt"><a href="ACL2____APPLY_42.html">apply$</a></span>.</p><p>A new transformation has been added: 
     <span class="tt"><a href="APT____SOLVE.html">apt::solve</a></span>, the `solving transformation'. 
     This attempts to directly solve a program synthesis problem, 
     expressed as a constraint problem, 
     via inference methods like rewriting, SMT solving, SAT solving, etc. 
     Currently two rewriting methods are supported, 
     along with a manual method in which the solution is supplied 
     (which still automates some event and proof generation); 
     support for more methods will be added.</p><p>A new transformation has been added: 
     <span class="tt"><a href="APT____EXPDATA.html">apt::expdata</a></span>, the `expanded data transformation'. 
     This can realize data type refinements where 
     each instance of the old data may be represented by 
     multiple instances of the new data, 
     according to a surjective mapping from the new to the old data. 
     These are more general data type refinements than <span class="tt"><a href="APT____ISODATA.html">apt::isodata</a></span>, 
     but the transformation is not inherently reversible 
     (e.g. for raising the level of abstraction in program analysis).</p><p>The <span class="tt"><a href="APT____PROPAGATE-ISO.html">apt::propagate-iso</a></span> transformation has been added.</p><p>A new transformation has been added: <span class="tt"><a href="APT____SIMPLIFY.html">apt::simplify</a></span>, the 
     `simplification transformation'.  It transforms a given definition or 
     <a href="ACL2____TERM.html">term</a> using ACL2 reasoning, in particular by applying the 
     currently (or specified) <a href="ACL2____ENABLE.html">enable</a>d <a href="ACL2____REWRITE.html">rewrite</a> rules.  The result 
     is generally simpler than the input but logically equivalent to it.</p><p>The <span class="tt"><a href="APT____ISODATA.html">apt::isodata</a></span> transformation has been improved as follows:</p><ul>
<li>The <span class="v">:thm-name</span> input has been replaced 
      with a new <span class="v">:old-to-new-name</span> input, 
      which, when absent, is taken from the APT defaults table.</li>
<li>The <span class="v">:thm-enable</span> input has been replaced 
      with a new <span class="v">:old-to-new-enable</span> input, 
      which, when absent, is taken from the APT defaults table.</li>
<li>A new <span class="v">:new-to-old-name</span> input has been added 
      to specify the name of the theorem <span class="v">new-to-old</span> 
      that rewrites calls of the new functions 
      to terms involving calls of the old function. 
      This theorem is now generated along with the converse one. 
      If the <span class="v">:new-to-old-name</span> input is absent, 
      it is taken from the APT defaults table.</li>
<li>A new <span class="v">:new-to-old-enable</span> input has been added 
      to specify whether the <span class="v">new-to-old</span> theorem is enabled or not. 
      If this input is absent, it is taken from the APT defaults table.</li>
<li>The <span class="v">newp-of-new</span> theorem, 
      which asserts that the new function maps 
      arguments in the new representation to results in the new representation, 
      is now generated not only locally to support some generated proofs, 
      but also non-locally, so that it remains in the ACL2 history. 
      This theorem is only generated if some result is being transformed.</li>
<li>A new <span class="v">:newp-of-new-name</span> input has been added 
      to specify the name of the <span class="v">newp-of-new</span> theorem. 
      This input is allowed only if some result is being transformed, 
      because otherwise no <span class="v">newp-of-new</span> theorems is generated.</li>
<li>A new <span class="v">:newp-of-new-enable</span> input has been added 
      to specify whether the <span class="v">newp-of-new</span> theorem is enabled or not. 
      This input is allowed only if some result is being transformed, 
      because otherwise no <span class="v">newp-of-new</span> theorems is generated.</li>
</ul><p>The <span class="tt"><a href="APT____RESTRICT.html">apt::restrict</a></span> transformation has been improved as follows:</p><ul>
<li>The transformation has been simplified 
      by removing the <span class="v">:non-executable</span> option, 
      which does not seem necessary or useful. 
      The new function is marked non-executable 
      if and only if the target function is.</li>
<li>The transformation has been made more widely or readily applicable 
      by removing the applicability condition that required 
      the restriction predicate to be boolean-valued. 
      The new function now uses <span class="tt"><a href="ACL2____MBT_42.html">mbt$</a></span> instead of <span class="tt"><a href="ACL2____MBT.html">mbt</a></span>, 
      thus obviating the need for the removed applicability condition.</li>
<li>The <span class="v">:thm-name</span> and <span class="v">:thm-enable</span> inputs have been renamed to 
      <span class="v">:old-to-new-name</span> and <span class="v">:old-to-new-enable</span>, 
      in line with other transformations. 
      Besides the name change, these two inputs now support 
      the APT defaults table.</li>
<li>A new <span class="v">:new-to-old-name</span> input has been added 
      to specify the name of the theorem <span class="v">new-to-old</span> 
      that rewrites calls of the new functions 
      to terms calls of the old function. 
      This theorem is now generated along with the converse one. 
      If the <span class="v">:new-to-old-name</span> input is absent, 
      it is taken from the APT defaults table.</li>
<li>A new <span class="v">:new-to-old-enable</span> input has been added 
      to specify whether the <span class="v">new-to-old</span> theorem is enabled or not. 
      If this input is absent, it is taken from the APT defaults table.</li>
</ul><p>The <span class="tt"><a href="APT____TAILREC.html">apt::tailrec</a></span> transformation has been improved as follows:</p><ul>
<li>The transformation has been extended with a new variant, 
      <span class="v">:assoc-alt</span>, which is an alternative associative variant.</li>
<li>The transformation has been simplified 
      by removing the <span class="v">:non-executable</span> option, 
      which does not seem necessary or useful. 
      The new function is marked non-executable 
      if and only if the target function is; 
      the wrapper is never marked non-executable.</li>
<li>The generated names for the new and wrapper functions, 
      when <span class="v">:new-name</span> is <span class="v">:auto</span> 
      and/or <span class="v">:wrapper-name</span> is <span class="v">:auto</span>, 
      have been improved. 
      If the target function is <span class="v">f{i}</span> (where we view <span class="v">f</span> as <span class="v">f{0}</span>), 
      now the new function is <span class="v">f{j}</span> if no wrapper is generated; 
      otherwise, the new function is <span class="v">f-aux{j}</span> 
      and the wrapper is <span class="v">f{j}</span>. 
      Here <span class="v">j</span> is the smallest integer above <span class="v">i</span> 
      that results in fresh function names. 
      Note that, in this way, these automatically generated names 
      are always numbered names, 
      which facilitates the application of further transformations.</li>
<li>The default of the <span class="v">:wrapper</span> input 
      has been changed from <span class="v">t</span> to <span class="v">nil</span>. 
      The rationale is that not generating the wrapper is expected to be 
      more frequent than generating it.</li>
<li>Now the <span class="v">:wrapper-enable</span> input, if absent, is taken from the <a href="APT____DEFAULTS-TABLE.html">APT defaults table</a>.</li>
<li>An <span class="v">:accumulator</span> input has been added to optinally specify 
      the name of the accumulator argument of the new function.</li>
<li>The theorem that rewrites the target function 
      in terms of the new function 
      is now always generated, regardless of the <span class="v">:wrapper</span> input. 
      If <span class="v">:wrapper</span> is <span class="v">t</span>, 
      the theorem that rewrites the target function 
      in terms of the wrapper function 
      is also generated.</li>
<li>The <span class="v">:thm-name</span> input has been replaced with 
      two new inputs <span class="v">:old-to-new-name</span> and <span class="v">:old-to-wrapper-name</span>, 
      which individually control the names of the theorems that rewrite 
      the target function in terms of the new or wrapper function. 
      These new inputs, if absent, take their values from the <a href="APT____DEFAULTS-TABLE.html">APT defaults table</a>.</li>
<li>The <span class="v">:thm-enable</span> input has been replaced with 
      two new inputs <span class="v">:old-to-new-enable</span> and <span class="v">:old-to-wrapper-enable</span>, 
      which individually control the enablement of the theorems that rewrites 
      the target function in terms of the new or wrapper function. 
      These new inputs, if absent, take their values from the <a href="APT____DEFAULTS-TABLE.html">APT defaults table</a>.</li>
<li>Now the transformation also generates a theorem 
      that rewrites the new function in terms of the old function. 
      The name and enablement of this theorem are controlled 
      by two new inputs <span class="v">:new-to-old-name</span> and <span class="v">:new-to-old-enable</span>. 
      These new inputs, if absent, take their values from the <a href="APT____DEFAULTS-TABLE.html">APT defaults table</a>.</li>
<li>Now the transformation also generates a theorem 
      that rewrites the wrapper function in terms of the old function 
      (when the <span class="v">:wrapper</span> input is <span class="v">t</span>). 
      The name and enablement of this theorem are controlled 
      by two new inputs 
      <span class="v">:wrapper-to-old-name</span> and <span class="v">:wrapper-to-old-enable</span>. 
      These new inputs, if absent, take their values from the <a href="APT____DEFAULTS-TABLE.html">APT defaults table</a>.</li>
<li>The heuristics for inferring the domain of the binary operator 
      (when the <span class="v">:domain</span> input is, generally by default, <span class="v">:auto</span>) 
      have been extended to infer more cases automatically.</li>
<li>The target function's <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> body, 
      after translation and <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span> expansion, 
      can now have a recursive `then' branch and a non-recursive `else' branch. 
      Before, the `then' branch had to be the non-recursive one 
      and the `else' branch had to be the recursive one. 
      This makes the transformation more widely applicable.</li>
</ul><p>A file <span class="v">[books]/kestrel/apt/tailrec-examples.lisp</span> has been added. 
     It contains examples of uses of <span class="tt"><a href="APT____TAILREC.html">apt::tailrec</a></span>, 
     with explanatory comments. 
     This could serve as a preliminary tutorial.</p><p>New design notes about specifications and refinements have been added, 
     along with a manual page that describes various forms of specifications.</p><p>A variety of APT-related utilities have been added, including <span class="v">deftransformation</span>, which 
     can be used to generate transformations (taking care of much of the boilerplate code).</p><h4>Arithmetic-Light Library</h4><p>Many new rules and books have been added, including books on 
   <span class="v">integer-length</span> <span class="v">ceiling-of-lg</span>, evenness and oddness, <span class="v">truncate</span>, 
   <span class="v">rem</span>, <span class="v">ash</span>, <span class="v">min</span>, <span class="v">max</span>, <span class="v">&lt;=</span>, <span class="v">abs</span>, and <span class="v">natp</span>. 
   Commonly used rules about arithmetic types have been collected, and a 
   utility has been added to prevent calls of <span class="v">expt</span> on huge exponents.  See 
   <span class="v">[books]/kestrel/arithmetic-light/</span>.</p><h4>Axe Toolkit</h4><p>Major additions have been made to the open-source Axe toolkit, 
   which now includes most of Axe.  The library now includes Axe's connection 
   to the STP solver as well as machinery to make customized Axe rewriters and 
   provers.  A basic (general-purpose) prover and rewriter are included, as are 
   a legacy prover and rewriter.  Utilities to unroll specifications through 
   rewriting are included, as is the Axe Tactic Prover.  Many rules that have 
   been useful in Axe proofs are also included.  See <span class="v">[books]/kestrel/axe/</span>.</p><p>A toolkit for using Axe to reason about JVM code has been added. 
   It includes utilities to lift JVM code into logic.  A Formal Unit Tester 
   tool is also included, to support small solver-backed proofs about bounded 
   executions of programs.  See <span class="v">[books]/kestrel/axe/jvm/</span>.</p><p>A toolkit for using Axe to reason about x86 code has been added. 
   It includes utilities to lift x86 code into logic. See 
   <span class="v">[books]/kestrel/axe/x86/</span>.</p><p>A toolkit for using Axe to reason about R1CSes has been added.  It 
   includes utilities to lift R1CSes into logic and verify them.  See 
   <span class="v">[books]/kestrel/crypto/r1cs/tools/</span>.</p><h4>Booleans Library</h4><p>New rules and defcongs have been added.  See 
   <span class="v">[books]/kestrel/booleans/</span>.</p><h4>BV Library</h4><p>Extensive additions have been made, including over 1000 new rules.  Books 
    have been added covering many more BV operations, including subtraction, 
    arithmetic negation, multiplicaton, shifts, bitwise <span class="v">OR</span> and <span class="v">AND</span>, 
    logical negation, signed and unsigned comparisons, signed and unsigned 
    division and remainder, trimming, sign extension, various single-bit 
    operations, bit-vector-valued conditionals, converting between bits and 
    booleans, recognizing bits and (signed and unsigned) bytes, repeating a 
    bit, and counting the number of 1 bits.  Rules have been added to 
    characterize signed addition overflow and underflow and to turn BV ops into 
    more common or more idiomatic operations.  A formalization of one's 
    complement numbers and addition has been added.  Various syntactic 
    functions have been added for BV-valued terms.  See 
    <span class="v">[books]/kestrel/bv/</span>.</p><h4>BV-Lists Library</h4><p>Many new rules and books have been added.  New books 
   include ones about <span class="v">bv-arrayp</span>, <span class="v">bv-array-read</span>, <span class="v">bv-array-write</span>, 
   <span class="v">all-all-unsigned-byte-p</span>, <span class="v">width-of-widest-int</span>, <span class="v">bvnot-list</span>, 
   <span class="v">getbit-list</span>, <span class="v">map-slice</span>, <span class="v">bvplus-list</span>, <span class="v">logext-list</span>, 
   <span class="v">bv-nth</span>, <span class="v">map-packbv</span>, <span class="v">all-signed-byte-p</span>, conversions between 
   lists and bv-arrays, <span class="v">packbv-little</span>, and <span class="v">byte-listp</span>.  Utilities 
   have been added that deal with about patterns in the elements of BV lists. 
   See <span class="v">[books]/kestrel/bv-lists/</span></p><h4><a href="CRYPTO____CRYPTOGRAPHY.html">Cryptographic Library</a></h4><h5>BLAKE Library</h5><p>Formal specifications of the BLAKE2s, BLAKE2s-extended, and 
   BLAKE-256 hash functions have been added. See 
   <span class="v">[books]/kestrel/crypto/blake/</span>.</p><h5><a href="ECURVE____ELLIPTIC-CURVES.html">Elliptic Curve Library</a></h5><p>The formalization of <a href="ECURVE____SHORT-WEIERSTRASS-CURVES.html">short Weierstrass curves</a> has been extended and improved.</p><p>A formalization of <a href="ECURVE____TWISTED-EDWARDS.html">twisted Edwards curves</a> has been added.</p><p>A formalization of <a href="ECURVE____MONTGOMERY.html">Montgomery curves</a> has been added.</p><p>A formalization of the <a href="ECURVE____BIRATIONAL-MONTGOMERY-TWISTED-EDWARDS.html">birational equivalence between 
                     Montgomery and twisted Edwards curves</a> has been added.</p><p>The file 
     <span class="v">[books]/kestrel/crypto/ecurve/bls12-377-domain-parameters.lisp</span> 
     has been added. 
     It introduced some parameters of the BLS12-377 elliptic curve.</p><p>A formalization of the <a href="ECURVE____EDWARDS-BLS12.html">Edwards BLS12 elliptic curve</a> has been added.</p><h5><a href="R1CS____R1CS.html">Rank-1 Constraint Systems (R1CS)</a></h5><p>A formal semantics for rank-1 constraint systems (R1CSes) has been 
   added.  These are often used by zero-knowledge proofs.  Extensive reasoning 
   support for reasoning about R1CSes has also been added, including verified R1CS 
   gadgets and support for applying the Axe toolkit.</p><h4><a href="ACL2____ERROR-CHECKING.html">Error Checking Library</a></h4><p>This library is being moved 
     from <span class="v">[books]/kestrel/utilities/error-checking/</span> 
     to <span class="v">[books]/kestrel/error-checking/</span>. 
     It is also being refactored and improved in the process.</p><h4><a href="ETHEREUM____ETHEREUM.html">Ethereum Library</a></h4><p>Some theorems about hex-prefix encoding have been added.</p><p>A sub-library for the Semaphore gadget has been added.  This includes 
    various specifications and proofs of Semaphore-related R1CSes, including a 
    mixing function from BLAKE2s and 3 variants of the MiMC hash function.  It 
    also includes Semaphore-specialized Axe tools to lift R1CSes into logic and 
    verify them.</p><h4><a href="ACL2____EVENT-MACROS.html">Event Macros Library</a></h4><p>The utilities 
     <span class="tt"><a href="ACL2____CW-EVENT.html">cw-event</a></span>, 
     <span class="tt"><a href="ACL2____FAIL-EVENT.html">fail-event</a></span>, 
     <span class="tt"><a href="ACL2____MAKE-EVENT-TERSE.html">make-event-terse</a></span>, and 
     <span class="tt"><a href="ACL2____TRY-EVENT.html">try-event</a></span> 
     have been moved here 
     from <span class="v">[books]/kestrel/utilities/user-interface.lisp</span>.</p><p>The XDOC constructor <span class="v">xdoc::evmac-section-form-auto</span> has been removed. 
     Not being able to use this XDOC constructor avoids 
     additional inter-dependencies among books 
     that do not seem worth the small savings in writing user documentation, 
     whose general form section should be normally a small fraction.</p><p>The XDOC constructor <span class="tt"><a href="XDOC____EVMAC-TOPIC-EVENT-GENERATION.html">xdoc::evmac-topic-event-generation</a></span> 
     has been extended with an additional option.</p><p>New XDOC constructors have been added 
     and some XDOC constructors have been improve.</p><p>A utility <span class="tt"><a href="ACL2____EVMAC-PREPARE-PROOFS.html">evmac-prepare-proofs</a></span> has been added, 
     to improve the robustness of proofs generated by event macros.</p><p>Utilities have been added to generate various kinds of event forms 
     from attributes of the event forms.</p><p>Some general XDOC topics about event macros have been added, 
     which can be referenced by the user documentation of event macros.</p><h4><a href="EXLD____EXECLOADER.html">Read and Parse ELF/Mach-O Binary Files</a></h4><p>ELF reader now gets the contents of all the sections listed in 
    the headers of a given ELF binary. Also, the package name has been 
    changed from <span class="v">EL</span> to <span class="v">EXLD</span>.</p><h4><a href="ACL2____FILE-IO-LIGHT.html">File-Io-Light Library</a></h4><p>Various lightweight utilities have been added to read and write files (of 
    bytes, characters, and objects).  These include a utility to read the bytes 
    of a file into a stobj array.  Reasoning support has also been added for 
    various built-in I/O functions.  Related utilities have been added, such as 
    to check whether a file exists or is newer than a given date.  See 
    <span class="v">[books]/kestrel/file-io-light/</span>.</p><h4><a href="ACL2____FTY.html">Fixtype Definition Library</a></h4><p>A new macro <span class="tt"><a href="FTY____DEFBYTE-IHS-THEOREMS.html">fty::defbyte-ihs-theorems</a></span> has been added 
     to generate theorems about fixtypes introduced via <span class="tt"><a href="FTY____DEFBYTE.html">fty::defbyte</a></span> 
     and functions in the <a href="ACL2____IHS.html">IHS</a> library. 
     This macro has been used to generate, and make available, 
     these theorems for some of the <a href="FTY____DEFBYTE-STANDARD-INSTANCES.html"><span class="v">fty::defbyte</span> standard instances</a>.</p><p>More <a href="FTY____DEFBYTE-STANDARD-INSTANCES.html"><span class="v">fty::defbyte</span> standard instances</a> have been added.</p><p>The macro <span class="tt"><a href="FTY____DEFSET.html">fty::defset</a></span> has been improved 
     to generate additional theorems.</p><p>The macro <span class="tt"><a href="FTY____DEFOMAP.html">fty::defomap</a></span> has been improved 
     to generate additional theorems.</p><p>A fixtype <span class="tt"><a href="ACL2____NAT-SET.html">nat-set</a></span> of osets of natural numbers has been added.</p><p><span class="tt"><a href="FTY____DEFLIST.html">fty::deflist</a></span> has been extended to generate a theorem 
     about the list fixer applied to <span class="tt"><a href="ACL2____REPEAT.html">repeat</a></span>.</p><p>A macro <span class="tt"><a href="FTY____DEFSUBTYPE.html">fty::defsubtype</a></span> has been added.</p><p>A macro <span class="tt"><a href="FTY____DEFUNIT.html">fty::defunit</a></span> has been added.</p><h4><a href="JAVA____JAVA.html">Java Library</a></h4><h5><a href="JAVA____AIJ.html">AIJ, the Deep Embedding of ACL2 into Java</a></h5><p>More <a href="https://junit.org" target="_blank"><nobr>JUnit<img src="../Icon_External_Link.png" title="External link to https://junit.org"></nobr></a> unit tests have been added, 
     integrated with the IntelliJ IDEA project.</p><p>The Java implementations of some natively implemented ACL2 functions 
     have been optimized.</p><p>Variant Java implementations of some natively implemented ACL2 functions 
     have been added, 
     in support of the automatic mapping, in the shallow embedding with guards, 
     of ACL2 booleans and characters to Java booleans and characters.</p><p>A native implementation has been added 
     of the <span class="tt"><a href="COMMON-LISP____CHAR.html">char</a></span> ACL2 built-in function. 
     As with other native implementations, 
     this consists of a few variants for different input and output types. 
     This native Java implementation is faster than 
     the Java code obtained from the unnormalized body of <span class="tt"><a href="COMMON-LISP____CHAR.html">char</a></span>, 
     which converts the string to a list of characters 
     and then calls <span class="tt"><a href="COMMON-LISP____NTH.html">nth</a></span>; 
     the native Java implementation accesses the string directly.</p><h5><a href="JAVA____ATJ.html">ATJ, the Java Code Generator for ACL2</a></h5><p>The model of Java primitive arrays has been extended 
     with functions to convert between arrays and corresponding ACL2 lists. 
     The model has been made much more compact 
     by defining and using a macro that captures the structure 
     common to the eight Java primitive array types.</p><p>Support has been added to recognize ACL2 functions 
     that convert between Java primitive arrays and ACL2 lists, 
     and translate them to Java code that converts between arrays and lists. 
     This applies to the shallow embedding with guards.</p><p>In the shallow embedding with guards, 
     now ACL2 booleans are mapped to Java booleans when possible. 
     The generated Java code takes care of converting, as needed, 
     between the Java booleans 
     and the <span class="v">Acl2Symbol</span> objects for <span class="v">t</span> and <span class="v">nil</span>. 
     This new mapping happens automatically; 
     it is separate from the explicit targeting of Java booleans 
     via the ACL2 model of Java boolean values.</p><p>In the shallow embedding with guards, 
     now ACL2 characters are mapped to Java characters when possible. 
     The generated Java code takes care of converting, as needed, 
     between the Java characters 
     and the <span class="v">Acl2Character</span> objects. 
     This new mapping happens automatically; 
     it is separate from the explicit targeting of Java characters 
     via the ACL2 model of Java character values.</p><p>In the shallow embedding with guards, 
     now ACL2 strings are mapped to Java strings when possible. 
     The generated Java code takes care of converting, as needed, 
     between the Java strings (i.e. <span class="v">java.lang.String</span> objects) 
     and the <span class="v">Acl2String</span> objects.</p><p>Some of the generated Java code in the shallow embedding with guards 
     has been made more idiomatic. 
     Calls of the Java method corresponding to <span class="tt"><a href="COMMON-LISP____NOT.html">not</a></span> 
     are now avoided in favor of using Java's <span class="v">!</span> operator 
     or Java's <span class="v">==</span> operator with the symbol <span class="v">nil</span>. 
     Calls of ACL2's <span class="tt"><a href="COMMON-LISP____AND.html">and</a></span> are translated 
     to Java's <span class="v">&amp;&amp;</span> operator when possible. 
     Calls of ACL2's <span class="tt"><a href="COMMON-LISP____OR.html">or</a></span> are translated 
     to Java's <span class="v">||</span> operator when possible.</p><p>A new post-translation step has been added 
     to ``inline'' (in a suitable sense) the calls of the array write methods 
     that are generated by the translation step. 
     This makes the generated Java code more idiomatic. 
     This applies to the shallow embedding with guards.</p><p>A new post-translation step has been added 
     to simplify generated Java conditional expressions 
     whose test is a boolean literal.</p><p>The Java code to build the ACL2 environment is now generated 
     in a separate Java class in a separate Java file. 
     This class's name is obtained by adding <span class="v">Environment</span> 
     after the main class's name. 
     This way, the main class is free of the extensive and boilerplate code 
     to build the ACL2 environment, 
     making it easier to find and see the ``interesting'' generated Java code.</p><p>The Java abstract syntax used by the code generator is now more precise, 
     in the sense that it captures more syntactic aspects of Java.</p><p>ATJ function types have been verified and recorded 
     for more built-in functions, 
     thus avoiding certain type casts and other conversions 
     in the generated Java code. 
     ATJ function types have also been verified and recorded 
     for certain library functions, for the same reason; 
     these files can be included as needed.</p><p>The macros <span class="tt"><a href="JAVA____ATJ-MAIN-FUNCTION-TYPE.html">java::atj-main-function-type</a></span> 
     and <span class="tt"><a href="JAVA____ATJ-OTHER-FUNCTION-TYPE.html">java::atj-other-function-type</a></span> 
     have been extended with an option to provide hints 
     for the theorems they prove internally.</p><p>An option <span class="v">:ignore-whitelist</span> has been added 
     to ignore the whitelist of ACL2 functions with raw Lisp code, 
     i.e. to translate them to Java (so long as they have an unnormalized body). 
     This must be used by caution: side effects in the raw Lisp code 
     will not be replicated in Java, 
     e.g. <span class="tt"><a href="ACL2____HARD-ERROR.html">hard-error</a></span> will just return <span class="v">nil</span>. 
     This could be useful when the functions in question 
     are unreachable under guard verification, for instance. 
     The default is <span class="v">nil</span>, i.e. do not ignore the whitelist, 
     so the user must explicitly write <span class="v">:ignore-whitelist t</span> 
     to ignore the whitelist.</p><h5><a href="JAVA____LANGUAGE.html">Java Language Formalization</a></h5><p>Some functions and theorems related to integer literals have been added. 
     These are part of the formalized abstract syntax of Java.</p><p>Some theorems about the Java primitive operations have been added.</p><p>More aspects of the Java syntax have been formalized, including: 
     the ISO 8851-1 subset of Unicode characters; 
     type identifiers; 
     unqualified method identifiers; 
     package names; 
     reference types; and 
     all types.</p><p>The formalization, including the ABNF grammar, 
     have been updated to Java 14. 
     In particular, this involved updating of the ABNF grammar with 
     <span class="v">switch</span> expressions and <span class="v">yield</span> statements.</p><h4>Library Wrappers</h4><p>A library wrapper for <span class="v">sublistp</span> has been added, as has a robust variant of 
    <span class="v">make-flag</span>.</p><h4>Lists-Light Library</h4><p>Many rules, congruences, and new books have been added.  New books cover 
   the functions <span class="v">subsequencep</span>, <span class="v">subsequencep-equal</span>, <span class="v">last-elem</span>, 
   <span class="v">subrange</span>, <span class="v">update-subrange</span>, <span class="v">finalcdr</span>, <span class="v">all-equal$</span>, 
   <span class="v">all-eql$</span>, <span class="v">all-same</span>, <span class="v">all-same-eql</span>, <span class="v">add-to-end</span>, 
   <span class="v">first-non-member</span>, <span class="v">group</span>/<span class="v">ungroup</span> (for splitting and 
   flattening), <span class="v">count-occs</span>, <span class="v">prefixp</span>, <span class="v">len-at-least</span>, 
   <span class="v">remove-equal</span>, <span class="v">remove-duplicates-equal</span>, <span class="v">find-index</span>, and 
   <span class="v">remove-nth</span>. See <span class="v">[books]/kestrel/prime-fields/</span>.</p><h4><a href="OMAP____OMAPS.html">Ordered Maps (Omaps) Library</a></h4><p>Added an operation to create an omap 
     from a list of keys and a corresponding list of values.</p><h4>Prime-Fields</h4><p>Many new rules have been added, and existing rules have been improved. 
    These include many rules for recogizing R1CS gadgets.  The library is more 
    organized, and some proofs have been made faster.  <span class="v">bind-free</span> rules 
    have been added for canceling addends and moving negations.  Utilities have 
    been added for naming and printing special constants. See 
   <span class="v">[books]/kestrel/prime-fields/</span>.</p><h4><a href="RSTOBJ2____DEFRSTOBJ.html">Record-like Stobjs</a></h4><p>Add support for defining fields based off child stobjs.</p><h4><a href="SOFT____SOFT.html">SOFT Library</a></h4><p>A new macro <span class="tt"><a href="SOFT____DEFSOFT.html">soft::defsoft</a></span> has been added, 
     to record a function as second-order 
     after the function has been introduced via a non-SOFT event. 
     The SOFT macros 
     <span class="tt"><a href="SOFT____DEFUN2.html">soft::defun2</a></span>, 
     <span class="tt"><a href="SOFT____DEFCHOOSE2.html">soft::defchoose2</a></span>, and 
     <span class="tt"><a href="SOFT____DEFUN-SK2.html">soft::defun-sk2</a></span> 
     have been simplified to be abbreviations of 
     <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>, <span class="tt"><a href="ACL2____DEFCHOOSE.html">defchoose</a></span>, and <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span> 
     followed by <span class="tt"><a href="SOFT____DEFSOFT.html">soft::defsoft</a></span>.</p><p>New macros 
     <span class="v">defund2</span>, 
     <span class="tt"><a href="SOFT____DEFINE2.html">soft::define2</a></span>, 
     <span class="tt"><a href="SOFT____DEFUND-SK2.html">soft::defund-sk2</a></span>, and 
     <span class="tt"><a href="SOFT____DEFINE-SK2.html">soft::define-sk2</a></span> 
     have been added. 
     These abbreviate 
     <span class="tt"><a href="ACL2____DEFUND.html">defund</a></span>, 
     <span class="tt"><a href="ACL2____DEFINE.html">define</a></span>, 
     <span class="tt"><a href="ACL2____DEFUND-SK.html">defund-sk</a></span>, and 
     <span class="tt"><a href="STD____DEFINE-SK.html">std::define-sk</a></span> 
     followed by <span class="tt"><a href="SOFT____DEFSOFT.html">soft::defsoft</a></span>, 
     analogously to other macros as described above.</p><p>A new macro <span class="tt"><a href="SOFT____DEFEQUAL.html">soft::defequal</a></span>, 
     to define second-order equalities between functions 
     and provide some reasoning support for them.</p><p>An option <span class="v">:enable</span> has been added to <span class="tt"><a href="SOFT____DEFUN-INST.html">soft::defun-inst</a></span>, 
     to control the enablement of the generated function 
     (and, for quantifier functions, also of the associated rewrite rule).</p><p>An option <span class="v">:enable</span> has been added to <span class="tt"><a href="SOFT____DEFTHM-INST.html">soft::defthm-inst</a></span>, 
     to control the enablement of the generated theorem.</p><h4><a href="ACL2____STD_F2BASIC.html">Standard Basic Library</a></h4><p>A new utility <span class="tt"><a href="ACL2____GOOD-VALUEP.html">good-valuep</a></span> has been added, 
     which checks whether a value is either a good atom 
     or a <span class="tt"><a href="COMMON-LISP____CONS.html">cons</a></span> pair whose components are recursively good values. 
     That is, the value must not be a bad arom 
     or contains (directly or indirectly) bad atoms.</p><p>A new utility <span class="tt"><a href="ACL2____GOOD-PSEUDO-TERMP.html">good-pseudo-termp</a></span> has been added, 
     which checks whether a pseudo-term only contains good values 
     (see <span class="tt"><a href="ACL2____GOOD-VALUEP.html">good-valuep</a></span>) in its quoted constants.</p><h4><a href="ACL2____STD_F2IO.html">Standard IO Library</a></h4><p>Modified the raw-Lisp implementation of <span class="tt"><a href="ACL2____READ-STRING.html">read-string</a></span> to catch 
     errors successfully, as intended.  This could fail in SBCL 
     2.0.5 (implementation note: because the error message referenced a string 
     stream that was already closed).</p><h4><a href="ACL2____STD_F2SYSTEM.html">Standard System Library</a></h4><p>A new utility <span class="tt"><a href="ACL2____CHECK-IF-CALL.html">check-if-call</a></span> has been added, 
     to check if a term is a call of <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> 
     and to return its three arguments if that is the case.</p><p>A new utility <span class="tt"><a href="ACL2____CHECK-AND-CALL.html">check-and-call</a></span> has been added, 
     to check if a term is a (translated) call of <span class="tt"><a href="COMMON-LISP____AND.html">and</a></span> 
     and to return its two conjuncts if that is the case.</p><p>A new utility <span class="tt"><a href="ACL2____CHECK-OR-CALL.html">check-or-call</a></span> has been added, 
     to check if a term is a (translated) call of <span class="tt"><a href="COMMON-LISP____OR.html">or</a></span> 
     and to return its two disjuncts if that is the case.</p><p>A new utility <span class="tt"><a href="ACL2____CHECK-MBT-CALL.html">check-mbt-call</a></span> has been added, 
     to check if a term is a (translated) call of <span class="tt"><a href="ACL2____MBT.html">mbt</a></span> 
     and to return its argument if that is the case.</p><p>A new utility <span class="tt"><a href="ACL2____CHECK-MBT_42-CALL.html">check-mbt$-call</a></span> has been added, 
     to check if a term is a (translated) call of <span class="tt"><a href="ACL2____MBT_42.html">mbt$</a></span> 
     and to return its argument if that is the case.</p><p>A theorem about the built-in <span class="v">flatten-ands-in-lit</span> has been added, 
     in <span class="v">[books]/kestrel/std/system/flatten-ands-in-lit</span>.</p><p>A new utility <span class="tt"><a href="ACL2____FRESH-NAME-LISTP-MSG-WEAK.html">fresh-name-listp-msg-weak</a></span> has been added, 
     which lifts <span class="tt"><a href="ACL2____FRESH-NAMEP-MSG-WEAK.html">fresh-namep-msg-weak</a></span> to lists.</p><p>The utility <span class="tt"><a href="ACL2____CHECK-MV-LET-CALL.html">check-mv-let-call</a></span> has been generalized 
     to check for the presence of <span class="tt"><a href="ACL2____HIDE.html">hide</a></span> wrappers 
     introduced when <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span> has <span class="tt"><a href="COMMON-LISP____IGNORE.html">ignore</a></span> declarations, 
     and to return information about their presence or absence.</p><p>The utilities 
     <span class="tt"><a href="ACL2____INSTALL-NOT-NORMALIZED-EVENT.html">install-not-normalized-event</a></span> and 
     <span class="tt"><a href="ACL2____INSTALL-NOT-NORMALIZED-EVENT-LST.html">install-not-normalized-event-lst</a></span> 
     have been improved to return an additional result, 
     namely the updated list of names to avoid. 
     This helps making the calling code more concise and less error-prone.</p><p>The utility <span class="tt"><a href="ACL2____INSTALL-NOT-NORMALIZED.html">install-not-normalized</a></span> now uses the untranslated 
     version of the original body in the generated definition.</p><p>A new utility <span class="tt"><a href="ACL2____IF-TREE-LEAF-TERMS.html">if-tree-leaf-terms</a></span> has been added, 
     to collect the leaf sub-terms of a term 
     according to the <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> tree structure of the term.</p><p>The utility <span class="v">acceptable-rewrite-rulep</span> has been moved 
     from <span class="v">[books]/kestrel/utilities/</span> to <span class="v">[books]/std/system/</span>.</p><p>New utilities <span class="tt"><a href="ACL2____IRRELEVANT-FORMALS-INFO.html">irrelevant-formals-info</a></span> and <span class="tt"><a href="ACL2____CHK-IRRELEVANT-FORMALS-OK.html">chk-irrelevant-formals-ok</a></span> have been added, to perform an <a href="ACL2____IRRELEVANT-FORMALS.html">irrelevant-formals</a> check on a given definition or list of definitions.</p><p>New utilities have been added to find the sources of <a href="ACL2____INVARIANT-RISK.html">invariant-risk</a> 
     for given functions.  See <span class="v">[books]/std/system/invariant-risk.lisp</span>.</p><h4><a href="ACL2____STD_F2TESTING.html">Standard Testing Library</a></h4><p>The contents of the file <span class="v">[books]/misc/assert-tests.lisp</span> 
     have been moved to new separate files under Std/testing. 
     That file has been removed.</p><p>The relocation stub <span class="v">[books]/misc/assert.lisp</span> 
     for books that are now in Std/testing 
     has been removed.</p><p>The event macros <span class="tt"><a href="ACL2____ASSERT_12.html">assert!</a></span> and <span class="tt"><a href="ACL2____ASSERT_12-STOBJ.html">assert!-stobj</a></span> no longer 
     invoke <span class="tt"><a href="ACL2____MAKE-EVENT.html">make-event</a></span>, but rather, create direct calls of <span class="tt"><a href="ACL2____ASSERT-EVENT.html">assert-event</a></span>.</p><h4><a href="ACL2____STD_F2TYPED-ALISTS.html">Standard Typed Alists Library</a></h4><p>A type <span class="tt"><a href="ACL2____SYMBOL-SYMBOLLIST-ALISTP.html">symbol-symbollist-alistp</a></span> has been added for alists 
     from symbols to true lists of symbols.</p><h4><a href="ACL2____STD_F2UTIL.html">Standard Utilities Library</a></h4><p>A new event macro <span class="tt"><a href="ACL2____DEFUND-SK.html">defund-sk</a></span> has been added, 
     which is like <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span> but it disables 
     (1) the function definition (if <span class="v">:constrain</span> is <span class="v">nil</span>) 
     or the definition rule (if <span class="v">:constrain</span> is non-<span class="v">nil</span>) 
     and (2) the rewrite rule 
     if the <span class="v">:thm-enable</span> input is <span class="v">nil</span> (which is the default).</p><p>A new event macro <span class="tt"><a href="ACL2____DEFMACRO_B2.html">defmacro+</a></span> has been added, 
     with is like <span class="tt"><a href="COMMON-LISP____DEFMACRO.html">defmacro</a></span> but with <a href="ACL2____XDOC.html">XDOC</a>integration.</p><p>Like <a href="ACL2____DEFUN-NX.html">defun-nx</a>, now <a href="ACL2____DEFINE.html">define</a> also disables the executable 
     counterpart of a non-executable function.</p><p>A new event macro <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span> has been added, 
     to verify and record mappings that must be (based on supplied options) 
     injective, surjective, or bijective.</p><p>The <span class="tt"><a href="ACL2____DEFISO.html">defiso</a></span> event macro is now 
     a specialization of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>, 
     implemented as a thin wrapper of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>.</p><p>A new event macro <span class="tt"><a href="ACL2____DEFINJ.html">definj</a></span> has been added 
     to verify and record injective mappings. 
     It is a specialization of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>, 
     implemented as a thin wrapper of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>.</p><p>A new event macro <span class="tt"><a href="ACL2____DEFSURJ.html">defsurj</a></span> has been added 
     to verify and record surjective mappings. 
     It is a specialization of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>, 
     implemented as a thin wrapper of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>.</p><p>A new event macro <span class="tt"><a href="ACL2____DEFTHM-COMMUTATIVE.html">defthm-commutative</a></span> has been added, 
     to generate commutativity theorems for binary operations 
     more concisely.</p><p>Support for <span class="v">:prepwork</span> has been added to <span class="tt"><a href="STD____DEFLIST.html">std::deflist</a></span>.</p><p>Support for <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span>'s option <span class="v">:constrain</span> 
     has been added to <span class="tt"><a href="STD____DEFINE-SK.html">std::define-sk</a></span>.</p><p>A macro <span class="tt"><a href="STD____TUPLE.html">std::tuple</a></span> has been added, 
     to mimic the <span class="tt"><a href="ACL2____MV.html">mv</a></span> return specifier notation 
     for tuple (i.e. list) results, useful inside error triples.</p><p>The macro <span class="tt"><a href="STD____DEFINE-SK.html">std::define-sk</a></span> has been moved 
     from <span class="v">[books]/kestrel/utilities/</span> to <span class="v">[books]/std/util/</span>.</p><p>A new event macro <span class="tt"><a href="ACL2____ADD-IO-PAIRS.html">add-io-pairs</a></span> has been added, to speed 
     up a function using verified input-output pairs.  Related 
     utilities include <span class="tt"><a href="ACL2____ADD-IO-PAIR.html">add-io-pair</a></span>, <span class="tt"><a href="ACL2____REMOVE-IO-PAIRS.html">remove-io-pairs</a></span>, 
     <span class="tt"><a href="ACL2____SHOW-IO-PAIRS.html">show-io-pairs</a></span>, and <span class="tt"><a href="ACL2____GET-IO-PAIRS.html">get-io-pairs</a></span>.</p><p>A new event macro <span class="tt"><a href="ACL2____DEFMIN-INT.html">defmin-int</a></span> has been added, 
     to declarative define the minimum of 
     a (possibly infinite) set of integers. 
     This is similar to <span class="tt"><a href="ACL2____DEFMAX-NAT.html">defmax-nat</a></span>.</p><h4>Utilities Library (Kestrel)</h4><p>A large number of utilities have been added, covering a wide range of 
     topics.  These include dealing with event forms, making fresh names, 
     manipulating hints, dealing with untranslated terms, building simple list 
     structures, dealing with quoted entities, building strings, checking 
     whether a symbol has properties, dealing with runes, parsing options, 
     processing keyword args, and recognizing legal variable names. 
 
     New utilities also deal with importing and legal variable names, format 
     strings, printing, translation, manipulating terms, invariant risk, 
     submitting events to ACL2, creating temp dirs, process IDs, usernames, 
     calling scripts, macroexpansion and translation, asserts, 
     untranslated-terms, redundant events, guard-holders, ruler-extenders, 
     lets/lambdas, fake worlds, clause identifiers, <span class="v">progn</span>, unification, 
     dependencies, ensuring rules are known, quieting <span class="v">make-event</span>, checking 
     for closed lambdas, processing <span class="v">defun</span> and <span class="v">defthm</span> forms, processing 
     declares, the ACL2 state, <span class="v">system-books-dir</span>, fixing functions, 
     <span class="v">acl2-count</span>, <span class="v">make-ord</span>, <span class="v">coerce</span>, <span class="v">map-symbol-name</span>, tuples, 
     <span class="v">myif</span>, and @'(mv-nth').</p><p>Various improvements have been made to <span class="v">defopeners</span> and 
   <span class="v">defopeners-mut-rec</span>.</p><p>New utilities support computing a constant using <span class="v">make-event</span>, 
   reading a value from a file into a <span class="v">defconst</span>, and printing constants 
   nicely.</p><p>A new ACL2 Lint tool can detect common ACL2 errors.</p><p>Reasoning about I/O channels has been improved.</p><p>A new tool, <span class="v">bind-from-rules</span> can bind free variables in rules 
   by searching existing rules.</p><p>A new data structure, string trees, can efficiently represent a 
   sequence of strings (e.g., for writing to a file).</p><p>A new tool supports polarity-based rewriting, whereby a term can be 
   either strengthened or weakened depending on whether it is an assumption or 
   a conclusion.</p><p>Sorting utilities have been added, including <span class="v">split-list-fast</span>, 
   <span class="v">merge-sort-generic</span>, and <span class="v">defmergesort</span>.</p><p>Various xdoc-related utilities have been added, including new xdoc 
   constructors (such as one that creates paragraphs from blocks of text 
   separated by blank lines).  A new tool, <span class="v">gen-xdoc-for-file</span> can generate 
   xdoc topics for the events (defuns, defthms, etc.) in a file by extracting 
   the actual relevant text (the definition and any immediately preceding or 
   following comment lines) from the file.  Helpful wrappers for xdoc 
   archiving utilities have also been added; these can help speed up manual 
   building.</p><p>See <span class="v">[books]/kestrel/utilities/</span>.</p><h4>Xdoc Library</h4><p>The web-based manual now includes a clickable link to GitHub at the top of 
    each documentation topic from the Community Books.  The link lets you view 
    the contents of the source file that introduced that topic.</p><p>The file <span class="v">[books]/doc/top-slow.lisp</span> no longer actually builds a manual. 
    Instead, it serves as a top-level book to detect name conflicts between 
    community books.  Manual building is now taken care of by 
    <span class="v">[books]/doc/top.lisp</span>.</p><h3>Licensing Changes</h3><h3>Build System Updates</h3><p>By default, <span class="v">make</span> commands for certifying ACL2 books take advantage of 
     files <span class="v">*@useless-runes.lsp</span>.  See <a href="ACL2____USELESS-RUNES.html">useless-runes</a>.</p><p>One line of file <span class="v">Makefile-generic</span> has been tweaked to avoid the 
     <span class="v">+make</span> construct, which may help avoid errors in FreeBSD systems.</p><p>Building of the combined ACL2+Books manual (by certifying 
     <span class="v">doc/top.lisp</span>) has been made more efficient (more than 20% reduction 
     measured when such changes were made).</p><h3>Testing</h3><h3>Miscellaneous</h3><p>The line containing <span class="v">#!/bin/bash</span> at the top of various shell scripts 
     has been replaced by a line containing <span class="v">#!/usr/bin/env bash</span>, for 
     increased portability.</p><p>The book <span class="v">tools/defttag-muffled.lisp</span> provides a way, using a trust 
     tag, to turn off all subsequent ``TTAG NOTE'' messages.  Use with care!!</p><p>See <a href="ACL2____REWRITE_42.html">rewrite$</a> for a flexible, convenient interface to the ACL2 
     rewriter that can be called programmatically.  See <a href="ACL2____REWRITE_42-HYPS.html">rewrite$-hyps</a> 
     for a related utility that rewrites a list of hypotheses.</p><p>See <a href="ACL2____OPEN-TRACE-FILE_12.html">open-trace-file!</a> for a variant of <span class="tt"><a href="ACL2____OPEN-TRACE-FILE.html">open-trace-file</a></span> 
     suitable for use within <span class="tt"><a href="ACL2____MAKE-EVENT.html">make-event</a></span>.</p><p>There are some changes in the utility <span class="tt"><a href="ACL2____MAKE-FLAG.html">make-flag</a></span> (descibed in more 
     detail in its documentation).  (1) The value for keyword argument 
     <span class="v">:flag-mapping</span> is now expected to be a list of doublets, <span class="v">(old
     new)</span>.  The use of a list of cons pairs <span class="v">(old . new</span>) is still 
     permitted for now, but is deprecated and will likely be unsupported with a 
     future ACL2 release.  (2) The keyword argument, <span class="v">:last-body</span>, has been 
     replaced by <span class="v">:body</span>, where: value <span class="v">nil</span> has the same meaning as 
     before; the value <span class="v">t</span> that was supplied to <span class="v">:last-body</span> is supplied 
     as <span class="v">:last</span> to the new keyword, <span class="v">:body</span>; and a new form, a list of 
     doublets, is permitted for specifying which <a href="ACL2____DEFINITION.html">definition</a> rules to 
     use.  (3) The tool is more robust when <a href="ACL2____XARGS.html">xargs</a> declaration 
     <span class="v">:normalize nil</span> is involved.</p><p>The utility <span class="tt"><a href="ACL2____INSTALL-NOT-NORMALIZED.html">install-not-normalized</a></span> now takes an additional keyword 
     argument, <span class="v">:enable</span>, specifying whether the generated <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span> 
     event is enabled.  In addition to Boolean values, it allows the default 
     value, <span class="v">:auto</span>, specifying that the new rule is enabled if and only if 
     the original defintion is enabled.  This is a change in default behavior, 
     since before, the new rule was always enabled.</p>
</body>
</html>
