<html>
<head>
<meta charset="UTF-8">
<title>Note-2-6-new-functionality</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-2-6-NEW-FUNCTIONALITY">Click for Note-2-6-new-functionality in the Full Manual</a></h3>

<p>ACL2 Version  2.6 Notes on New Functionality</p><p>A fundamental change is the provision of the ``nu-rewriter'' for 
 simplifying expressions composed of <span class="v">NTH</span>, <span class="v">UPDATE-NTH</span>, and 
 <span class="v">UPDATE-NTH-ARRAY</span> applications and <span class="v">LET</span> expressions and other calls of 
 non-recursive functions or <span class="v">LAMBDA</span> expressions involving those symbols. 
 The nu-rewriter applies the obvious rewrite rule for <span class="v">(<a href="COMMON-LISP____NTH.html">NTH</a> i (<a href="ACL2____UPDATE-NTH.html">UPDATE-NTH</a> j v
 s))</span> and the analogous rule for <span class="v">UPDATE-NTH-ARRAY</span>.  See nu-rewriter.  The 
 nu-rewriter can be enabled with <span class="v">set-nu-rewriter-mode</span>.</p> 
 
 <p>A new flag has been added to the <span class="v">xargs</span> of <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> permitting the 
 declaration that the function is <span class="v">non-executable</span>.  The usage is 
 <span class="v">(<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :non-executable t))</span> and the effect is that the function 
 has no executable counterpart.  On the positive side: the function is 
 permitted to use single-threaded object names and functions arbitrarily, as in 
 theorems rather than as in executable definitions.  Such functions are not 
 permitted to declare any names <span class="v">:</span><span class="tt"><a href="ACL2____STOBJ.html">stobj</a></span><span class="v">s</span> but accessors, etc., 
 may be used, just as in theorems.</p> 
 
 <p>A new flag has been added to permit the system to abbreviate output by 
 introducing <span class="v">LET*</span> notation identifying common subterms.  The formula being 
 proved is not affected; this flag changes its displayed form only.  See <a href="ACL2____SET-LET_A2-ABSTRACTIONP.html">set-let*-abstractionp</a>.</p> 
 
 <p>A ``raw mode'' has been added, primarily for faster loading of 
 applications.  see <a href="ACL2____SET-RAW-MODE.html">set-raw-mode</a>.</p> 
 
 <p>Functions <span class="tt"><a href="ACL2____ALPHORDER.html">alphorder</a></span> and <span class="tt"><a href="ACL2____LEXORDER.html">lexorder</a></span> have been put in 
 <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> mode.  <span class="v">Lexorder</span> is now a total order ordering of the 
 ACL2 universe, and theorems are included to that effect.  Thanks to Pete 
 Manolios for suggesting the idea and providing events to use, and to Rob 
 Sumners for assistance with some modifications.  See also the new book 
 <span class="v">books/misc/total-order</span> for an irreflexive total order.</p> 
 
 <p>The ACL2 user can now make system calls to the host operating system.  See 
 <a href="ACL2____SYS-CALL.html">sys-call</a> and see <a href="ACL2____SYS-CALL-STATUS.html">sys-call-status</a>.  Thanks to Rob Sumners for 
 working out this idea with Pete Manolios and Robert Krug, who we also thank, 
 and for working out the implementation with us.</p> 
 
 <p>It is no longer required to use absolute <a href="COMMON-LISP____PATHNAME.html">pathname</a>s in <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> forms that have been executed before a <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span>. 
 Any relative pathname strings in such contexts will be expanded into absolute 
 pathnames before they are saved in the <span class="tt"><a href="ACL2____PORTCULLIS.html">portcullis</a></span> of the <span class="tt"><a href="ACL2____CERTIFICATE.html">certificate</a></span> of the book being certified.</p> 
 
 <p>ACL2 can now be built on top of Allegro Common Lisp 6.0, and also on 
 Windows platforms on top of Allegro Common Lisp and GCL.  Thanks to Pete 
 Manolios and Vinay K. Siddhavanahalli for their help with Windows.</p> 
 
 <p>Rob Sumners has designed and provided an initial implementation for two 
 improvements to <span class="tt"><a href="ACL2____DEFSTOBJ.html">defstobj</a></span> (also see <a href="ACL2____STOBJ.html">stobj</a>).  First, array fields 
 can now be resized.  Resize and length functions are provided for array 
 fields, which can be used to resize stobj array fields dynamically.  The 
 recognizers for array fields have been simplified to accommodate this change, 
 so that they only check that each element of the array field has the specified 
 type.  Second, performance has been improved for stobjs with a large number of 
 fields, by changing their Common Lisp implementation to store the fields in a 
 simple vector instead of a list.</p> 
 
 <p>Now <a href="ACL2____STOBJ.html">stobj</a>s may be bound locally; see <a href="ACL2____WITH-LOCAL-STOBJ.html">with-local-stobj</a>. 
 Thanks to Rob Sumners, who encouraged us to implement this capability, was an 
 early user of it, and participated usefully in discussions on its design.</p> 
 
 <p>New functions <span class="tt"><a href="ACL2____FMS_12.html">fms!</a></span>, <span class="tt"><a href="ACL2____FMT_12.html">fmt!</a></span>, and <span class="tt"><a href="ACL2____FMT1_12.html">fmt1!</a></span> are the same as 
 their respective functions without the ``<span class="v">!</span>,'' except that the ``<span class="v">!</span>'' 
 functions are guaranteed to print forms that can be read back in (at a slight 
 readability cost).</p> 
 
 <p>We added <span class="tt"><a href="ACL2____EXTENDED-METAFUNCTIONS.html">extended-metafunctions</a></span>, metafunctions which allow <span class="tt"><a href="ACL2____STATE.html">state</a></span> and context sensitive rewriting to some extent.  We thank Robert Krug 
 for pushing for and on this idea.</p> 
 
 <p>The documentation has been improved.  In particular, a new documentation 
 topic provides a gentle introduction to ACL2 <span class="tt"><a href="ACL2____ARRAYS.html">arrays</a></span> — see <a href="ACL2____ARRAYS-EXAMPLE.html">arrays-example</a> — and additional documentation has been provided for 
 getting started with proof trees in emacs — see <a href="ACL2____PROOF-TREE.html">proof-tree</a>.</p> 
 
 <p>New Makefile targets <span class="v">fasl</span> and <span class="v">o</span> have been added to the 
 <span class="v">books/</span> directory of the distribution.  For example, you might first 
 certify books using an ACL2 built on top of GCL (which creates compiled files 
 with suffix <span class="v">o</span>).  Then, when standing in the <span class="v">books/</span> directory, you 
 might execute the command</p> 
 
 <blockquote> 
 
 <p>make fasl ACL2=my-allegro-acl2</p> 
 
 </blockquote> 
 
 <p>which will create compiled (<span class="v">.fasl</span>) files for Allegro Common Lisp, 
 assuming that <span class="v">my-allegro-acl2</span> starts up an ACL2 built on that Common 
 Lisp.</p> 
 
 <p>The macro <span class="tt"><a href="COMMON-LISP____LET_A2.html">let*</a></span> now allows variables to be declared ignored.  See 
 <a href="COMMON-LISP____LET_A2.html">let*</a> and see <a href="COMMON-LISP____LET.html">let</a>.</p> 
 
 <p>The user may now control backchaining.  This feature was designed and 
 primarily implemented by Robert Krug (though the authors of ACL2 are 
 responsible for any errors); thanks, Robert!  See <a href="ACL2____BACKCHAIN-LIMIT.html">backchain-limit</a>.</p> 
 
 <p>It is now possible to ``slow down'' the rate at which case splits are 
 generated by the simplifier.  See <a href="ACL2____SET-CASE-SPLIT-LIMITATIONS.html">set-case-split-limitations</a>.</p> 
 
 <p>Accesses to <a href="ACL2____STOBJ.html">stobj</a>s using <span class="tt"><a href="COMMON-LISP____NTH.html">nth</a></span> or <span class="tt"><a href="ACL2____UPDATE-NTH.html">update-nth</a></span> are now 
 displayed using symbolic constants instead of numeric indices.  For example, 
 given the event</p> 
 
 <pre class="code">(<a href="ACL2____DEFSTOBJ.html">defstobj</a> foo a b :renaming ((b c)))</pre> 
 
 <p>then the term <span class="v">(<a href="COMMON-LISP____NTH.html">nth</a> 0 foo)</span> will be displayed (for example, during 
 proofs) as <span class="v">(<a href="COMMON-LISP____NTH.html">nth</a> *a* foo)</span> while <span class="v">(<a href="COMMON-LISP____NTH.html">nth</a> 1 foo)</span> will be displayed as 
 <span class="v">(<a href="COMMON-LISP____NTH.html">nth</a> *c* foo)</span>.  The <span class="tt"><a href="ACL2____DEFSTOBJ.html">defstobj</a></span> event now correspondingly introduces 
 a <span class="tt"><a href="ACL2____DEFCONST.html">defconst</a></span> event for each field accessor function, introducing a 
 constant whose name is obtained from the accessor's name by prefixing and 
 suffixing a ``<span class="v">*</span>,'' as in the example above: accessor <span class="v">a</span> generates 
 <span class="v">(<a href="ACL2____DEFCONST.html">defconst</a> *a* 0)</span> and accessor <span class="v">c</span> generates <span class="v">(<a href="ACL2____DEFCONST.html">defconst</a> *c* 1)</span>. See 
 <a href="ACL2____NTH-ALIASES-TABLE.html">nth-aliases-table</a> for how to extend this feature for alternate names of 
 <a href="ACL2____STOBJ.html">stobj</a>s.</p> 
 
 <p>Computed hints have been improved.  It is now possible to detect within a 
 computed hint whether the goal clause is stable under simplification; it is 
 also possible for a computed hint to change the list of available hints.  See 
 <a href="ACL2____COMPUTED-HINTS.html">computed-hints</a>.</p> 
 
 <p>It is now possible to provide ``default hints'' that are appended to the 
 hints explicitly provided.  See <a href="ACL2____SET-DEFAULT-HINTS.html">set-default-hints</a>.</p> 
 
 <p>Using computed hints (see <a href="ACL2____COMPUTED-HINTS.html">computed-hints</a>) and default hints (see 
 <a href="ACL2____SET-DEFAULT-HINTS.html">set-default-hints</a>) it is possible to implement a book that supports 
 ``priority phased simplification.''  Using this book you can assign priorities 
 to your rules and cause the theorem prover to simplify each goal maximally 
 under all the rules of one priority before enabling rules of the next 
 priority.  See <span class="v">books/misc/priorities.lisp</span>.</p> 
 
 <p>The macro <span class="tt"><a href="ACL2____DEFABBREV.html">defabbrev</a></span> has been improved to allow <span class="tt"><a href="COMMON-LISP____DECLARE.html">declare</a></span> 
 forms and documentation strings and to do more error-checking.  Thanks to Rob 
 Sumners for designing this enhancement and providing the first implementation. 
 See <a href="ACL2____DEFABBREV.html">defabbrev</a>.</p> 
 
 <p>Further changes were made to support CMU Lisp.  Wolfhard Buss helped with 
 these changes.</p> 
 
 <p>A new table was added that is used when printing proof output, so that 
 nests of right-associated calls of a binary function are replaced by 
 corresponding macro calls, as has been the case for <span class="tt"><a href="ACL2____BINARY-_B2.html">binary-+</a></span> and 
 <span class="tt"><a href="COMMON-LISP_____B2.html">+</a></span>, <span class="tt"><a href="ACL2____BINARY-APPEND.html">binary-append</a></span> and <span class="tt"><a href="COMMON-LISP____APPEND.html">append</a></span>, and so on.  See <a href="ACL2____ADD-BINOP.html">add-binop</a>.</p> 
 
 <p>Operators <span class="tt"><a href="COMMON-LISP____LOGAND.html">logand</a></span>, <span class="tt"><a href="COMMON-LISP____LOGIOR.html">logior</a></span>, <span class="tt"><a href="COMMON-LISP____LOGXOR.html">logxor</a></span>, and <span class="tt"><a href="COMMON-LISP____LOGEQV.html">logeqv</a></span> are now macros (formerly, they were functions) that call corresponding 
 binary functions (e.g., <span class="v">binary-logand</span>) defined in source file 
 <span class="v">"axioms.lisp"</span>.  Thanks to Rob Sumners for this enhancement.  Proof 
 output will however continue to show calls of <span class="tt"><a href="COMMON-LISP____LOGAND.html">logand</a></span>, <span class="tt"><a href="COMMON-LISP____LOGIOR.html">logior</a></span>, 
 <span class="tt"><a href="COMMON-LISP____LOGXOR.html">logxor</a></span>, and <span class="tt"><a href="COMMON-LISP____LOGEQV.html">logeqv</a></span>.</p> 
 
 <p>Function <span class="v">(</span><span class="tt"><a href="ACL2____ALLOCATE-FIXNUM-RANGE.html">allocate-fixnum-range</a></span><span class="v"> fixnum-lo fixnum-hi)</span> sets 
 aside more "permanent" fixnums in GCL.</p> 
 
 <p>ACL2 now runs under <span class="v">CLISP</span>.  Thanks to Wolfhard Buss and Sam Steingold 
 for their assistance with the port.</p> 
 
 <p>Michael ``Bogo'' Bogomolny has created a search engine, accessible from the 
 ACL2 home page.  For that purpose he modified the HTML translator to create 
 one file per topic (a good idea in any case).  Thanks, Bogo!</p> 
 
 <p>An emacs file of potential (but optional) use for ACL2 users may be found 
 in <span class="v">emacs/emacs-acl2.el</span>.  In particular, this file supports the use of 
 proof trees (see <a href="ACL2____PROOF-TREE.html">proof-tree</a>).</p> 
 
 <p>Some <a href="ACL2____BOOKS.html">books</a> have been added or modified.  In particular, Robert Krug 
 has contributed <span class="v">books/arithmetic-2/</span>, which provides an alternative to the 
 existing collection of books about arithmetic, <span class="v">books/arithmetic/</span>.  For a 
 discussion of the distributed books see the link to <span class="v">README.html</span> in the 
 installation instructions.</p>
</body>
</html>
