<html>
<head>
<meta charset="UTF-8">
<title>Atc-tutorial-conditional-statements</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=C____ATC-TUTORIAL-CONDITIONAL-STATEMENTS">Click for Atc-tutorial-conditional-statements in the Full Manual</a></h3>

<p>ATC tutorial: ACL2 representation of C conditional statements.</p><p>Previous tutorial pages have shown how to represent C functions 
    whose bodies consists of return statements 
    and possibly local variable declarations and assignments 
    (including assignments to the function parameters). 
    This tutorial page explains how to represent C functions whose bodies 
    are (possibly nested) conditional statements.</p><p>If the body of an ACL2 function is an <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span>, 
    the body of the corresponding C function is an <span class="v">if-else</span> statement, 
    whose test is derived from the <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span>'s first argument 
    and whose branches are derived from 
    the <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span>'s second and third arguments. 
    If any of the second or third arguments is also an <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span>, 
    the corresponding branch is a nested <span class="v">if-else</span> statement.</p><p>However, note that <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> tests in ACL2 are (generalized) booleans, 
    i.e. they must return non-<span class="v">nil</span> for true and <span class="v">nil</span> for false, 
    while <span class="v">if</span> tests in C are scalars (e.g. integers), 
    i.e. they must return non-zero for true and zero for false. 
    Since <span class="v">nil</span> is different from the ACL2 model of any C scalar zero, 
    and also <span class="v">t</span> is different from the ACL2 model of any C scalar non-zero, 
    ACL2 <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> tests cannot directly represent C <span class="v">if</span> tests. 
    The file <span class="v">[books]/kestrel/c/atc/signed-ints.lisp</span>, 
    mentioned in <a href="C____ATC-TUTORIAL-INT-REPRESENTATION.html">atc-tutorial-int-representation</a>, 
    provides a function <span class="tt"><a href="C____BOOLEAN-FROM-SINT.html">boolean-from-sint</a></span> 
    the converts (the ACL2 representation of) a C <span class="v">int</span> 
    into an ACL2 boolean: 
    it returns <span class="v">t</span> if the <span class="v">int</span> is not 0; 
    it returns <span class="v">nil</span> if the <span class="v">int</span> is 0. 
    This <span class="tt"><a href="C____BOOLEAN-FROM-SINT.html">boolean-from-sint</a></span> must be used 
    as the test of an ACL2 <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span>, 
    applied to an ACL2 term representing an <span class="v">int</span> expression: 
    it represents a C <span class="v">if</span> test consisting of the argument expression.</p><p>For example, the ACL2 function</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> |f| (|x| |y| |z|)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="C____SINTP.html">c::sintp</a> |x|)
                              (<a href="C____SINTP.html">c::sintp</a> |y|)
                              (<a href="C____SINTP.html">c::sintp</a> |z|))))
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="C____BOOLEAN-FROM-SINT.html">c::boolean-from-sint</a> |x|)
      |y|
    |z|))</pre><p>represents the C function</p><pre class="code">int f(int x, int y, int z) {
    if (x) {
        return y;
    } else {
        return z;
    }
}</pre><p>As another example, the ACL2 function</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> |g| (|e|)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="C____SINTP.html">c::sintp</a> |e|)))
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="C____BOOLEAN-FROM-SINT.html">c::boolean-from-sint</a> (<a href="C____GE-SINT-SINT.html">c::ge-sint-sint</a> |e| (<a href="C____SINT-DEC-CONST.html">c::sint-dec-const</a> 0)))
      (<a href="COMMON-LISP____IF.html">if</a> (<a href="C____BOOLEAN-FROM-SINT.html">c::boolean-from-sint</a>
           (<a href="C____LT-SINT-SINT.html">c::lt-sint-sint</a> |e| (<a href="C____SINT-DEC-CONST.html">c::sint-dec-const</a> 1000)))
          (<a href="C____SINT-DEC-CONST.html">c::sint-dec-const</a> 1)
        (<a href="C____SINT-DEC-CONST.html">c::sint-dec-const</a> 2))
    (<a href="C____SINT-DEC-CONST.html">c::sint-dec-const</a> 3)))
   )</pre><p>represents the C function</p><pre class="code">int g(int e) {
    if (e &gt;= 0) {
        if (e &lt; 1000) {
            return 1;
        } else {
            return 2;
        }
    } else {
        return 3;
    }
}</pre><p>The arguments of <span class="tt"><a href="C____BOOLEAN-FROM-SINT.html">boolean-from-sint</a></span> in <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> tests 
    may be the same ones used to describe the expressions 
    returned by <span class="v">int</span>-valued functions. 
    The <span class="tt"><a href="C____BOOLEAN-FROM-SINT.html">boolean-from-sint</a></span> just serves 
    to turn C <span class="v">int</span>s into ACL2 booleans; 
    it is not explicitly represented in the C code, 
    as shown in the examples above.</p><div class="box"></div><p><b>Previous:</b> <a href="C____ATC-TUTORIAL-ASSIGNMENTS.html">ACL2 representation of C assignments</a></p><p><b>Next:</b> <a href="C____ATC-TUTORIAL-CONDITIONAL-EXPRESSIONS.html">ACL2 representation of C conditional expressions</a></p>
</body>
</html>
