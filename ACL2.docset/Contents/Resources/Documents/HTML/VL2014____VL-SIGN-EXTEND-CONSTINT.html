<html>
<head>
<meta charset="UTF-8">
<title>Vl-sign-extend-constint</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____VL-SIGN-EXTEND-CONSTINT">Click for Vl-sign-extend-constint in the Full Manual</a></h3>

<p><span class="tt">(vl-sign-extend-constint value origwidth finalwidth)</span> returns a new value, which is the 
sign extension of the <span class="v">origwidth</span>-bit <span class="v">value</span> to <span class="v">finalwidth</span> bits.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-sign-extend-constint value origwidth finalwidth)  *</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">value</span>  <font color="#606060">Guard <span class="v">(<a href="ACL2____NATP.html">natp</a> value)</span>.</font>
</dd> 
  <dd>
<span class="tt">origwidth</span>  <font color="#606060">Guard <span class="v">(<a href="ACL2____POSP.html">posp</a> origwidth)</span>.</font>
</dd> 
  <dd>
<span class="tt">finalwidth</span>  <font color="#606060">Guard <span class="v">(<a href="ACL2____POSP.html">posp</a> finalwidth)</span>.</font>
</dd> 
 
</dl></div> 
<p>When the MSB is true we need to add the appropriate number of 1 
bits.  There are probably any number of ways to do this.  My method is 
relatively simple:</p> 
 
<pre class="code">                        |---- finalwidth -------------|
                                      |-- origwidth --|
              value  == 0000...0000   1bb...bbbbbbbbbbb
  (<a href="COMMON-LISP____LOGIOR.html">logior</a>)    mask   == 1111...1111   000...00000000000
----------------------------------------------------------
              result == 1111...1111   1bb...bbbbbbbbbbb</pre> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-sign-extend-constint</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> vl-sign-extend-constint
       (<a href="ACL2____VALUE.html">value</a> origwidth finalwidth)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____NATP.html">natp</a> value)
                                   (<a href="ACL2____POSP.html">posp</a> origwidth)
                                   (<a href="ACL2____POSP.html">posp</a> finalwidth))))
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP_____C3.html">&lt;</a> value (<a href="COMMON-LISP____EXPT.html">expt</a> 2 origwidth))
                                   (<a href="COMMON-LISP_____C3.html">&lt;</a> origwidth finalwidth))))
       (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'vl-sign-extend-constint))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
            (<a href="ACL2____B_A2.html">b*</a> ((msb (<a href="COMMON-LISP____LOGBITP.html">logbitp</a> (<a href="COMMON-LISP____1-.html">1-</a> origwidth) value))
                 ((unless msb) value)
                 (finalwidth-many-ones (<a href="COMMON-LISP____-.html">-</a> (<a href="COMMON-LISP____EXPT.html">expt</a> 2 finalwidth) 1))
                 (origwidth-many-ones (<a href="COMMON-LISP____-.html">-</a> (<a href="COMMON-LISP____EXPT.html">expt</a> 2 origwidth) 1))
                 (mask (<a href="COMMON-LISP____LOGXOR.html">logxor</a> finalwidth-many-ones
                               origwidth-many-ones))
                 (result (<a href="COMMON-LISP____LOGIOR.html">logior</a> mask value)))
                result)))</pre> 
<p><b>Theorem: </b>natp-of-vl-sign-extend-constint</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   natp-of-vl-sign-extend-constint
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____NATP.html">natp</a> value))
             (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____POSP.html">posp</a> origwidth))
             (<a href="ACL2____SYNTAXP.html">syntaxp</a> (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____QUOTEP.html">quotep</a> origwidth))
                          (<a href="COMMON-LISP_____C3.html">&lt;</a> (<a href="ACL2____UNQUOTE.html">unquote</a> origwidth) 10000)))
             (<a href="ACL2____FORCE.html">force</a> (<a href="COMMON-LISP_____C3.html">&lt;</a> value (<a href="COMMON-LISP____EXPT.html">expt</a> 2 origwidth)))
             (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____POSP.html">posp</a> finalwidth))
             (<a href="ACL2____FORCE.html">force</a> (<a href="COMMON-LISP_____C3.html">&lt;</a> origwidth finalwidth)))
        (<a href="ACL2____NATP.html">natp</a> (<a href="VL2014____VL-SIGN-EXTEND-CONSTINT.html">vl-sign-extend-constint</a> value origwidth finalwidth)))
   :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>upper-bound-of-vl-sign-extend-constint</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
    upper-bound-of-vl-sign-extend-constint
    (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____NATP.html">natp</a> value))
                  (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____POSP.html">posp</a> origwidth))
                  (<a href="ACL2____SYNTAXP.html">syntaxp</a> (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____QUOTEP.html">quotep</a> origwidth))
                               (<a href="COMMON-LISP_____C3.html">&lt;</a> (<a href="ACL2____UNQUOTE.html">unquote</a> origwidth) 10000)))
                  (<a href="ACL2____FORCE.html">force</a> (<a href="COMMON-LISP_____C3.html">&lt;</a> value (<a href="COMMON-LISP____EXPT.html">expt</a> 2 origwidth)))
                  (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____POSP.html">posp</a> finalwidth))
                  (<a href="ACL2____FORCE.html">force</a> (<a href="COMMON-LISP_____C3.html">&lt;</a> origwidth finalwidth)))
             (<a href="COMMON-LISP_____C3.html">&lt;</a> (<a href="VL2014____VL-SIGN-EXTEND-CONSTINT.html">vl-sign-extend-constint</a> value origwidth finalwidth)
                (<a href="COMMON-LISP____EXPT.html">expt</a> 2 finalwidth)))
    :rule-classes ((:rewrite) (:linear)))</pre> 

</body>
</html>
