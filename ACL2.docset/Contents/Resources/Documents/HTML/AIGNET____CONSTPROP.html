<html>
<head>
<meta charset="UTF-8">
<title>Constprop</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=AIGNET____CONSTPROP">Click for Constprop in the Full Manual</a></h3>

<p>Simplify a single-output aignet by assuming inputs from a top-level conjunction 
          to be true.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(constprop aignet aignet2 config) → new-aignet2</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">aignet</span> — Input aignet.</dd> 
  <dd>
<span class="tt">aignet2</span> — New aignet -- will be emptied.</dd> 
  <dd>
<span class="tt">config</span> — Settings for the transform.<br>    <font color="#606060">Guard <span class="v">(<a href="AIGNET____CONSTPROP-CONFIG-P.html">constprop-config-p</a> config)</span>.</font>
</dd> 
 
</dl></div> 
<p>Note: This should only be run on a single-output combinational 
aignet.  In the current implementation it will return a copy of the original 
aignet otherwise; if we did attempt to apply the transform to each 
combinational output in a network having more than one, we might increase the 
size of the network.</p> 
 
<p>This transform searches the top-level AND or OR gate nest of the output 
formula for conjuncts/disjuncts that imply that combinational inputs are 
equivalent to one another or to constants.  It computes canonical forms of each 
of the equivalence classes yielded by this process (where constant literals are 
always the canonical representatives of their equivalence classes). It then 
rephrases the formula as follows.  Suppose F is the top-level formula and C is 
the conjunction of all the inputs/negations.  Let <span class="v">FC</span> denote the 
substitution into F of each canonical representative for all the literals of 
its class.  Then F is equivalent to <span class="v">FC &amp; C</span>.  This sometimes 
decreases the size of the formula because the conjuncts within C may have other 
occurrences not in the top-level conjunction of F.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>constprop</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 constprop (<a href="ACL2____AIGNET.html">aignet</a> aignet2 config)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____AIGNET.html">aignet</a> aignet2)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="AIGNET____CONSTPROP-CONFIG-P.html">constprop-config-p</a> config)))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'constprop))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
     (((local-stobjs aignet-tmp)
       (<a href="ACL2____MV.html">mv</a> aignet2 aignet-tmp))
      (aignet-tmp (<a href="AIGNET____CONSTPROP-CORE.html">constprop-core</a> aignet aignet-tmp config))
      (aignet2
           (aignet-prune-comb aignet-tmp aignet2
                              (<a href="AIGNET____CONSTPROP-CONFIG-_E3GATESIMP.html">constprop-config-&gt;gatesimp</a> config))))
     (<a href="ACL2____MV.html">mv</a> aignet2 aignet-tmp))))</pre> 
<p><b>Theorem: </b>num-ins-of-constprop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> num-ins-of-constprop
        (<a href="ACL2____B_A2.html">b*</a> ((?new-aignet2 (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____STYPE-COUNT.html">stype-count</a> :pi new-aignet2)
                   (<a href="AIGNET____STYPE-COUNT.html">stype-count</a> :pi aignet))))</pre> 
<p><b>Theorem: </b>num-regs-of-constprop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> num-regs-of-constprop
        (<a href="ACL2____B_A2.html">b*</a> ((?new-aignet2 (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____STYPE-COUNT.html">stype-count</a> :reg new-aignet2)
                   (<a href="AIGNET____STYPE-COUNT.html">stype-count</a> :reg aignet))))</pre> 
<p><b>Theorem: </b>num-outs-of-constprop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> num-outs-of-constprop
        (<a href="ACL2____B_A2.html">b*</a> ((?new-aignet2 (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____STYPE-COUNT.html">stype-count</a> :po new-aignet2)
                   (<a href="AIGNET____STYPE-COUNT.html">stype-count</a> :po aignet))))</pre> 
<p><b>Theorem: </b>constprop-comb-equivalent</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-comb-equivalent
        (<a href="ACL2____B_A2.html">b*</a> ((?new-aignet2 (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))
            (<a href="AIGNET____COMB-EQUIV.html">comb-equiv</a> new-aignet2 aignet)))</pre> 
<p><b>Theorem: </b>normalize-inputs-of-constprop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     normalize-inputs-of-constprop
     (<a href="ACL2____B_A2.html">b*</a> nil
         (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____SYNTAXP.html">syntaxp</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> aignet2 ''nil)))
                  (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)
                         (<a href="COMMON-LISP____LET.html">let</a> ((aignet2 nil))
                              (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config))))))</pre> 
<p><b>Theorem: </b>constprop-of-node-list-fix-aignet</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-of-node-list-fix-aignet
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> (<a href="AIGNET____NODE-LIST-FIX.html">node-list-fix</a> aignet)
                          aignet2 config)
               (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))</pre> 
<p><b>Theorem: </b>constprop-node-list-equiv-congruence-on-aignet</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-node-list-equiv-congruence-on-aignet
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="AIGNET____NODE-LIST-EQUIV.html">node-list-equiv</a> aignet aignet-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)
                        (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet-equiv aignet2 config)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>constprop-of-node-list-fix-aignet2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-of-node-list-fix-aignet2
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet (<a href="AIGNET____NODE-LIST-FIX.html">node-list-fix</a> aignet2)
                          config)
               (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))</pre> 
<p><b>Theorem: </b>constprop-node-list-equiv-congruence-on-aignet2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-node-list-equiv-congruence-on-aignet2
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="AIGNET____NODE-LIST-EQUIV.html">node-list-equiv</a> aignet2 aignet2-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)
                        (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2-equiv config)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>constprop-of-constprop-config-fix-config</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-of-constprop-config-fix-config
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet
                          aignet2 (<a href="AIGNET____CONSTPROP-CONFIG-FIX.html">constprop-config-fix</a> config))
               (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)))</pre> 
<p><b>Theorem: </b>constprop-constprop-config-equiv-congruence-on-config</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> constprop-constprop-config-equiv-congruence-on-config
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="AIGNET____CONSTPROP-CONFIG-EQUIV.html">constprop-config-equiv</a> config config-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config)
                        (<a href="AIGNET____CONSTPROP.html">constprop</a> aignet aignet2 config-equiv)))
        :rule-classes :congruence)</pre> 

</body>
</html>
