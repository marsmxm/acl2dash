<html>
<head>
<meta charset="UTF-8">
<title>In-theory</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____IN-THEORY">Click for In-theory in the Full Manual</a></h3>

<p>Designate ``current'' theory (enabling its rules)</p><pre class="code">Example:
(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____SET-DIFFERENCE-THEORIES.html">set-difference-theories</a>
             (<a href="ACL2____UNIVERSAL-THEORY.html">universal-theory</a> :here)
             '(<a href="ACL2____FLATTEN.html">flatten</a> (:executable-counterpart flatten))))

General Form:
(<a href="ACL2____IN-THEORY.html">in-theory</a> term)</pre> 
 
 <p>where <span class="v">term</span> is a term that when evaluated will produce a theory (see 
 <a href="ACL2____THEORIES.html">theories</a>).</p> 
 
 <p>Except for the variable <span class="tt"><a href="ACL2____WORLD.html">world</a></span>, <span class="v">term</span> must contain no free 
 variables.  <span class="v">Term</span> is evaluated with the variable <span class="tt"><a href="ACL2____WORLD.html">world</a></span> bound to 
 the current <a href="ACL2____WORLD.html">world</a> to obtain a theory and the corresponding runic theory 
 (see <a href="ACL2____THEORIES.html">theories</a>) is then made the current theory.  Thus, immediately 
 after the <span class="v">in-theory</span>, a rule is <a href="ACL2____ENABLE.html">enable</a>d iff its rule name is a 
 member of the runic interpretation (see <a href="ACL2____THEORIES.html">theories</a>) of some member of the 
 value of <span class="v">term</span>.  See <a href="ACL2____THEORY-FUNCTIONS.html">theory-functions</a> for a list of the commonly 
 used theory manipulation functions.</p> 
 
 <p>Note that it is often useful to surround <span class="v">in-theory</span> <a href="ACL2____EVENTS.html">events</a> with 
 <span class="v">local</span>, that is, to use <span class="v">(<a href="ACL2____LOCAL.html">local</a> (<a href="ACL2____IN-THEORY.html">in-theory</a> ...))</span>.  This use of <span class="tt"><a href="ACL2____LOCAL.html">local</a></span> in <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> events and <a href="ACL2____BOOKS.html">books</a> will prevent the effect 
 of this theory change from being exported outside the context of that 
 <span class="v">encapsulate</span> or book.</p> 
 
 <p>Also see <a href="ACL2____HINTS.html">hints</a> for a discussion of the <span class="v">:in-theory</span> hint, 
 including some explanation of the important point that an <span class="v">:in-theory</span> hint 
 will always be evaluated relative to the current ACL2 logical <a href="ACL2____WORLD.html">world</a>, 
 not relative to the theory of a previous goal.</p> 
 
 <p><span class="tt"><a href="ACL2____IN-THEORY.html">In-theory</a></span> returns an <a href="ACL2____ERROR-TRIPLE.html">error-triple</a>.  When the return is 
 without error, the value is of the form <span class="v">(<a href="ACL2____MV.html">mv</a> nil
 (:NUMBER-OF-ENABLED-RUNES k) state)</span> where <span class="v">k</span> is the length of the new 
 current theory.  This value of <span class="v">k</span> is what is printed when an 
 <span class="v">in-theory</span> event evaluates without error at the top level.</p>
</body>
</html>
