<html>
<head>
<meta charset="UTF-8">
<title>Append-chars</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=STR____APPEND-CHARS">Click for Append-chars in the Full Manual</a></h3>

<p>Append a string's characters onto a list.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(append-chars x y) â†’ *</pre></dt> 
</dl></div> 
<p><span class="tt">(append-chars x y)</span> takes the characters from the string <span class="v">x</span> 
and appends them onto <span class="v">y</span>.</p> 
 
<p>Its logical definition is nothing more than <span class="v">(<a href="COMMON-LISP____APPEND.html">append</a> (<a href="ACL2____EXPLODE.html">explode</a> x) y)</span>.</p> 
 
<p>In the execution, we traverse the string <span class="v">x</span> using <a href="COMMON-LISP____CHAR.html">char</a> to avoid 
the overhead of <a href="COMMON-LISP____COERCE.html">coerce</a>-ing it into a character list before performing 
the <a href="COMMON-LISP____APPEND.html">append</a>.  This reduces the overhead from <span class="v">2n</span> conses to <span class="v">n</span> 
conses, where <span class="v">n</span> is the length of <span class="v">x</span>.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>append-chars-aux</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> append-chars-aux (x n y)
       "Appends the characters from x[0:n] onto y"
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____TYPE.html">type</a> string x)
                (<a href="COMMON-LISP____TYPE.html">type</a> (integer 0 *) n)
                (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP_____C3.html">&lt;</a> n (<a href="COMMON-LISP____LENGTH.html">length</a> x))))
       (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____ZP.html">zp</a> n)
           (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CHAR.html">char</a> x 0) y)
           (append-chars-aux x (<a href="COMMON-LISP____THE.html">the</a> (integer 0 *) (<a href="COMMON-LISP____-.html">-</a> n 1))
                             (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CHAR.html">char</a> x n) y))))</pre> 
<p><b>Theorem: </b>append-chars-aux-correct</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> append-chars-aux-correct
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> x)
                      (<a href="ACL2____NATP.html">natp</a> n)
                      (<a href="COMMON-LISP_____C3.html">&lt;</a> n (<a href="COMMON-LISP____LENGTH.html">length</a> x)))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (append-chars-aux x n y)
                        (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="ACL2____TAKE.html">take</a> (<a href="COMMON-LISP_____B2.html">+</a> 1 n) (<a href="ACL2____EXPLODE.html">explode</a> x)) y))))</pre> 
<p><b>Function: </b>append-chars$inline</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> append-chars$inline (x y)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____TYPE.html">type</a> string x))
       (<a href="COMMON-LISP____LET.html">let</a> ((acl2::__function__ 'append-chars))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> acl2::__function__))
            (<a href="ACL2____MBE.html">mbe</a> :logic (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="ACL2____EXPLODE.html">explode</a> x) y)
                 :exec (<a href="ACL2____B_A2.html">b*</a> (((<a href="COMMON-LISP____THE.html">the</a> (integer 0 *) xl) (<a href="COMMON-LISP____LENGTH.html">length</a> x))
                            ((when (<a href="COMMON-LISP____EQL.html">eql</a> xl 0)) y)
                            ((<a href="COMMON-LISP____THE.html">the</a> (integer 0 *) n) (<a href="COMMON-LISP____-.html">-</a> xl 1)))
                           (append-chars-aux x n y)))))</pre> 
<p><b>Theorem: </b>character-listp-of-append-chars</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> character-listp-of-append-chars
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="ACL2____CHARACTER-LISTP.html">character-listp</a> (<a href="STR____APPEND-CHARS.html">append-chars</a> x y))
               (<a href="ACL2____CHARACTER-LISTP.html">character-listp</a> y)))</pre> 
<p><b>Theorem: </b>streqv-implies-equal-append-chars-1</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> streqv-implies-equal-append-chars-1
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____STREQV.html">streqv</a> x x-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="STR____APPEND-CHARS.html">append-chars</a> x y)
                        (<a href="STR____APPEND-CHARS.html">append-chars</a> x-equiv y)))
        :rule-classes (:congruence))</pre> 
<p><b>Theorem: </b>istreqv-implies-icharlisteqv-append-chars-1</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> istreqv-implies-icharlisteqv-append-chars-1
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="STR____ISTREQV.html">istreqv</a> x x-equiv)
                 (<a href="STR____ICHARLISTEQV.html">icharlisteqv</a> (<a href="STR____APPEND-CHARS.html">append-chars</a> x y)
                               (<a href="STR____APPEND-CHARS.html">append-chars</a> x-equiv y)))
        :rule-classes (:congruence))</pre> 
<p><b>Theorem: </b>list-equiv-implies-list-equiv-append-chars-2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> list-equiv-implies-list-equiv-append-chars-2
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____LIST-EQUIV.html">list-equiv</a> y y-equiv)
                 (<a href="ACL2____LIST-EQUIV.html">list-equiv</a> (<a href="STR____APPEND-CHARS.html">append-chars</a> x y)
                             (<a href="STR____APPEND-CHARS.html">append-chars</a> x y-equiv)))
        :rule-classes (:congruence))</pre> 
<p><b>Theorem: </b>charlisteqv-implies-charlisteqv-append-chars-2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> charlisteqv-implies-charlisteqv-append-chars-2
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="STR____CHARLISTEQV.html">charlisteqv</a> y y-equiv)
                 (<a href="STR____CHARLISTEQV.html">charlisteqv</a> (<a href="STR____APPEND-CHARS.html">append-chars</a> x y)
                              (<a href="STR____APPEND-CHARS.html">append-chars</a> x y-equiv)))
        :rule-classes (:congruence))</pre> 
<p><b>Theorem: </b>icharlisteqv-implies-icharlisteqv-append-chars-2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> icharlisteqv-implies-icharlisteqv-append-chars-2
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="STR____ICHARLISTEQV.html">icharlisteqv</a> y y-equiv)
                 (<a href="STR____ICHARLISTEQV.html">icharlisteqv</a> (<a href="STR____APPEND-CHARS.html">append-chars</a> x y)
                               (<a href="STR____APPEND-CHARS.html">append-chars</a> x y-equiv)))
        :rule-classes (:congruence))</pre> 

</body>
</html>
