<html>
<head>
<meta charset="UTF-8">
<title>Vl-filemap</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____VL-FILEMAP">Click for Vl-filemap in the Full Manual</a></h3>

<p>Mapping of source files to their contents.</p><p>It is occasionally useful to gain direct access to the source text, 
even before preprocessing has occurred.  Our file loading functions, such as 
<a href="VL2014____VL-LOAD.html">vl-load</a>, can optionally produce a <b>file map</b>, which is an alist 
that associates each file name to its contents (represented as a string).</p> 
 
<p>We previously represented the contents of each file as a list of <a href="VL2014____EXTENDED-CHARACTERS.html">extended-characters</a>.  An advantage of extended characters was that file maps 
were cheaper to construct because we already had the list of characters 
available from our file-reading functions.  Using strings, we have to pay some 
extra price for coercing the characters.</p> 
 
<p>On the other hand, strings are more compact in memory and are generally 
faster to serialize and load than extended characters.  When we began to 
develop the VL server, these properties seemed quite attractive.</p> 
 
<p>You might ask why we introduce file maps at all.  After all, a file map is 
very similar to an alist that satisfies <a href="VL2014____VL-STRING-KEYS-P.html">vl-string-keys-p</a> and <a href="VL2014____VL-STRING-VALUES-P.html">vl-string-values-p</a>.  Our basic motivation is to make it more easy to change 
the representation of a filemap in the future, should we decide that we need 
either more control or flexibility in the underlying representation.</p>
</body>
</html>
