<html>
<head>
<meta charset="UTF-8">
<title>Atj-vars-in-jexpr</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-VARS-IN-JEXPR">Click for Atj-vars-in-jexpr in the Full Manual</a></h3>

<p>Variables that will occur in the Java expression 
          generated from an ACL2 term.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-vars-in-jexpr term) → vars</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">term</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> term)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">vars</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> vars)</span>.</font>
</dd> 
 
</dl></div> 
<p>In the shallow embedding approach, 
     each Java term is translated to a Java expression 
     preceded by a Java block (which may be empty or not). 
     The block is non-empty when the term involves 
     lambda expressions, which become local variable assignments in Java, 
     and <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> calls, which become <span class="v">if</span> statements in Java. 
     As detailed below, some of the variables in the ACL2 term 
     will occur (as corresponding Java variables) in the Java expression; 
     while others will only occur in the Java block. 
     The ones that will occur in the Java expression 
     are important for the correct marking of variables. 
     This function returns the ACL2 variables in a term 
     (as a set represented as a list without duplicates) 
     that will occur in the Java expression generated from the term.</p><p>A quoted constant has no variables, 
     and is always translated to a Java expression without variables. 
     Thus, we return <span class="v">nil</span> (i.e. the empty list of variables) in this case.</p><p>An ACL2 variable is translated to a corresponding variable in Java, 
     and thus in this case we return the singleton list of the variable.</p><p>An <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> call is translated to a block with an <span class="v">if</span> statement 
     that performs all the evaluations of the test and branches, 
     and the resulting Java expression is just a single fresh Java variable 
     that has no counterpart in the ACL2 term. 
     Thus, in this case we return <span class="v">nil</span> (the empty list of variables).</p><p>A call of a named function different from <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> is translated 
     to an expression that has subexpressions obtained by translating 
     the arguments of the ACL2 function call. 
     The expression is often a method call, 
     with the subexpressions being its actual arguments, 
     but it may also be an expression involving a Java operator (e.g. <span class="v">+</span>) 
     with the subexpressions as operands. 
     Thus, in this case we return the union of the variables 
     recursively computed for the argument terms.</p><p>A call of a lamda expression is translated to 
     a Java block that assigns expressions to local variables 
     that correspond to the formal parameters of the lambda expression, 
     and to a Java expression obtained by translating 
     the body of the lambda expression. 
     Thus, in this case we return the variables 
     recursively computed for the body of the lambda expression.</p> 
 
 
 
<p><b>Theorem: </b>return-type-of-atj-vars-in-jexpr.vars</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> return-type-of-atj-vars-in-jexpr.vars
        (<a href="ACL2____B_A2.html">b*</a> ((?vars (<a href="JAVA____ATJ-VARS-IN-JEXPR.html">atj-vars-in-jexpr</a> term)))
            (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> vars))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>return-type-of-atj-vars-in-jexpr-list.vars</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> return-type-of-atj-vars-in-jexpr-list.vars
        (<a href="ACL2____B_A2.html">b*</a> ((?vars (<a href="JAVA____ATJ-VARS-IN-JEXPR-LIST.html">atj-vars-in-jexpr-list</a> terms)))
            (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> vars))
        :rule-classes :rewrite)</pre> 

</body>
</html>
