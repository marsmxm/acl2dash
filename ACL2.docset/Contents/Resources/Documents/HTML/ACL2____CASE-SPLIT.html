<html>
<head>
<meta charset="UTF-8">
<title>Case-split</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____CASE-SPLIT">Click for Case-split in the Full Manual</a></h3>

<p>Like force but immediately splits the top-level goal on the hypothesis</p><p><span class="v">Case-split</span> is a variant of <span class="tt"><a href="ACL2____FORCE.html">force</a></span>, which has similar 
 special treatment in hypotheses of rules for the same <a href="ACL2____RULE-CLASSES.html">rule-classes</a> as 
 for <span class="v">force</span> (see <a href="ACL2____FORCE.html">force</a>).  This treatment takes place for rule 
 classes <span class="v">:</span><span class="tt"><a href="ACL2____REWRITE.html">rewrite</a></span>, <span class="v">:</span><span class="tt"><a href="ACL2____LINEAR.html">linear</a></span>, <span class="v">:</span><span class="tt"><a href="ACL2____TYPE-PRESCRIPTION.html">type-prescription</a></span>, <span class="v">:</span><span class="tt"><a href="ACL2____DEFINITION.html">definition</a></span>, <span class="v">:</span><span class="tt"><a href="ACL2____META.html">meta</a></span> (actually in 
 that case, the result of evaluating the hypothesis metafunction call), and 
 <span class="v">:</span><span class="tt"><a href="ACL2____FORWARD-CHAINING.html">forward-chaining</a></span>.</p> 
 
 <p>When a hypothesis of a conditional rule (of one of the classes listed 
 above) has the form <span class="v">(<a href="ACL2____CASE-SPLIT.html">case-split</a> hyp)</span> it is logically equivalent to 
 <span class="v">hyp</span>.  However it affects the application of the rule generated as 
 follows: if ACL2 attempts to apply the rule but cannot establish that the 
 required instance of <span class="v">hyp</span> holds in the current context, it considers the 
 hypothesis true anyhow, but (assuming all hypotheses are seen to be true and 
 the rule is applied) creates a subgoal in which that instance of <span class="v">hyp</span> is 
 assumed false.  (There are exceptions, noted below.)</p> 
 
 <p>For example, given the rule</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> p1-&gt;p2
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____CASE-SPLIT.html">case-split</a> (p1 x))
           (p2 x)))</pre> 
 
 <p>then an attempt to prove</p> 
 
 <pre class="code">(<a href="ACL2____IMPLIES.html">implies</a> (p3 x) (p2 (<a href="COMMON-LISP____CAR.html">car</a> x)))</pre> 
 
 <p>can give rise to a single subgoal:</p> 
 
 <pre class="code">(<a href="ACL2____IMPLIES.html">IMPLIES</a> (<a href="COMMON-LISP____AND.html">AND</a> (<a href="COMMON-LISP____NOT.html">NOT</a> (P1 (<a href="COMMON-LISP____CAR.html">CAR</a> X))) (P3 X))
         (P2 (<a href="COMMON-LISP____CAR.html">CAR</a> X))).</pre> 
 
 <p>Unlike <span class="tt"><a href="ACL2____FORCE.html">force</a></span>, <span class="v">case-split</span> does not delay the ``false case'' to 
 a forcing round but tackles it more or less immediately.</p> 
 
 <p>The special ``split'' treatment of <span class="v">case-split</span> can be disabled by 
 disabling forcing: see <a href="ACL2____FORCE.html">force</a> for a discussion of disabling forcing, and 
 also see <a href="ACL2____DISABLE-FORCING.html">disable-forcing</a>.  Finally, we should mention that the rewriter 
 is never willing to split when there is an <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> term present in the goal 
 being simplified.  Since <span class="tt"><a href="COMMON-LISP____AND.html">and</a></span> terms and <span class="tt"><a href="COMMON-LISP____OR.html">or</a></span> terms are merely 
 abbreviations for <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> terms, they also prevent splitting.  Note that 
 <span class="tt"><a href="COMMON-LISP____IF.html">if</a></span> terms are ultimately eliminated using the ordinary flow of the 
 proof (but see <a href="ACL2____SET-CASE-SPLIT-LIMITATIONS.html">set-case-split-limitations</a>), so <span class="v">case-split</span> will 
 ultimately function as intended.</p> 
 
 <p>When in the interactive <a href="ACL2____PROOF-BUILDER.html">proof-builder</a>, <span class="v">case-split</span> behaves like 
 <span class="v">force</span>.</p> 
 
 <p><b>Function: </b>case-split</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> case-split (x)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t))
       x)</pre>
</body>
</html>
