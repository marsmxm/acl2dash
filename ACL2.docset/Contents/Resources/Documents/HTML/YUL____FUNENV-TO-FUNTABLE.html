<html>
<head>
<meta charset="UTF-8">
<title>Funenv-to-funtable</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=YUL____FUNENV-TO-FUNTABLE">Click for Funenv-to-funtable in the Full Manual</a></h3>

<p>Turn a function environment into a function table.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(funenv-to-funtable funenv) → funtab</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">funenv</span> — <font color="#606060">Guard <span class="v">(<a href="YUL____FUNENVP.html">funenvp</a> funenv)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">funtab</span> — <font color="#606060">Type <span class="v">(<a href="YUL____FUNTABLEP.html">funtablep</a> funtab)</span>.</font>
</dd> 
 
</dl></div> 
<p>In formulating the static soundness theorems, 
     we need to relate the ACL2 dynamic execution functions, 
     which take function environments as arguments, 
     with the ACL2 static safety checking functions, 
     which take function tables as arguments: 
     the function tables are the static counterparts of 
     the function environments. 
     This ACL2 function carries out this mapping, 
     by creating function tables for the function scopes 
     and joining them together. 
     It is a run-time invariant that 
     the function scopes in a function environment have disjoint keys; 
     thus, the use of <span class="tt"><a href="OMAP____UPDATE_A2.html">omap::update*</a></span> is not going to 
     overwrite any mappings. 
     However, we do not need to require this invariant here, 
     as this ACL2 function can be well-defined without it.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>funenv-to-funtable</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> funenv-to-funtable (<a href="YUL____FUNENV.html">funenv</a>)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="YUL____FUNENVP.html">funenvp</a> funenv)))
       (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'funenv-to-funtable))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
            (<a href="ACL2____B_A2.html">b*</a> (((when (<a href="COMMON-LISP____ENDP.html">endp</a> funenv)) nil)
                 (funtab-cdr (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> (<a href="COMMON-LISP____CDR.html">cdr</a> funenv)))
                 (funtab-car (<a href="YUL____FUNSCOPE-TO-FUNTABLE.html">funscope-to-funtable</a> (<a href="COMMON-LISP____CAR.html">car</a> funenv))))
                (<a href="OMAP____UPDATE_A2.html">omap::update*</a> funtab-car funtab-cdr))))</pre> 
<p><b>Theorem: </b>funtablep-of-funenv-to-funtable</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> funtablep-of-funenv-to-funtable
        (<a href="ACL2____B_A2.html">b*</a> ((funtab (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv)))
            (<a href="YUL____FUNTABLEP.html">funtablep</a> funtab))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>funenv-to-funtable-of-funenv-fix-funenv</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> funenv-to-funtable-of-funenv-fix-funenv
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> (<a href="YUL____FUNENV-FIX.html">funenv-fix</a> funenv))
               (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv)))</pre> 
<p><b>Theorem: </b>funenv-to-funtable-funenv-equiv-congruence-on-funenv</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> funenv-to-funtable-funenv-equiv-congruence-on-funenv
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="YUL____FUNENV-EQUIV.html">funenv-equiv</a> funenv funenv-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv)
                        (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv-equiv)))
        :rule-classes :congruence)</pre> 

</body>
</html>
