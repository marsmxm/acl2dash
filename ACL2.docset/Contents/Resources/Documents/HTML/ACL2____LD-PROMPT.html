<html>
<head>
<meta charset="UTF-8">
<title>Ld-prompt</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____LD-PROMPT">Click for Ld-prompt in the Full Manual</a></h3>

<p>Determines the <a href="ACL2____PROMPT.html">prompt</a> printed by <span class="tt"><a href="ACL2____LD.html">ld</a></span></p><p><span class="v">Ld-prompt</span> is an <span class="tt"><a href="ACL2____LD.html">ld</a></span> special (see <a href="ACL2____LD.html">ld</a>).  The 
 accessor is <span class="v">(<a href="ACL2____LD-PROMPT.html">ld-prompt</a> state)</span> and the updater is <span class="v">(<a href="ACL2____SET-LD-PROMPT.html">set-ld-prompt</a> val
 state)</span>.  <span class="v">Ld-prompt</span> must be either <span class="v">nil</span>, <span class="v">t</span>, or a function 
 symbol that, when given an open output character channel and <a href="ACL2____STATE.html">state</a>, 
 prints the desired <a href="ACL2____PROMPT.html">prompt</a> to the channel and returns two values: the 
 number of <a href="ACL2____CHARACTERS.html">characters</a> printed and the <a href="ACL2____STATE.html">state</a>.  The initial value 
 of <span class="v">ld-prompt</span> is <span class="v">t</span>.</p> 
 
 <p>The general-purpose ACL2 read-eval-print loop, <span class="tt"><a href="ACL2____LD.html">ld</a></span>, reads forms from 
 <span class="tt"><a href="ACL2____STANDARD-OI.html">standard-oi</a></span>, evaluates them and prints the result to <span class="tt"><a href="ACL2____STANDARD-CO.html">standard-co</a></span>.  Note that the ACL2 top-level loop (see <span class="tt"><a href="ACL2____LP.html">lp</a></span>) results from 
 an invocation of <span class="tt"><a href="ACL2____LD.html">ld</a></span>.</p> 
 
 <p>However, there are various flags that control <span class="tt"><a href="ACL2____LD.html">ld</a></span>'s behavior and 
 <span class="v">ld-prompt</span> is one of them.  <span class="v">Ld-prompt</span> determines whether <span class="tt"><a href="ACL2____LD.html">ld</a></span> 
 prints a <a href="ACL2____PROMPT.html">prompt</a> before reading the next form from <span class="tt"><a href="ACL2____STANDARD-OI.html">standard-oi</a></span>. 
 If <span class="v">ld-prompt</span> is <span class="v">nil</span>, <span class="tt"><a href="ACL2____LD.html">ld</a></span> prints no <a href="ACL2____PROMPT.html">prompt</a>.  If 
 <span class="v">ld-prompt</span> is <span class="v">t</span>, the default <a href="ACL2____PROMPT.html">prompt</a> printer is used, which 
 displays information that includes the current package, default <a href="ACL2____DEFUN-MODE.html">defun-mode</a>, <a href="ACL2____GUARD.html">guard</a> checking status (on or off), and <span class="tt"><a href="ACL2____LD-SKIP-PROOFSP.html">ld-skip-proofsp</a></span>; see <a href="ACL2____DEFAULT-PRINT-PROMPT.html">default-print-prompt</a>.</p> 
 
 <p>If <span class="v">ld-prompt</span> is neither <span class="v">nil</span> nor <span class="v">t</span>, then it should be a 
 function name, <span class="v">fn</span>, such that <span class="v">(fn channel state)</span> will print the 
 desired <a href="ACL2____PROMPT.html">prompt</a> to <span class="v">channel</span> in <span class="tt"><a href="ACL2____STATE.html">state</a></span> and return <span class="v">(<a href="ACL2____MV.html">mv</a> col
 state)</span>, where <span class="v">col</span> is the number of <a href="ACL2____CHARACTERS.html">characters</a> output (on the 
 last line output).  You may define your own <a href="ACL2____PROMPT.html">prompt</a> printing function, 
 <span class="v">fn</span>, and install it with <span class="v">(<a href="ACL2____SET-LD-PROMPT.html">set-ld-prompt</a> 'fn state)</span>.  However, a trust 
 tag must be active (see <a href="ACL2____DEFTTAG.html">defttag</a>) when you set <span class="v">ld-prompt</span> to other 
 than <span class="v">t</span> or <span class="v">nil</span> (with one exception: the function <span class="v">brr-prompt</span>, 
 which prints the prompt in the <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> loop).</p> 
 
 <p>If you supply an inappropriate <a href="ACL2____PROMPT.html">prompt</a> function, i.e., one that 
 causes an error or does not return the correct number and type of results, the 
 following odd <a href="ACL2____PROMPT.html">prompt</a> will be printed instead:</p> 
 
 <pre class="code">Bad Prompt
See :DOC ld-prompt&gt;</pre> 
 
 <p>which will lead you to this message.  You should either call <span class="tt"><a href="ACL2____LD.html">ld</a></span> 
 appropriately next time or assign an appropriate value to 
 <span class="v">ld-prompt</span>.</p>
</body>
</html>
