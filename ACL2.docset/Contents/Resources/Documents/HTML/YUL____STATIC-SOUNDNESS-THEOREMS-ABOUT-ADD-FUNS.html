<html>
<head>
<meta charset="UTF-8">
<title>Static-soundness-theorems-about-add-funs</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=YUL____STATIC-SOUNDNESS-THEOREMS-ABOUT-ADD-FUNS">Click for Static-soundness-theorems-about-add-funs in the Full Manual</a></h3>

<p>Theorems about <span class="tt"><a href="YUL____ADD-FUNS.html">add-funs</a></span> for the static soundness proof.</p><p>Similarly to how <span class="tt"><a href="YUL____GET-FUNTYPE.html">get-funtype</a></span> and <span class="tt"><a href="YUL____FIND-FUN.html">find-fun</a></span> 
     are static/dynamic counterparts, 
     so <span class="tt"><a href="YUL____ADD-FUNTYPES.html">add-funtypes</a></span> and <span class="tt"><a href="YUL____ADD-FUNS.html">add-funs</a></span> 
     are static/dynamic counterparts. 
     Here we prove theorems that relate the latter two, 
     or that relate functions that the latter two are built on.</p><p>We also prove theorems about the preservation of 
     the safety invariant of function environments. 
     Essentially, given a safe function environments, 
     if we extend with a new scope whose functions 
     are safe in the function table that also includes those functions, 
     we push a scope into the stack that satisfies the invariant; 
     and furthermore, the existing scopes still satisfy the invariant, 
     because the invariant only refers to the current and earlier scopes, 
     not to later ones that are pushed.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Theorem: </b>funinfo-to-funtype-of-funinfo-for-fundef</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> funinfo-to-funtype-of-funinfo-for-fundef
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____FUNINFO-TO-FUNTYPE.html">funinfo-to-funtype</a> (<a href="YUL____FUNINFO-FOR-FUNDEF.html">funinfo-for-fundef</a> fundef))
               (<a href="YUL____FUNTYPE-FOR-FUNDEF.html">funtype-for-fundef</a> fundef)))</pre> 
<p><b>Theorem: </b>in-funscope-for-fundefs-iff-in-funtable-for-fundefs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 in-funscope-for-fundefs-iff-in-funtable-for-fundefs
 (<a href="ACL2____IMPLIES.html">implies</a>
     (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs)))
          (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNTABLE-FOR-FUNDEFS.html">funtable-for-fundefs</a> fundefs))))
     (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="OMAP____IN.html">omap::in</a> fun (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs)))
            (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="OMAP____IN.html">omap::in</a> fun (<a href="YUL____FUNTABLE-FOR-FUNDEFS.html">funtable-for-fundefs</a> fundefs))))))</pre> 
<p><b>Theorem: </b>error-funscope-for-fundefs-iff-error-funtable-for-fundefs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> error-funscope-for-fundefs-iff-error-funtable-for-fundefs
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs))
               (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNTABLE-FOR-FUNDEFS.html">funtable-for-fundefs</a> fundefs))))</pre> 
<p><b>Theorem: </b>funscope-to-funtable-of-funscope-for-fundefs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   funscope-to-funtable-of-funscope-for-fundefs
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs)))
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____FUNSCOPE-TO-FUNTABLE.html">funscope-to-funtable</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs))
               (<a href="YUL____FUNTABLE-FOR-FUNDEFS.html">funtable-for-fundefs</a> fundefs))))</pre> 
<p><b>Theorem: </b>keys-of-funscope-for-fundefs-is-keys-of-funtable-for-fundefs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
    keys-of-funscope-for-fundefs-is-keys-of-funtable-for-fundefs
    (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs)))
                  (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNTABLE-FOR-FUNDEFS.html">funtable-for-fundefs</a> fundefs))))
             (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs))
                    (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____FUNTABLE-FOR-FUNDEFS.html">funtable-for-fundefs</a> fundefs)))))</pre> 
<p><b>Theorem: </b>funenv-to-funtable-of-add-funs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   funenv-to-funtable-of-add-funs
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv)))
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv))
               (<a href="YUL____ADD-FUNTYPES.html">add-funtypes</a> fundefs (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv)))))</pre> 
<p><b>Theorem: </b>error-add-funs-iff-error-add-funtypes</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 error-add-funs-iff-error-add-funtypes
 (<a href="COMMON-LISP____EQUAL.html">equal</a>
   (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv))
   (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNTYPES.html">add-funtypes</a> fundefs (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv)))))</pre> 
<p><b>Theorem: </b>funinfo-safep-of-funinfo-for-fundef</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     funinfo-safep-of-funinfo-for-fundef
     (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____CHECK-SAFE-FUNDEF.html">check-safe-fundef</a> fundef funtab)))
              (<a href="YUL____FUNINFO-SAFEP.html">funinfo-safep</a> (<a href="YUL____FUNINFO-FOR-FUNDEF.html">funinfo-for-fundef</a> fundef)
                             funtab)))</pre> 
<p><b>Theorem: </b>funscope-safep-of-funscope-for-fundefs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 funscope-safep-of-funscope-for-fundefs
 (<a href="ACL2____IMPLIES.html">implies</a>
     (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____CHECK-SAFE-FUNDEF-LIST.html">check-safe-fundef-list</a> fundefs funtab)))
          (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs))))
     (<a href="YUL____FUNSCOPE-SAFEP.html">funscope-safep</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs)
                     funtab)))</pre> 
<p><b>Theorem: </b>car-of-add-funs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> car-of-add-funs
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv)))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____CAR.html">car</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv))
                        (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs))))</pre> 
<p><b>Theorem: </b>cdr-of-add-funs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> cdr-of-add-funs
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv)))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____CDR.html">cdr</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv))
                        (<a href="YUL____FUNENV-FIX.html">funenv-fix</a> funenv))))</pre> 
<p><b>Theorem: </b>not-error-funscope-for-fundefs-when-not-error-add-funs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> not-error-funscope-for-fundefs-when-not-error-add-funs
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv)))
                 (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> fundefs)))))</pre> 
<p><b>Theorem: </b>funenv-safep-of-add-funs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 funenv-safep-of-add-funs
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="COMMON-LISP____AND.html">and</a>
   (<a href="YUL____FUNENV-SAFEP.html">funenv-safep</a> funenv)
   (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv)))
   (<a href="COMMON-LISP____NOT.html">not</a>
    (<a href="FTY____RESULTERRP.html">resulterrp</a>
         (<a href="YUL____CHECK-SAFE-FUNDEF-LIST.html">check-safe-fundef-list</a>
              fundefs
              (<a href="YUL____ADD-FUNTYPES.html">add-funtypes</a> fundefs (<a href="YUL____FUNENV-TO-FUNTABLE.html">funenv-to-funtable</a> funenv))))))
  (<a href="YUL____FUNENV-SAFEP.html">funenv-safep</a> (<a href="YUL____ADD-FUNS.html">add-funs</a> fundefs funenv))))</pre> 

</body>
</html>
