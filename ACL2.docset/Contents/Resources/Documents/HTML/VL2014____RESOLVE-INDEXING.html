<html>
<head>
<meta charset="UTF-8">
<title>Resolve-indexing</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____RESOLVE-INDEXING">Click for Resolve-indexing in the Full Manual</a></h3>

<p>Resolve <span class="v">:vl-index</span> operators that are applied to simple 
bitvectors into <span class="v">:vl-bitselect</span> operators.</p><p>When our <a href="VL2014____PARSER.html">parser</a> encounters a subexpression like <span class="v">foo[i]</span>, 
it does not know whether <span class="v">foo</span> is an ordinary vector like <span class="v">wire [3:0]
foo</span>, an array like <span class="v">reg [63:0] foo [128:0];</span>, or something more 
complicated like a reference into an array of instances or similar.  To account 
for this, the parser just produces <span class="v">:vl-index</span> operators whenever it sees a 
selection like <span class="v">foo[i]</span>.  Similarly when it encounters a range select such 
as <span class="v">foo[5:3]</span> or <span class="v">foo[4+:6]</span>, it produces either a <span class="v">:vl-select-colon</span>, 
<span class="v">:vl-select-pluscolon</span>, or <span class="v">:vl-select-minuscolon</span> operator; these could 
be simple partselects or they could be selecting a range of substructures.</p> 
 
<p>In this transform, we convert these unresolved index operators into 
<span class="v">:vl-bitselect</span>, <span class="v">:vl-partselect-colon</span>, <span class="v">:vl-partselect-pluscolon</span>, 
and <span class="v">:vl-partselect-minuscolon</span> operations when we can tell that they can be 
treated as selects from a simple vector.  This transform should typically be 
run very early in the transformation sequence, as later transforms often expect 
to find proper <span class="v">:vl-bitselect</span> operators.</p> 
 
<p>As we implement better array support, this transform remains useful for 
backward compatibility with other transforms that don't deal correctly with 
arrays and complex SystemVerilog datatypes.  Generally, when a transform is 
written with arrays and complex datatypes in mind, it will treat the resolved 
and unresolved versions of these index operators equivalently.  Otherwise, it 
will only deal with the resolved versions and should produce a warning if it 
comes across an unresolved operator.</p>
</body>
</html>
