<html>
<head>
<meta charset="UTF-8">
<title>Deftutorial</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____DEFTUTORIAL">Click for Deftutorial in the Full Manual</a></h3>

<p>Generate utilities to build a tutorial.</p><p>A tutorial, in the ACL2+Books documentation, 
     may often consist of a collection of manual pages (i.e. XDOC topics) 
     organized in a sequence. 
     The pages are meant to be read, at least the first time, in that order. 
     It is generally convenient for these pages to include 
     `next' and `previous' links to navigate through the sequence.</p><p>The <span class="v">deftutorial</span> macro generates macros that can be used to 
     build a tutorial with the structure described above, 
     in which the `next' and `previous' links are generated automatically 
     based on the order in which the tutorial pages are defined in the file. 
     The way <span class="v">deftutorial</span> works is perhaps most easily explained 
     through a simple (artificial) example.</p><p>The user starts with a (top-level) call 
     to generate the macros used for defining the tutorial pages:</p><pre class="code">(<a href="ACL2____DEFTUTORIAL.html">deftutorial</a> my-tutorial "My tutorial")</pre><p>Here, <span class="v">my-tutorial</span> is a symbol that names the tutorial. 
     This could be any symbol, which is used in the names of 
     the generated macros (and associated functions) described below, 
     the ACL2 table mentioned below, 
     and the XDOC topics generated by those macros. 
     The second argument, <span class="v">"My Tutorial"</span>, 
     is a short description of the tutorial, 
     used to construct the XDOC short strings of the tutorial pages (see below). 
     It must be a string that does not end with a period, 
     because in the generated XDOC short strings 
     it is followed by a period or colon.</p><p>The above call of <span class="v">deftutorial</span> generates the following macros:</p><ul>
<li><span class="v">def-my-tutorial-top</span></li>
<li><span class="v">def-my-tutorial-page</span></li>
<li><span class="v">def-my-tutorial-topics</span></li>
<li><span class="v">my-tutorial-section</span></li>
</ul><p>Note that part of their names is the symbol <span class="v">my-tutorial</span> 
     passed to <span class="v">deftutorial</span>. 
     These generated macros are used as follows.</p><p>Then the user should make a (top-level) call 
     to define the top page of the tutorial:</p><pre class="code">(def-my-tutorial-top
  (my-tool my-tutorials)
  (<a href="XDOC____P.html">xdoc::p</a>
   "Here we provide a tutorial for this very good tool.")
  (<a href="XDOC____P.html">xdoc::p</a>
   "Although we are using XDOC constructors here,
    we could be using a plain XDOC long string here."))</pre><p>The first argument defines the XDOC parent list. 
     The remaining arguments must be XDOC constructor trees, 
     or strings as a special case of trees. 
     This does not define an XDOC topic yet; 
     it just stores information about the XDOC topic into a table. 
     The topic will be called <span class="v">my-tutorial</span> 
     (so the name passed to <span class="v">deftutorial</span> must be chosen 
     not to conflict with existing XDOC topics in the manual), 
     and the table is called <span class="v">my-tutorial-table</span>. 
     This is the top page of the tutorial, 
     so it should describe the tutorial in general; 
     it may also mention that the pages (subtopics) 
     are organized sequentialy, with bidirectional links. 
     The parents of this topic is determined by the first argument. 
     The short string is automatically generated as <span class="v">"My tutorial."</span>, 
     i.e. the second argument of <span class="v">deftutorial</span> followed by a period. 
     The long string is obtained by concatenating 
     the remaining arguments of <span class="v">def-my-tutorial-top</span>.</p><p>Then the user should make one of more (top-level) calls 
     to define the (non-top) pages of the tutorial:</p><pre class="code">(def-my-tutorial-page first-topic
  "The first topic of my tutorial"
  (<a href="XDOC____P.html">xdoc::p</a>
   "Here we discuss the first topic of my tutorial.")
  (<a href="XDOC____P.html">xdoc::p</a>
   "This must consist of zero or more XDOC constructor trees,
    or simply XDOC strings (which are also trees)."))

(def-my-tutorial-page second-topic
  "The second topic of my tutorial"
  (<a href="XDOC____P.html">xdoc::p</a>
   "Here we discuss the second topic of my tutorial.")
  (<a href="XDOC____P.html">xdoc::p</a>
   "Again, this must consist of zero or more XDOC constructor trees,
    or simply XDOC strings (which are also trees)."))

... ; additional pages</pre><p>Similarly to the top level page, these do not define XDOC topics yet; 
     they store their information in the table <span class="v">my-tutorial-table</span>. 
     Each such call defines a page of the tutorial. 
     The XDOC topics will be 
     <span class="v">my-tutorial-first-topic</span>, 
     <span class="v">my-tutorial-second-topic</span>, 
     etc.; 
     i.e. symbol supplied to each all is appended after <span class="v">my-tutorial-</span> 
     (note the final separating dash). 
     No explicit XDOC parents are supplied, 
     because each page has the top tutorial page <span class="v">my-tutorial</span> as only parent. 
     The XDOC short string is generated by concatenating 
     the second argument of <span class="v">def-my-tutorial-page</span> 
     to the second argument of <span class="v">deftutorial</span> with a separating colon, 
     and a period at the end: 
     <span class="v">"My tutorial: The first topic of my tutorial."</span>, 
     <span class="v">"My tutorial: The second topic of my tutorial."</span>, 
     etc. 
     The XDOC long string is obtained by concatenating 
     the remaining arguments of the macro. 
     The pages must be defined in the sequential order 
     in which they must be bidirectionally linked in the manual.</p><p>Finally, the user should make a (top-level) call 
     to actually create all the XDOC topics defined above, 
     augmenting them with links:</p><pre class="code">(def-my-tutorial-topics)</pre><p>This reads the information about all the pages from <span class="v">my-tutorial-table</span> 
     and generates <span class="tt"><a href="ACL2____DEFXDOC.html">defxdoc</a></span> calls whose long strings 
     are augmented by link information at their ends:</p><ul>
<li>The top tutorial page <span class="v">my-tutorial</span> has 
      a `start' link to the first page, <span class="v">my-tutorial-first-topic</span>.</li>
<li>Each non-top page except the last one has 
      a `next' link to the following page, 
      e.g. <span class="v">my-tutorial-first-topic</span> has 
      a link to <span class="v">my-tutorial-second-topic</span>.</li>
<li>Each non-top page except the first one has 
      a `previous' link to the preceding page, 
      e.g. <span class="v">my-tutorial-second-topic</span> has 
      a link to <span class="v">my-tutorial-first-topic</span>.</li>
</ul><p>The generated macro <span class="v">my-tutorial-section</span> can be called 
     as part of an XDOC constructor tree to create a section 
     in a tutorial page (normally the non-top pages). 
     This may be useful to provide some structure to a long tutorial page, 
     by providing some ``division'' in the page. 
     For example:</p><pre class="code">...

(<a href="XDOC____P.html">xdoc::p</a>
 "There are three different kinds of this thing.
  These are described in the rest of this page.")

(my-tutorial-section "The First Kind")

(<a href="XDOC____P.html">xdoc::p</a>
 "We describe the first kind here.")

(my-tutorial-section "The Second Kind")

(<a href="XDOC____P.html">xdoc::p</a>
 "We describe the second kind here.")

(my-tutorial-section "The Third Kind")

(<a href="XDOC____P.html">xdoc::p</a>
 "We describe the third kind here.")

...</pre><p>Using this is more abstract than using a specific heading level. 
     We may extend <span class="v">deftutorial</span> to generate additional macros 
     like <span class="v">my-tutorial-subsection</span> and <span class="v">my-tutorial-subsubsection</span> 
     at some point.</p><p>Here we use the term `tutorial' in a broad sense. 
     As should be clear from the above description, 
     <span class="v">deftutorial</span> is useful to build any kind of 
     sequentially organized and bidirectionally linked manual pages. 
     We could rename this macro to something more general at some point, 
     if some idea for a good general name is proposed.</p>
</body>
</html>
