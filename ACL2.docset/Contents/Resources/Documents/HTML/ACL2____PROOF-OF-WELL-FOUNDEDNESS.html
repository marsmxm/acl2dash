<html>
<head>
<meta charset="UTF-8">
<title>Proof-of-well-foundedness</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____PROOF-OF-WELL-FOUNDEDNESS">Click for Proof-of-well-foundedness in the Full Manual</a></h3>

<p>A proof that <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> is well-founded on <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s</p><p>The soundness of ACL2 rests in part on the well-foundedness of 
 <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> on <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s.  This can be taken as obvious if one is willing to 
 grant that those concepts are simply encodings of the standard mathematical 
 notions of the ordinals below <span class="v">epsilon-0</span> and its natural ordering 
 relation.  But it is possible to prove that <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> is well-founded on 
 <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s without having to assert any connection to the ordinals and that 
 is what we do here.  The community book 
 <span class="v">books/ordinals/proof-of-well-foundedness</span> carries out the proof outlined 
 below in ACL2, using only that the natural numbers are well-founded.</p> 
 
 <p>Before outlining the above mentioned proof, we note that in the analogous 
 documentation page of ACL2 Version_2.7, there is a proof of the 
 well-foundedness of <span class="v">e0-ord-&lt;</span> on <span class="v">e0-ordinalp</span>s, the less-than relation 
 and recognizer for the old ordinals (that is, for the ordinals appearing in 
 ACL2 up through that version).  Manolios and Vroon have given a proof in ACL2 
 Version_2.7 that the current ordinals (based on <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> and <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>) 
 are order-isomorphic to the old ordinals (based on <span class="v">e0-ord-&lt;</span> and 
 <span class="v">e0-ordinalp</span>).  Their proof establishes that switching from the old 
 ordinals to the current ordinals preserves the soundness of ACL2.  For details 
 see their paper:</p> 
 
 <pre class="code">Manolios, Panagiotis &amp; Vroon, Daron. 
Ordinal arithmetic in ACL2. 
Kaufmann, Matt, &amp; Moore, J Strother (eds). 
Fourth International Workshop on the ACL2 Theorem 
Prover and Its Applications (ACL2-2003), 
July, 2003. 
See <a href="http://www.cs.utexas.edu/users/moore/acl2/workshop-2003/" target="_blank"><nobr>http://www.cs.utexas.edu/users/moore/acl2/workshop-2003/<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/acl2/workshop-2003/"></nobr></a>. 
</pre> 
 
 <p>We now give an outline of the above mentioned proof of well-foundedness. 
 We first observe three facts about <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> on ordinals that have been 
 proved by ACL2 using only structural induction on lists.  These theorems can 
 be proved by hand.</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> transitivity-of-o&lt;
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____O_C3.html">o&lt;</a> x y)
                (<a href="ACL2____O_C3.html">o&lt;</a> y z))
           (<a href="ACL2____O_C3.html">o&lt;</a> x z))
  :rule-classes nil)

(<a href="ACL2____DEFTHM.html">defthm</a> non-circularity-of-o&lt;
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____O_C3.html">o&lt;</a> x y)
           (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____O_C3.html">o&lt;</a> y x)))
  :rule-classes nil)

(<a href="ACL2____DEFTHM.html">defthm</a> trichotomy-of-o&lt;
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____O-P.html">o-p</a> x)
                (<a href="ACL2____O-P.html">o-p</a> y))
           (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> x y)
               (<a href="ACL2____O_C3.html">o&lt;</a> x y)
               (<a href="ACL2____O_C3.html">o&lt;</a> y x)))
  :rule-classes nil)</pre> 
 
 <p>These three properties establish that <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> orders the <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s. 
 To put such a statement in the most standard mathematical nomenclature, we can 
 define the macro:</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFMACRO.html">defmacro</a> o&lt;= (x y)
  `(<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____O_C3.html">o&lt;</a> ,y ,x)))</pre> 
 
 <p>and then establish that <span class="v">o&lt;=</span> is a relation that is a simple, complete 
 (i.e., total) order on ordinals by the following three lemmas, which have been 
 proved:</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> antisymmetry-of-o&lt;=
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____O-P.html">o-p</a> x)
                (<a href="ACL2____O-P.html">o-p</a> y)
                (<a href="ACL2____O_C3_D3.html">o&lt;=</a> x y)
                (<a href="ACL2____O_C3_D3.html">o&lt;=</a> y x))
           (<a href="COMMON-LISP____EQUAL.html">equal</a> x y))
  :rule-classes nil
  :hints (("Goal" :use non-circularity-of-o&lt;)))

(<a href="ACL2____DEFTHM.html">defthm</a> transitivity-of-o&lt;=
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____O-P.html">o-p</a> x)
                (<a href="ACL2____O-P.html">o-p</a> y)
                (<a href="ACL2____O_C3_D3.html">o&lt;=</a> x y)
                (<a href="ACL2____O_C3_D3.html">o&lt;=</a> y z))
           (<a href="ACL2____O_C3_D3.html">o&lt;=</a> x z))
  :rule-classes nil
  :hints (("Goal" :use transitivity-of-o&lt;)))

(<a href="ACL2____DEFTHM.html">defthm</a> trichotomy-of-o&lt;=
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____O-P.html">o-p</a> x)
                (<a href="ACL2____O-P.html">o-p</a> y))
           (<a href="COMMON-LISP____OR.html">or</a> (<a href="ACL2____O_C3_D3.html">o&lt;=</a> x y)
               (<a href="ACL2____O_C3_D3.html">o&lt;=</a> y x)))
  :rule-classes nil
  :hints (("Goal" :use trichotomy-of-o&lt;)))</pre> 
 
 <p>Crucially important to the proof of the well-foundedness of <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> on 
 <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s is the concept of ordinal-depth, abbreviated <span class="v">od</span>:</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> od (l)
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____O-FINP.html">o-finp</a> l)
      0
    (<a href="COMMON-LISP____1_B2.html">1+</a> (od (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> l)))))</pre> 
 
 <p>If the <span class="v">od</span> of an <span class="tt"><a href="ACL2____O-P.html">o-p</a></span> <span class="v">x</span> is smaller than that of an <span class="tt"><a href="ACL2____O-P.html">o-p</a></span> <span class="v">y</span>, then <span class="v">x</span> is <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> <span class="v">y</span>:</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> od-1 (x y)
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____O-FINP.html">o-finp</a> x)
      (<a href="COMMON-LISP____LIST.html">list</a> x y)
    (od-1 (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> x) (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> y))))

(<a href="ACL2____DEFTHM.html">defthm</a> od-implies-ordlessp
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____O-P.html">o-p</a> x)
                (<a href="COMMON-LISP_____C3.html">&lt;</a> (od x) (od y)))
           (<a href="ACL2____O_C3.html">o&lt;</a> x y))
  :hints (("Goal"
           :induct (od-1 x y))))</pre> 
 
 <p>Remark.  A consequence of this lemma is the fact that if <span class="v">s = s(1)</span>, 
 <span class="v">s(2)</span>, ... is an infinite, <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> descending sequence of <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s, 
 then <span class="v">od(<a href="ACL2____S.html">s</a>(1))</span>, <span class="v">od(<a href="ACL2____S.html">s</a>(2))</span>, ... is a ``weakly'' descending sequence of 
 non-negative integers: <span class="v">od(<a href="ACL2____S.html">s</a>(i))</span> is greater than or equal to 
 <span class="v">od(<a href="ACL2____S.html">s</a>(i+1))</span>.</p> 
 
 <p><i>Lemma Main.</i> For each non-negative integer <span class="v">n</span>, <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> 
 well-orders the set of <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s with <span class="v">od</span> less than or equal to <span class="v">n</span> 
 .</p> 
 
 <pre class="code">Base Case.  n = 0.  The o-ps with 0 od are the non-negative
integers.  On the non-negative integers, o&lt; is the same as &lt;.

Induction Step.  n &gt; 0.  We assume that o&lt; well-orders the
o-ps with od less than n.

  If o&lt; does not well-order the o-ps with od less than or equal to n,
  consider, D, the set of infinite, o&lt; descending sequences of o-ps of od
  less than or equal to n.  The first element of a sequence in D has od n.
  Therefore, the o-first-expt of the first element of a sequence in D has od
  n-1.  Since o&lt;, by IH, well-orders the o-ps with od less than n, the set
  of o-first-expts of first elements of the sequences in D has a minimal
  element, which we denote by B and which has od of n-1.

  Let k be the minimum integer such that for some infinite, o&lt; descending
  sequence s of o-ps with od less than or equal to n, the first element of s
  has an o-first-expt of B and an o-first-coeff of k.  Notice that k is
  positive.

  Having fixed B and k, let s = s(1), s(2), ... be an infinite, o&lt;
  descending sequence of o-ps with od less than or equal to n such that s(1)
  has a o-first-expt of B and an o-first-coeff of k.

  We show that each s(i) has a o-first-expt of B and an o-first-coeff of
  k. For suppose that s(j) is the first member of s either with o-first-expt
  B and o-first-coeff m (m neq k) or with o-first-expt B' and o-first-coeff
  B' (B' neq B). If (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> s(j)) = B', then B' has od n-1 (otherwise,
  by IH, s would not be infinite) and B' is o&lt; B, contradicting the
  minimality of B. If 0 &lt; m &lt; k, then the fact that the sequence beginning
  at s(j) is infinitely descending contradicts the minimality of k. If m &gt;
  k, then s(j) is greater than its predecessor; but this contradicts the
  fact that s is descending.

  Thus, by the definition of o&lt;, for s to be a decreasing sequence of o-ps,
  (<a href="ACL2____O-RST.html">o-rst</a> s(1)), (<a href="ACL2____O-RST.html">o-rst</a> s(2)), ... must be a decreasing sequence. We end by
  showing this cannot be the case. Let t = t(1), t(2), ... be an infinite
  sequence of o-ps such that t(i) = (<a href="ACL2____O-RST.html">o-rst</a> s(i)). Then t is infinitely
  descending. Furthermore, t(1) begins with an o-p B' that is o&lt; B. Since t
  is in D, t(1) has od n, therefore, B' has od n-1. But this contradicts the
  minimality of B. Q.E.D.</pre> 
 
 <p>Theorem.  <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> well-orders the <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s.  Proof.  Every 
 infinite,<span class="v"> o&lt;</span> descending sequence of <span class="tt"><a href="ACL2____O-P.html">o-p</a></span>s has the property that 
 each member has <span class="v">od</span> less than or equal to the <span class="v">od</span>, <span class="v">n</span>, of the 
 first member of the sequence.  This contradicts Lemma Main.  Q.E.D.</p>
</body>
</html>
