<html>
<head>
<meta charset="UTF-8">
<title>Restrict-gen-old-to-new</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=APT____RESTRICT-GEN-OLD-TO-NEW">Click for Restrict-gen-old-to-new in the Full Manual</a></h3>

<p>Generate the theorem that relates the old and new functions.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(restrict-gen-old-to-new old restriction new old-to-new 
                         old-to-new-enable appcond-thm-names 
                         stub? old-unnorm new-unnorm wrld) 
 
  → 
(mv local-event exported-event)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">old</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old)</span>.</font>
</dd> 
  <dd>
<span class="tt">restriction</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> restriction)</span>.</font>
</dd> 
  <dd>
<span class="tt">new</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> new)</span>.</font>
</dd> 
  <dd>
<span class="tt">old-to-new</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-to-new)</span>.</font>
</dd> 
  <dd>
<span class="tt">old-to-new-enable</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> old-to-new-enable)</span>.</font>
</dd> 
  <dd>
<span class="tt">appcond-thm-names</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-SYMBOL-ALISTP.html">symbol-symbol-alistp</a> appcond-thm-names)</span>.</font>
</dd> 
  <dd>
<span class="tt">stub?</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> stub?)</span>.</font>
</dd> 
  <dd>
<span class="tt">old-unnorm</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-unnorm)</span>.</font>
</dd> 
  <dd>
<span class="tt">new-unnorm</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> new-unnorm)</span>.</font>
</dd> 
  <dd>
<span class="tt">wrld</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PLIST-WORLDP.html">plist-worldp</a> wrld)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">local-event</span> — A <span class="tt"><a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a></span>.</dd> 
<dd>
<span class="tt">exported-event</span> — A <span class="tt"><a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a></span>.</dd> 
 
</dl></div> 
<p> 
   The macro used to introduce the theorem is determined by 
   whether the theorem must be enabled or not. 
   </p> 
   <p> 
   The formula of the theorem equates old and new functions 
   under the restricting predicate, 
   as described in the documentation. 
   </p> 
   <p> 
   If the old and new functions are not recursive, 
   then, following the design notes, the theorem is proved 
   in the theory consisting of 
   the two theorems that install the non-normalized definitions of the functions 
   and the induction rule of the old function. 
   If the old and new functions are recursive, 
   then, following the design notes, the theorem is proved 
   by induction on the old function, 
   in the theory consisting of 
   the two theorems that install the non-normalized definitions of the functions 
   and the induction rule of the old function, 
   and using the <span class="v">:restriction-of-rec-calls</span> applicability condition. 
   If the old and new functions are reflexive, 
   we functionally instantiate the stub in that applicability condition. 
   </p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>restrict-gen-old-to-new</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 restrict-gen-old-to-new
 (old restriction new old-to-new
      old-to-new-enable appcond-thm-names
      stub? old-unnorm new-unnorm wrld)
 (<a href="COMMON-LISP____DECLARE.html">declare</a>
      (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old)
                         (<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> restriction)
                         (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> new)
                         (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-to-new)
                         (<a href="ACL2____BOOLEANP.html">booleanp</a> old-to-new-enable)
                         (<a href="ACL2____SYMBOL-SYMBOL-ALISTP.html">symbol-symbol-alistp</a> appcond-thm-names)
                         (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> stub?)
                         (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-unnorm)
                         (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> new-unnorm)
                         (<a href="ACL2____PLIST-WORLDP.html">plist-worldp</a> wrld))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'restrict-gen-old-to-new))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   ((<a href="ACL2____FORMALS.html">formals</a> (<a href="ACL2____FORMALS.html">formals</a> old wrld))
    (<a href="ACL2____FORMULA.html">formula</a>
         (<a href="ACL2____IMPLICATE.html">implicate</a> restriction
                    (<a href="COMMON-LISP____CONS.html">cons</a> 'equal
                          (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old formals)
                                (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> new formals) 'nil)))))
    (<a href="ACL2____FORMULA.html">formula</a> (<a href="ACL2____UNTRANSLATE.html">untranslate</a> formula t wrld))
    (recursive (<a href="ACL2____RECURSIVEP.html">recursivep</a> old nil wrld))
    (hints
     (<a href="COMMON-LISP____IF.html">if</a>
      recursive
      (<a href="ACL2____B_A2.html">b*</a>
       ((lemma-name
         (<a href="COMMON-LISP____CDR.html">cdr</a>
            (<a href="ACL2____ASSOC-EQ.html">assoc-eq</a> :restriction-of-rec-calls appcond-thm-names)))
        (lemma-instance
             (<a href="COMMON-LISP____IF.html">if</a> stub?
                 (<a href="COMMON-LISP____CONS.html">cons</a> ':functional-instance
                       (<a href="COMMON-LISP____CONS.html">cons</a> lemma-name
                             (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> stub? (<a href="COMMON-LISP____CONS.html">cons</a> new 'nil))
                                   'nil)))
                 lemma-name)))
       (<a href="COMMON-LISP____CONS.html">cons</a>
        (<a href="COMMON-LISP____CONS.html">cons</a>
         '"Goal"
         (<a href="COMMON-LISP____CONS.html">cons</a>
          ':in-theory
          (<a href="COMMON-LISP____CONS.html">cons</a>
           (<a href="COMMON-LISP____CONS.html">cons</a>
            'quote
            (<a href="COMMON-LISP____CONS.html">cons</a>
                (<a href="COMMON-LISP____CONS.html">cons</a> old-unnorm
                      (<a href="COMMON-LISP____CONS.html">cons</a> new-unnorm
                            (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> ':induction (<a href="COMMON-LISP____CONS.html">cons</a> old 'nil))
                                  'nil)))
                'nil))
           (<a href="COMMON-LISP____CONS.html">cons</a> ':induct
                 (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old formals) 'nil)))))
        (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'quote
                    (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> ':use (<a href="COMMON-LISP____CONS.html">cons</a> lemma-instance 'nil))
                          'nil))
              'nil)))
      (<a href="COMMON-LISP____CONS.html">cons</a>
       (<a href="COMMON-LISP____CONS.html">cons</a>
        '"Goal"
        (<a href="COMMON-LISP____CONS.html">cons</a>
          ':in-theory
          (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'quote
                      (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old-unnorm (<a href="COMMON-LISP____CONS.html">cons</a> new-unnorm 'nil))
                            'nil))
                'nil)))
       'nil))))
   (<a href="ACL2____EVMAC-GENERATE-DEFTHM.html">evmac-generate-defthm</a> old-to-new
                          :formula formula
                          :hints hints
                          :enable old-to-new-enable))))</pre> 

</body>
</html>
