<html>
<head>
<meta charset="UTF-8">
<title>Init-scope</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=C____INIT-SCOPE">Click for Init-scope in the Full Manual</a></h3>

<p>Initialize the variable scope for a function call.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(init-scope formals actuals) → result</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">formals</span> — <font color="#606060">Guard <span class="v">(<a href="C____PARAM-DECLON-LISTP.html">param-declon-listp</a> formals)</span>.</font>
</dd> 
  <dd>
<span class="tt">actuals</span> — <font color="#606060">Guard <span class="v">(<a href="C____VALUE-LISTP.html">value-listp</a> actuals)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">result</span> — <font color="#606060">Type <span class="v">(<a href="C____SCOPE-RESULTP.html">scope-resultp</a> result)</span>.</font>
</dd> 
 
</dl></div> 
<p>We go through formal parameters and actual arguments, 
     pairing them up into the scope. 
     We return an error if they do not match in number or types, 
     or if there are repeated parameters. 
     We perform array-to-pointer conversion on both types 
     before comparing them.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>init-scope</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
    init-scope (formals actuals)
    (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="C____PARAM-DECLON-LISTP.html">param-declon-listp</a> formals)
                                (<a href="C____VALUE-LISTP.html">value-listp</a> actuals))))
    (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'init-scope))
         (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
         (<a href="ACL2____B_A2.html">b*</a> ((formals (<a href="C____PARAM-DECLON-LIST-FIX.html">param-declon-list-fix</a> formals))
              (actuals (<a href="C____VALUE-LIST-FIX.html">value-list-fix</a> actuals))
              ((when (<a href="COMMON-LISP____ENDP.html">endp</a> formals))
               (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____ENDP.html">endp</a> actuals)
                   nil
                   (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :init-scope
                                :extra-actuals actuals))))
              ((when (<a href="COMMON-LISP____ENDP.html">endp</a> actuals))
               (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :init-scope
                            :extra-formals formals)))
              (<a href="C____SCOPE.html">scope</a> (<a href="C____INIT-SCOPE.html">init-scope</a> (<a href="COMMON-LISP____CDR.html">cdr</a> formals)
                                 (<a href="COMMON-LISP____CDR.html">cdr</a> actuals)))
              ((when (<a href="C____ERRORP.html">errorp</a> scope)) scope)
              (formal (<a href="COMMON-LISP____CAR.html">car</a> formals))
              (actual (<a href="COMMON-LISP____CAR.html">car</a> actuals))
              ((<a href="ACL2____MV.html">mv</a> name tyname)
               (<a href="C____PARAM-DECLON-TO-IDENT_B2TYNAME.html">param-declon-to-ident+tyname</a> formal))
              (formal-type (<a href="C____APCONVERT-TYPE.html">apconvert-type</a> (<a href="C____TYNAME-TO-TYPE.html">tyname-to-type</a> tyname)))
              (actual-type (<a href="C____APCONVERT-TYPE.html">apconvert-type</a> (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> actual)))
              ((unless (<a href="COMMON-LISP____EQUAL.html">equal</a> formal-type actual-type))
               (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :formal-actual-mistype
                            :name name
                            :formal formal-type
                            :actual actual-type))))
             (<a href="COMMON-LISP____IF.html">if</a> (<a href="OMAP____IN.html">omap::in</a> name scope)
                 (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :init-scope
                              :duplicate-param name))
                 (<a href="OMAP____UPDATE.html">omap::update</a> name actual scope)))))</pre> 
<p><b>Theorem: </b>scope-resultp-of-init-scope</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> scope-resultp-of-init-scope
        (<a href="ACL2____B_A2.html">b*</a> ((result (<a href="C____INIT-SCOPE.html">init-scope</a> formals actuals)))
            (<a href="C____SCOPE-RESULTP.html">scope-resultp</a> result))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>init-scope-of-param-declon-list-fix-formals</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> init-scope-of-param-declon-list-fix-formals
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____INIT-SCOPE.html">init-scope</a> (<a href="C____PARAM-DECLON-LIST-FIX.html">param-declon-list-fix</a> formals)
                           actuals)
               (<a href="C____INIT-SCOPE.html">init-scope</a> formals actuals)))</pre> 
<p><b>Theorem: </b>init-scope-param-declon-list-equiv-congruence-on-formals</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> init-scope-param-declon-list-equiv-congruence-on-formals
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____PARAM-DECLON-LIST-EQUIV.html">param-declon-list-equiv</a> formals formals-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____INIT-SCOPE.html">init-scope</a> formals actuals)
                        (<a href="C____INIT-SCOPE.html">init-scope</a> formals-equiv actuals)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>init-scope-of-value-list-fix-actuals</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> init-scope-of-value-list-fix-actuals
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____INIT-SCOPE.html">init-scope</a> formals (<a href="C____VALUE-LIST-FIX.html">value-list-fix</a> actuals))
               (<a href="C____INIT-SCOPE.html">init-scope</a> formals actuals)))</pre> 
<p><b>Theorem: </b>init-scope-value-list-equiv-congruence-on-actuals</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> init-scope-value-list-equiv-congruence-on-actuals
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____VALUE-LIST-EQUIV.html">value-list-equiv</a> actuals actuals-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____INIT-SCOPE.html">init-scope</a> formals actuals)
                        (<a href="C____INIT-SCOPE.html">init-scope</a> formals actuals-equiv)))
        :rule-classes :congruence)</pre> 

</body>
</html>
