<html>
<head>
<meta charset="UTF-8">
<title>Multiplier-verification-heuristics</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=RP____MULTIPLIER-VERIFICATION-HEURISTICS">Click for Multiplier-verification-heuristics in the Full Manual</a></h3>

<p>Some heuristics that can be enabled/disabled by the user for 
 <a href="RP____MULTIPLIER-VERIFICATION.html">Multiplier-Verification</a></p><p>Our   <a href="RP____MULTIPLIER-VERIFICATION.html">Multiplier-Verification</a>  system   implements  various 
 heuristics to efficiently  verify different designs. Some  of those heuristics 
 are applied  for all the designs,  some are specific to  certain corner cases, 
 and some are  just alternatives to others that might  prove more beneficial in 
 different cases. We  are continually experimenting with  these heuristics, and 
 we  let users  control  whether or  not  some of  these  heuristics should  be 
 enabled.  By default, we leave our heuristic settings to be very aggressive so 
 that   our  tool   is   readily   applicable  to   the   majority  of   design 
 patterns. However,  that might  notably slow  down proof-time  performance for 
 some designs,  or in  some cases,  they might be  too aggressive  (i.e., cause 
 proofs to fail that otherwise would be  successful). If you are not happy with 
 the   default   configuration  for   any   reason,   you  may   benefit   from 
 enabling/disabling  some  of  our  heuristics by  following  the  instructions 
 below.  Beware that  these heuristics  and  related events  might change  over 
 time. </p> 
 
 
<p> UNPACK-BOOTH-LATER </p> 
 
<p>In  Booth encoded multipliers,  partial products are generated  with basic 
logical gates. We perform algebraic rewriting on these gates when rewriting the 
overall circuit.  In some corner  cases, this can prevent  some simplifications 
and  cause a  proof attempt  to fail.  We implement  a heuristic  that we  call 
"unpack-booth-later" that doesn't perform  algebraic rewriting right away but 
leaves logical gates  from Booth encoding intact. When all  the other rewriting 
is finished,  only then these gates  are rewriting in the  algebraic form. This 
heuristic is not expected to be necessary for the majority of designs and it is 
disabled by default. If a proof attempt of a Booth encoded design is failing, 
we recommend that you enable this heuristic: </p> 
 
<pre class="code"> <span class="v">(rp::enable-unpack-booth-later &lt;t-or-nil&gt;)</span> </pre> 
 
 
<p> STINGY-PP-CLEAN </p> 
<p>  Booth Encoded  designs produce  a  lot of  terms  as part  of the  partial 
product  (pp) logic.   These  terms eventually  cancel out  each  other as  the 
multiplier  designs are  expanded and  simplified.  This  happens through  some 
"pp-clean"  operations. By  default,  "pp-clean" is  rather aggressive  and 
creates a lot of copies of the same terms. When "stingy-pp-clean" is enabled, 
this  operation  is  done  more   selectively  which  can  deliver  performance 
improvements.  That  can range  from a  10% improvement to  2-3x or  even more, 
depending on  many different  factors.  This heuristic  might cause  some proof 
attempts to fail and it is disabled by default, and its setting is ignored when 
unpack-booth-later is enabled.  </p> 
 
<pre class="code"> <span class="v">(rp::enable-stingy-pp-clean &lt;t-or-nil&gt;)</span> </pre> 
 
 
<p>S-PATTERN1-REDUCE</p> 
 
<p> Enabled by default, this heuristic can cover some corner 
cases  that emerge  especially in  merged  multipliers. This  usually does  not 
affect the proof-time performance, but in some cases (e.g., constant propagated 
designs), it can have a negative  impact. We have never observed this heuristic 
to cause a proof to fail, therefore it is enabled by default. To disable it 
(rp::enable-c-pattern1-reduce         nil),         or        to         enable 
it (rp::enable-c-pattern1-reduce t). 
</p> 
 
<pre class="code"> <span class="v">(rp::enable-s-pattern1-reduce &lt;t-or-nil&gt;)</span> </pre> 
 
<p>PATTERN2-REDUCE</p> 
<p>            Similar       to      
S-PATTERN1-REDUCE. Enabled  by default. To  disable (rp::enable-pattern2-reduce 
nil), to enable (rp::enable-pattern2-reduce t) </p> 
 
<pre class="code"> <span class="v">(rp::enable-pattern2-reduce &lt;t-or-nil&gt;)</span> </pre> 
 
<p>PATTERN3-REDUCE</p> 
 
<p>  Similar  to other "pattern-reduce" heuristics  but it is 
 too  aggressive  and  disabled by  default.  It  removes "1" 
instances from 
(s  1  others)  and  (c  1  others) terms.   We  have  added  this  pattern  for 
experimentation  purposes and  have yet  to  observe its  usefulness. This  can 
cause proofs to go through very slowly, therefore,  it is  disabled by 
default. </p> 
 
<pre class="code"> <span class="v">(rp::enable-pattern3-reduce &lt;t-or-nil&gt;)</span> </pre> 
 
 
<p>C-OF-S-FIX-MODE</p> 
<p>   We have  found mainly three  different efficient  ways to 
merge sum of two instances of "c" terms. The first method is described in our 
CAV2020 paper (see <a href="RP____MULTIPLIER-VERIFICATION.html">Multiplier-Verification</a> for the link) and it pertains 
to converting "c" terms to "d"  terms. We discontinued this support in this 
new  library but  instead started  experimenting with  easier-to-debug methods. 
You can  switch between these  two methods by  (rp::enable-c-of-s-fix-mode nil) 
and 
(rp::enable-c-of-s-fix-mode t). By default, c-of-s-fix-mode is enabled. We have 
seen   that  the   performance  between   two  methods   is  very   similar  in 
general. However, if c-of-s-fix-mode and stingy-pp-clean are both disabled, you 
may  observe  a  significant  reduction in  proof-time  performance  for  large 
Booth-Encoded designs. Disabling c-of-s-fix-mode may cause problems with the 
unpack-booth-later heuristic. 
</p> 
 
<pre class="code"> <span class="v">(rp::enable-c-of-s-fix-mode &lt;t-or-nil&gt;)</span> </pre> 
 

</body>
</html>
