<html>
<head>
<meta charset="UTF-8">
<title>Atj-implementation</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-IMPLEMENTATION">Click for Atj-implementation in the Full Manual</a></h3>

<p>Implementation of <span class="tt"><a href="JAVA____ATJ.html">atj</a></span>.</p><p>The implementation functions have formal parameters 
     consistently named as follows:</p><ul>
<li>
<span class="v">state</span> is the ACL2 <a href="ACL2____STATE.html">state</a>.</li>
<li>
<span class="v">ctx</span> is the context used for errors.</li>
<li>
<span class="v">args</span> is the list of all the inputs to <span class="tt"><a href="JAVA____ATJ.html">atj</a></span>, 
      before being processed. 
      The type of this formal parameter is just <span class="tt"><a href="ACL2____TRUE-LISTP.html">true-listp</a></span> 
      because its elements may be any values.</li>
<li>
<span class="v">targets</span> is the list <span class="v">(fn1 ... fnp)</span> of inputs to <span class="tt"><a href="JAVA____ATJ.html">atj</a></span>, 
      before being processed. 
      The type of this formal parameter is just <span class="tt"><a href="ACL2____TRUE-LISTP.html">true-listp</a></span> 
      because its elements may be any values.</li>
<li>
<span class="v">targets$</span> is the result of processing <span class="v">targets</span>. 
      It is identical to <span class="v">targets</span>, 
      but has a type implied by its successful validation, 
      performed when it is processed.</li>
<li>
<span class="v">deep</span>, 
      <span class="v">guards</span>, 
      <span class="v">java-package</span>, 
      <span class="v">java-class</span>, 
      <span class="v">output-dir</span>, 
      <span class="v">tests</span>, and 
      <span class="v">verbose</span> 
      are the homonymous inputs to <span class="tt"><a href="JAVA____ATJ.html">atj</a></span>, 
      before being processed. 
      These formal parameters have no types because they may be any values.</li>
<li>
<span class="v">deep$</span>, 
      <span class="v">guards$</span>, 
      <span class="v">java-package$</span>, 
      <span class="v">java-class$</span>, 
      <span class="v">tests$</span>, and 
      <span class="v">verbose$</span> 
      are the results of processing 
      the homonymous inputs (without the <span class="v">$</span>) to <span class="tt"><a href="JAVA____ATJ.html">atj</a></span>. 
      Some are identical to the corresponding inputs, 
      but they have types implied by their successful validation, 
      performed when they are processed.</li>
<li>
<span class="v">output-file$</span> and <span class="v">output-file-test$</span> 
      are the results of processing <span class="v">output-dir</span>.</li>
<li>
<span class="v">test$</span> is an element of <span class="v">tests$</span>.</li>
<li>
<span class="v">pkgs</span> is the list of names of all the currently known ACL2 packages, 
      in chronological order.</li>
<li>
<span class="v">fns-to-translate</span> is the list of ACL2 functions 
      to be translated to Java.</li>
<li>
<span class="v">fns-by-pkg</span> consists of <span class="v">fns-to-translate</span>, 
      plus all the ACL2 functions natively implemented in AIJ 
      (which currently are the ACL2 primitive functions) 
      organized as an alist from ACL2 package names to 
      the non-empty lists of the functions in the respective packages. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">avars-by-name</span> consists of all the free and bound variables 
      that appear in the ACL2 function definition 
      for which code is being generated. 
      These variables are organized as an alist from symbol names 
      to the variables with the respective names. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">jvar-value-base</span>, 
      <span class="v">jvar-term-base</span>, and 
      <span class="v">jvar-lambda-base</span> 
      are the base names of the Java local variables to use 
      to construct ACL2 values, 
      deeply embedded ACL2 terms, 
      and deeply embedded ACL2 lambda expressions. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">jvar-result-base</span> is the base name of the Java local variable to use 
      to store the results of arguments of non-strict ACL2 functions.</li>
<li>
<span class="v">jvar-value-index</span>, 
      <span class="v">jvar-term-index</span>, and 
      <span class="v">jvar-lambda-index</span> 
      are the indices of the next Java local variables to use 
      to construct ACL2 values, 
      deeply embedded ACL2 terms, 
      and deeply embedded ACL2 lambda expressions. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">jvar-result-index</span> is the index of the next Java local variable to use 
      to store the results of arguments of non-strict ACL2 functions.</li>
<li>
<span class="v">indices</span> is an alist from symbols to positive integers, 
      which associates to each ACL2 variable the next index to use 
      to disambiguate a new instance of that variable from previous instances. 
      This is used when renaming ACL2 variables to their Java names, 
      in the shallow embedding approach. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">renaming-new</span> and <span class="v">renaming-old</span> 
      are alists from symbols to symbols, 
      which associate to each ACL2 variable its Java name 
      (i.e. the name of the Java variable generated from this ACL2 variable). 
      The former is used for the variables marked as `new', 
      while the latter is used for the variables marked as `old'. 
      This is used when renaming ACL2 variables to their Java names, 
      in the shallow embedding approach. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">pkg-class-names</span> is an alist from strings to strings, 
      which associates to each package name in the keys of <span class="v">fns-by-pkg</span> 
      the name of the corresponding Java class name. 
      This is used in the shallow embedding approach. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">fn-method-names</span> is an alist from strings to strings, 
      which associates to each function name in <span class="v">fns-to-translate</span> 
      the name of the corresponding Java method name. 
      This is used in the shallow embedding approach. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">mv-class-names</span> is a list of strings consisting of 
      the names of all the generated <span class="tt"><a href="ACL2____MV.html">mv</a></span> classes. 
      This is used in the shallow embedding approach. 
      See <span class="tt"><a href="JAVA____ATJ-CODE-GENERATION.html">atj-code-generation</a></span>.</li>
<li>
<span class="v">curr-pkg</span> is the name of the ACL2 package of the ACL2 function 
      for which Java code is being generated.</li>
</ul><p>The parameters of implementation functions that are not listed above 
     are described in, or clear from, those functions' documentation.</p>
</body>
</html>
