<html>
<head>
<meta charset="UTF-8">
<title>Atj-type-to-jitype</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-TYPE-TO-JITYPE">Click for Atj-type-to-jitype in the Full Manual</a></h3>

<p>Java input type denoted by an ATJ type.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-type-to-jitype type) → jtype</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">type</span> — <font color="#606060">Guard <span class="v">(<a href="JAVA____ATJ-TYPEP.html">atj-typep</a> type)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">jtype</span> — <font color="#606060">Type <span class="v">(<a href="JAVA____ATJ-JITYPEP.html">atj-jitypep</a> jtype)</span>.</font>
</dd> 
 
</dl></div> 
<p>The <span class="v">:acl2</span> types except 
     <span class="v">:aboolean</span>, <span class="v">:acharacter</span>, and <span class="v">:astring</span> 
     denote the corresponding AIJ class types. 
     The <span class="v">:aboolean</span> type denotes 
     the Java primitive type <span class="v">boolean</span>. 
     The <span class="v">:acharacter</span> type denotes 
     the Java primitive type <span class="v">char</span>. 
     The <span class="v">:astring</span> type denotes 
     the Java reference type <span class="v">java.lang.String</span>. 
     The <span class="v">:jprim</span> types denote 
     the corresponding Java primitive types. 
     The <span class="v">:jprimarr</span> types denote 
     the corresponding Java primitive array types.</p><p>The mapping of <span class="v">:aboolean</span>, <span class="v">:acharacter</span>, and <span class="v">:astring</span> 
     to the Java <span class="v">boolean</span>, <span class="v">char</span>, and <span class="v">String</span> types 
     means that we represent 
     ACL2 booleans as Java booleans, 
     ACL2 characters as Java characters, and 
     ACL2 strings as Java strings. 
     This only happens in the shallow embedding approach; 
     the deep embedding approach does not use ATJ types. 
     Also, <span class="v">:aboolean</span>, <span class="v">:acharacter</span>, and <span class="v">:astring</span> 
     are used only if <span class="v">:guards</span> is <span class="v">t</span>; 
     otherwise, only the type <span class="v">:avalue</span> is used. 
     In other words, we represent 
     ACL2 booleans/characters/strings as Java booleans/characters/strings 
     only when <span class="v">:guards</span> is <span class="v">t</span>. 
     Even though Java <span class="v">char</span> values (which consist of 16 bits) 
     are not isomorphic to ACL2 characters (which consist of 8 bits), 
     when <span class="v">:guards</span> is <span class="v">t</span> the satisfaction of all guards is assumed; 
     thus, if external code calls the generated Java code 
     with values that satisfy the guards, 
     and in particular with <span class="v">char</span> values below 256, 
     the generate code should manipulate only <span class="v">char</span> values below 256, 
     which are isomorphic to Java characters. 
     The same consideration applies to ACL2 strings vs. Java strings; 
     only Java strings with characters below 256 
     should be passed to ATJ-generated code, 
     which will only manipulate strings satisfying that property.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>atj-type-to-jitype</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 atj-type-to-jitype (<a href="COMMON-LISP____TYPE.html">type</a>)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="JAVA____ATJ-TYPEP.html">atj-typep</a> type)))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'atj-type-to-jitype))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="JAVA____ATJ-TYPE-CASE.html">atj-type-case</a>
       type
       :acl2 (<a href="JAVA____ATJ-ATYPE-CASE.html">atj-atype-case</a> type.get
                             :integer *aij-type-int*
                             :rational *aij-type-rational*
                             :number *aij-type-number*
                             :character (<a href="JAVA____JTYPE-CHAR.html">jtype-char</a>)
                             :string (<a href="JAVA____JTYPE-CLASS.html">jtype-class</a> "String")
                             :symbol *aij-type-symbol*
                             :boolean (<a href="JAVA____JTYPE-BOOLEAN.html">jtype-boolean</a>)
                             :cons *aij-type-cons*
                             :value *aij-type-value*)
       :jprim (<a href="JAVA____PRIMITIVE-TYPE-CASE.html">primitive-type-case</a> type.get
                                   :boolean (<a href="JAVA____JTYPE-BOOLEAN.html">jtype-boolean</a>)
                                   :char (<a href="JAVA____JTYPE-CHAR.html">jtype-char</a>)
                                   :byte (<a href="JAVA____JTYPE-BYTE.html">jtype-byte</a>)
                                   :short (<a href="JAVA____JTYPE-SHORT.html">jtype-short</a>)
                                   :int (<a href="JAVA____JTYPE-INT.html">jtype-int</a>)
                                   :long (<a href="JAVA____JTYPE-LONG.html">jtype-long</a>)
                                   :float (<a href="JAVA____JTYPE-FLOAT.html">jtype-float</a>)
                                   :double (<a href="JAVA____JTYPE-DOUBLE.html">jtype-double</a>))
       :jprimarr
       (<a href="JAVA____PRIMITIVE-TYPE-CASE.html">primitive-type-case</a> type.comp
                            :boolean (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-BOOLEAN.html">jtype-boolean</a>))
                            :char (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-CHAR.html">jtype-char</a>))
                            :byte (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-BYTE.html">jtype-byte</a>))
                            :short (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-SHORT.html">jtype-short</a>))
                            :int (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-INT.html">jtype-int</a>))
                            :long (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-LONG.html">jtype-long</a>))
                            :float (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-FLOAT.html">jtype-float</a>))
                            :double (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-DOUBLE.html">jtype-double</a>))))))</pre> 
<p><b>Theorem: </b>atj-jitypep-of-atj-type-to-jitype</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> atj-jitypep-of-atj-type-to-jitype
        (<a href="ACL2____B_A2.html">b*</a> ((<a href="JAVA____JTYPE.html">jtype</a> (<a href="JAVA____ATJ-TYPE-TO-JITYPE.html">atj-type-to-jitype</a> type)))
            (<a href="JAVA____ATJ-JITYPEP.html">atj-jitypep</a> jtype))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>atj-type-to-jitype-of-atj-type-fix-type</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> atj-type-to-jitype-of-atj-type-fix-type
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="JAVA____ATJ-TYPE-TO-JITYPE.html">atj-type-to-jitype</a> (<a href="JAVA____ATJ-TYPE-FIX.html">atj-type-fix</a> type))
               (<a href="JAVA____ATJ-TYPE-TO-JITYPE.html">atj-type-to-jitype</a> type)))</pre> 
<p><b>Theorem: </b>atj-type-to-jitype-atj-type-equiv-congruence-on-type</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> atj-type-to-jitype-atj-type-equiv-congruence-on-type
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="JAVA____ATJ-TYPE-EQUIV.html">atj-type-equiv</a> type type-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="JAVA____ATJ-TYPE-TO-JITYPE.html">atj-type-to-jitype</a> type)
                        (<a href="JAVA____ATJ-TYPE-TO-JITYPE.html">atj-type-to-jitype</a> type-equiv)))
        :rule-classes :congruence)</pre> 

</body>
</html>
