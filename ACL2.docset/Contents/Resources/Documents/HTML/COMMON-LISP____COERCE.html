<html>
<head>
<meta charset="UTF-8">
<title>Coerce</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=COMMON-LISP____COERCE">Click for Coerce in the Full Manual</a></h3>

<p>Coerce a character list to a string and a string to a list</p><p>Completion Axiom (<span class="v">completion-of-coerce</span>):</p> 
 
 <pre class="code">(<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____COERCE.html">coerce</a> x y)
       (<a href="COMMON-LISP____COND.html">cond</a>
        ((<a href="COMMON-LISP____EQUAL.html">equal</a> y 'list)
         (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> x)
             (<a href="COMMON-LISP____COERCE.html">coerce</a> x 'list)
           nil))
        (t
         (<a href="COMMON-LISP____COERCE.html">coerce</a> (<a href="ACL2____MAKE-CHARACTER-LIST.html">make-character-list</a> x) 'string))))</pre> 
 
 <p><a href="ACL2____GUARD.html">Guard</a> for <span class="v">(<a href="COMMON-LISP____COERCE.html">coerce</a> x y)</span>:</p> 
 
 <pre class="code">(<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> y 'list)
    (<a href="COMMON-LISP____STRINGP.html">stringp</a> x)
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> y 'string)
      (<a href="ACL2____CHARACTER-LISTP.html">character-listp</a> x)
    nil))</pre> 
 
 <p>Also see community book <span class="v">books/misc/fast-coerce.lisp</span>, contributed by 
 Jared Davis, for a version of <span class="v">coerce</span> that may be faster for Common Lisp 
 implementations other than CCL 1.3 or later, if the second argument is 
 <span class="v">'list</span> (for coercing a string to a list).</p> 
 
 <h4>Logical Note</h4> 
 
 <p>The function <span class="v">coerce</span> can be viewed as the constructor for strings.  As 
 discussed in Section 7 of "<a href="http://www.cs.utexas.edu/users/moore/publications/km97a.pdf" target="_blank"><nobr>A Precise 
 Description of the ACL2 Logic<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/publications/km97a.pdf"></nobr></a>" (Matt Kaufmann and J Moore, April, 1998), 
 a string may be built by coercing its list of characters: for example, 
 <span class="v">"abc"</span> is <span class="v">(<a href="COMMON-LISP____COERCE.html">coerce</a> '(#\a #\b #\c) 'string)</span>.  More precisely, 
 <span class="v">"abc"</span> is an abbreviation for <span class="v">(<a href="COMMON-LISP____COERCE.html">coerce</a> '(#\a #\b #\c) 'string)</span>, 
 where even more pedantically, <span class="v">'(#\a #\b #\c)</span> is an abbreviation for 
 <span class="v">(<a href="COMMON-LISP____CONS.html">cons</a> '#\a (<a href="COMMON-LISP____CONS.html">cons</a> '#\b (<a href="COMMON-LISP____CONS.html">cons</a> '#\c 'nil)))</span>.</p>
</body>
</html>
