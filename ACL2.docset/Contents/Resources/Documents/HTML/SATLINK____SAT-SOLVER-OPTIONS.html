<html>
<head>
<meta charset="UTF-8">
<title>Sat-solver-options</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=SATLINK____SAT-SOLVER-OPTIONS">Click for Sat-solver-options in the Full Manual</a></h3>

<p>How to get a SAT solver that you can use with <a href="ACL2____SATLINK.html">satlink</a>.</p><p>To use Satlink you will need at least one SAT solver.  Below are 
some solvers that are known to work well with Satlink.  You may wish to install 
several of these.  This lets you switch between solvers to figure out which 
solver is best for your particular problem, and perhaps to gain some additional 
confidence that a particular problem really is unsatisfiable (by checking it 
with many solvers.)</p> 
 
 
<h3>
<a href="http://www.labri.fr/perso/lsimon/glucose/" target="_blank"><nobr>Glucose<img src="../Icon_External_Link.png" title="External link to http://www.labri.fr/perso/lsimon/glucose/"></nobr></a> â€” 
open source, recommended</h3> 
 
<p>Based on our experiences using <a href="ACL2____GL.html">gl</a> for proofs about hardware modules 
at Centaur, we usually try Glucose first.  On Linux, version 3.0, 4.0, or 4.1 
should work with Satlink without modification (though, some users have had 
difficulty with 4.0).  (We have also successfully used earlier versions with 
Satlink, but occasionally needed to patch them in minor ways, e.g., to print 
counterexamples.)</p> 
 
<p>Quick instructions:</p> 
 
<ul> 
<li>Download Glucose 3.0 and extract <span class="v">glucose-3.0.tgz</span> somewhere</li> 
<li><span class="v">cd glucose-3.0/core; make</span></li> 
<li><span class="v">cd glucose-3.0/simp; make</span></li> 
<li>Verify that <span class="v">glucose-3.0/simp/glucose --help</span> prints a help message</li> 
</ul> 
 
<p>(NOTE for Mac and FreeBSD/PCBSD users: If you are building Glucose 3.0 or 
4.0, the build might fail.  In that case, a solution may be first to make the 
replacements shown below, where the the first in each pair (<span class="v">&lt;</span>) is the 
Mac/FreeBSD/PCBSD version, while the second in each pair (<span class="v">&gt;</span>) is the 
original source.  (Thanks to Marijn Heule and Warren Hunt for these 
suggestions.)</p> 
 
<p>In file <span class="v">../glucose-3.0/core/SolverTypes.h</span>:</p> 
 
<pre class="code">&lt;     // friend Lit mkLit(Var var, bool sign = false);
---
&gt;     friend Lit mkLit(Var var, bool sign = false);

&lt; inline  Lit  mkLit     (Var var, bool sign = false) { Lit p; p.x =
var + var + (int)sign; return p; }
---
&gt; inline  Lit  mkLit     (Var var, bool sign) { Lit p; p.x = var + var + (int)sign; return p; }</pre> 
 
<p>In the file <span class="v">../glucose-3.0/utils/System.cc</span> comment the line below, but 
note that this is probably only necessary for FreeBSD/PCBSD, not for Mac:</p> 
 
<pre class="code">&lt;   // double MiniSat::memUsedPeak(void) { return memUsed(); }
---
&gt;   double MiniSat::memUsedPeak(void) { return memUsed(); }</pre> 
 
<p>End of NOTE for Mac and FreeBSD/PCBSD users.)</p> 
 
<p>Now create a shell script as follows, somewhere in your <span class="v">$PATH</span>, named 
<span class="v">glucose</span>.  Note that the order of the arguments is important.</p> 
 
<pre class="code">#!/bin/sh
/path/to/glucose-3.0/simp/glucose -model "$@"</pre> 
 
<p>As a quick test to make sure things are working, you can try to certify this 
book:</p> 
 
<pre class="code">cd [books]/centaur/satlink/solvers
cert.pl test-glucose</pre> 
 
<p>You should now be able to use Satlink with configurations such as:</p> 
 
<pre class="code">(<a href="SATLINK____MAKE-CONFIG.html">satlink::make-config</a> :cmdline "glucose")</pre> 
 
<p>Glucose can (optionally) produce UNSAT proofs that can be checked by a 
simpler program.  Satlink includes a script that makes it easy to run the 
solver and then check any UNSAT answers.  See <a href="SATLINK____UNSAT-CHECKING.html">unsat-checking</a> for more 
information.</p> 
 
 
 
<h3><a href="http://www.cril.univ-artois.fr/~hoessen/penelope.html" target="_blank"><nobr>Penelope<img src="../Icon_External_Link.png" title="External link to http://www.cril.univ-artois.fr/~hoessen/penelope.html"></nobr></a></h3> 
 
<p>Penelope is a (mostly) open-source, parallel sat solver.  The build process 
is simple: run <span class="v">make</span> and add the resulting <span class="v">penelope</span> executable to your 
<span class="v">PATH</span>.  As a quick test to ensure things are working, you can try to 
certify this book:</p> 
 
<pre class="code">cd [books]/centaur/satlink/solvers
cert.pl test-penelope</pre> 
 
<p>Note that you will usually need to point Penelope at a configuration file 
that tells it, e.g., how many cores to use.  The Penelope distribution has a 
<span class="v">configuration.ini</span> file that you can start with.  You can then use a 
Satlink configuration like:</p> 
 
<pre class="code">(<a href="SATLINK____MAKE-CONFIG.html">satlink::make-config</a>
 :cmdline "penelope -config=/path/to/configuration.ini")</pre> 
 
<p>We are not aware of any UNSAT proof support for this solver.</p> 
 
 
<h3><a href="http://fmv.jku.at/lingeling/" target="_blank"><nobr>Lingeling<img src="../Icon_External_Link.png" title="External link to http://fmv.jku.at/lingeling/"></nobr></a></h3> 
 
<p>An older version of Lingeling (Version ALA) is released under an open 
source (GPL3) license.  For most of our problems, we found this version to be 
somewhat slower than Glucose 2.1.  Of course, our experiences may not be 
representative.</p> 
 
<p>Newer versions of Lingeling are available under a more restrictive license. 
These modern versions fared very well in the recent SAT competitions, so if the 
license does not pose a problem for you, it may well be worth trying.</p> 
 
<p>For the open source version ALA, the build process is simple: download and 
extract the tarball, run <span class="v">./configure</span> and <span class="v">make</span>, and then add the 
resulting <span class="v">lingeling</span> and/or <span class="v">plingeling</span> executables to your PATH.  As a 
quick test to ensure things are working, you can try to certify these 
books:</p> 
 
<pre class="code">cd [books]/centaur/satlink/solvers
cert.pl test-lingeling
cert.pl test-plingeling</pre> 
 
<p>Newer versions of Lingeling are allegedly able to produce unsat proofs, but 
we haven't figured out how to make it work.</p> 
 
 
<h3><a href="http://tools.computational-logic.org/content/riss3g.php" target="_blank"><nobr>Riss3G<img src="../Icon_External_Link.png" title="External link to http://tools.computational-logic.org/content/riss3g.php"></nobr></a></h3> 
 
<p>The Riss3g solver is a (mostly) open-source variant of Glucose that did 
fairly well in recent competitions and seems to be sometimes faster than 
Glucose.</p> 
 
<p>The build process was reasonably straightforward.  After building, put the 
resulting <span class="v">riss3g</span> and <span class="v">riss3gSimp</span> programs into your <span class="v">PATH</span>.  As a 
quick test to ensure things are working, you can try to certify these 
books:</p> 
 
<pre class="code">cd [books]/centaur/satlink/solvers
cert.pl test-riss3g
cert.pl test-riss3gSimp</pre> 
 
<p>Like Glucose, <span class="v">riss3g</span> has an ability to produce unsat proofs that can be 
checked with an external program.  Satlink includes a script that makes it easy 
to run the solver and then check any UNSAT answers.  See <a href="SATLINK____UNSAT-CHECKING.html">unsat-checking</a> 
for more information.</p> 
 
 
<h3>Other Solvers</h3> 
 
<p>In principle, Satlink should work with any SAT solver that implements the 
DIMACS format.  This format is used in the <a href="http://www.satcompetition.org/" target="_blank"><nobr>SAT competitions<img src="../Icon_External_Link.png" title="External link to http://www.satcompetition.org/"></nobr></a>, so it is 
implemented by many solvers.  Accordingly, you may wish to look at, e.g., the 
<a href="http://www.satcompetition.org/2013/results.shtml" target="_blank"><nobr>SAT Competition 
Results<img src="../Icon_External_Link.png" title="External link to http://www.satcompetition.org/2013/results.shtml"></nobr></a> to get ideas about what SAT solvers are likely to perform well.</p> 
 
<p>Getting a new solver to work with Satlink <i>should</i> be straightforward. 
Typically you will need to install the solver, add it to your <span class="v">PATH</span>, and 
then figure out how to run it.  Satlink expects to be able to invoke the solver 
using:</p> 
 
<pre class="code">&lt;solver-command&gt; &lt;input-file&gt;</pre> 
 
<p>Sometimes a solver may need extra command-line arguments.  For instance, 
Glucose needs a <span class="v">-model</span> switch or it won't print the satisfying 
assignment (i.e., <span class="v">v</span> lines) in case of SAT.  You might be able to write a 
small script to supply these arguments, e.g., as in the <span class="v">glucose</span> script 
above.</p> 
 
<p>To test out your new solver, Satlink includes a primitive <a href="SATLINK____CHECK-CONFIG.html">check-config</a> command that you can use to try your solver on a handful of 
trivial problems.  This is a very good way to make sure that at least the basic 
i/o contract seems to be working.  It should be easy to adapt one of the 
<span class="v">test-</span> scripts in the <span class="v">centaur/satlink/solvers</span> directory to suit your 
solver.</p> 
 
<p>If the <span class="v">check-config</span> passes and you want a more thorough check, you 
might try to run your new solver on, e.g., <span class="v">centaur/esim/tutorial/sat.lsp</span> 
and the various files in <span class="v">centaur/regression</span>.</p>
</body>
</html>
