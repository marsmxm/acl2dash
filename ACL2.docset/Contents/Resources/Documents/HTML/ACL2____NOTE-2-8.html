<html>
<head>
<meta charset="UTF-8">
<title>Note-2-8</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-2-8">Click for Note-2-8 in the Full Manual</a></h3>

<p>ACL2 Version  2.8 (March, 2004) Notes</p><p>BRIEF SUMMARY.</p> 
 
 <p>The Version_2.8 notes are divided into the indicated subtopics.  Here we 
 give only a brief summary of just a few of the major new features and changes 
 that seem most likely to impact existing proofs.  Not included in this brief 
 summary, but included in the subtopics, are descriptions of many improvements 
 (including bug fixes and new functionality) that should not get in the way of 
 existing proof efforts.  In the description below we also omit discussion of 
 changes that will become clear by way of error messages if they affect 
 you.</p> 
 
 <p>In particular, please see <a href="ACL2____NOTE-2-8-NEW-FUNCTIONALITY.html">note-2-8-new-functionality</a> for discussion 
 of a number of new features that you may find useful.</p> 
 
 <p>Acknowledgements and elaboration, as well as other changes, can be found in 
 the subtopics listed below.</p> 
 
 <h5>Some of the bug fixes (see <a href="ACL2____NOTE-2-8-BUG-FIXES.html">note-2-8-bug-fixes</a>)</h5> 
 
 <ul> 
 
 <li>Some soundness bugs were fixed.</li> 
 
 <li>The handling of free variables in hypotheses (see <a href="ACL2____FREE-VARIABLES.html">free-variables</a>) 
 of rewrite and linear rules had a bug that prevented some proofs from going 
 through.  Now that this bug has been fixed, you may find some proofs running 
 much more slowly than before.  You can use <span class="tt"><a href="ACL2____ACCUMULATED-PERSISTENCE.html">accumulated-persistence</a></span> and 
 <span class="tt"><a href="ACL2____ADD-MATCH-FREE-OVERRIDE.html">add-match-free-override</a></span> to remedy this situation; see <a href="ACL2____NOTE-2-8-BUG-FIXES.html">note-2-8-bug-fixes</a> for details.</li> 
 
 <li>The <a href="ACL2____DEFAULT-HINTS.html">default-hints</a> in the current logical <a href="ACL2____WORLD.html">world</a> are no 
 longer ignored by <span class="tt"><a href="ACL2____VERIFY-GUARDS.html">verify-guards</a></span>.</li> 
 
 <li>Forms violating guard-checking such as <span class="v">(<a href="ACL2____DEFCONST.html">defconst</a> *silly* (<a href="COMMON-LISP____CAR.html">car</a> 3))</span> 
 are now allowed in <a href="ACL2____BOOKS.html">books</a>.</li> 
 
 </ul> 
 
 <h5>Some of the new functionality (see <a href="ACL2____NOTE-2-8-NEW-FUNCTIONALITY.html">note-2-8-new-functionality</a>)</h5> 
 
 <ul> 
 
 <li>WARNING: You may find that <span class="v">control-d</span> (in emacs, <span class="v">control-c
 control-d</span>) can throw you completely out of Lisp where it had not formerly 
 done so.</li> 
 
 <li>ACL2 now starts up inside the ACL2 loop — that is, <span class="v">(</span><span class="tt"><a href="ACL2____LP.html">lp</a></span><span class="v">)</span> is executed automatically — when built on CLISP or Allegro CL. 
 This was already the case for GCL and CMUCL, and it still is not true for 
 LispWorks.</li> 
 
 <li>See <a href="ACL2____NOTE-2-8-ORDINALS.html">note-2-8-ordinals</a> for a discussion of a significant change in 
 ordinal representation, and in particular, for how to preserve existing proofs 
 that depend on the previous ordinal representation.</li> 
 
 <li>Macros <span class="tt"><a href="ACL2____MBE.html">mbe</a></span> (``must be equal''), <span class="tt"><a href="ACL2____MBT.html">mbt</a></span> (``must be true''), 
 and <span class="tt"><a href="ACL2____DEFEXEC.html">defexec</a></span> have been introduced, which allow the user to attach 
 alternate executable definitions to functions.</li> 
 
 <li>The user can now control multiple matching for free variables in 
 hypotheses for <span class="v">:</span><span class="tt"><a href="ACL2____FORWARD-CHAINING.html">forward-chaining</a></span> rules, as has already been 
 supported for <span class="v">:</span><span class="tt"><a href="ACL2____REWRITE.html">rewrite</a></span> and <span class="v">:</span><span class="tt"><a href="ACL2____LINEAR.html">linear</a></span> rules.</li> 
 
 <li>It is no longer necessary to specify <span class="v">(<a href="ACL2____SET-MATCH-FREE-ERROR.html">set-match-free-error</a> nil)</span> in 
 order to avoid errors when a rule with free variables in its hypotheses is 
 missing the <span class="v">:match-free</span> field.</li> 
 
 <li>The form <span class="v">(<a href="ACL2____BREAK-ON-ERROR.html">break-on-error</a>)</span> causes, at least for most Lisps, entry 
 into the Lisp debugger whenever ACL2 causes an error.</li> 
 
 <li>A new <span class="tt"><a href="ACL2____TABLE.html">table</a></span> has been provided so that advanced users can override 
 the built-in <span class="v">untranslate</span> functionality.  See <a href="ACL2____USER-DEFINED-FUNCTIONS-TABLE.html">user-defined-functions-table</a>.</li> 
 
 <li>The <span class="tt"><a href="ACL2____PSTACK.html">pstack</a></span> (`process [prover] stack'') mechanism, formerly 
 denoted <span class="v">checkpoints</span>, has been improved.  One of these improvements is to 
 show actual parameters with <span class="v">(<a href="ACL2____PSTACK.html">pstack</a> t)</span> rather than formals.</li> 
 
 <li>The <span class="tt"><a href="ACL2____DEFSTOBJ.html">defstobj</a></span> event is now allowed to take an <span class="v">:inline</span> 
 argument, which can speed up execution.</li> 
 
 <li>Macro <span class="tt"><a href="ACL2____CW-GSTACK.html">cw-gstack</a></span> no longer takes arguments for the <span class="v">gstack</span> or 
 <span class="tt"><a href="ACL2____STATE.html">state</a></span>.  To print terms in full rather than abbreviated: <span class="v">(<a href="ACL2____CW-GSTACK.html">cw-gstack</a>
 :evisc-tuple nil)</span>.</li> 
 
 <li>The <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> event now has an additional (optional) keyword, 
 <span class="v">:dir</span>.  In particular, <span class="v">(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "foo/bar" :dir :system)</span> will 
 include the indicated book after prepending the path of the built-in 
 <span class="v">books/</span> directory.  You will probably not find <span class="v">:dir :system</span> to be 
 useful if you move the executable image or distributed books; see <a href="ACL2____INCLUDE-BOOK.html">include-book</a>, in particular its ``soundness warning''.</li> 
 
 <li>The printing of results in raw mode (see <a href="ACL2____SET-RAW-MODE.html">set-raw-mode</a>) may now be 
 partially controlled by the user: see <span class="v">add-raw-arity</span>.  [Note added 2021: 
 this utility has been removed and is no longer necessary.]</li> 
 
 <li>For those using Unix/Linux `make': A <span class="v">cert.acl2</span> file can contain 
 forms to be evaluated before an appropriate <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> command is 
 invoked automatically (not included in <span class="v">cert.acl2</span>).</li> 
 
 </ul> 
 
 <h5>Some of the changes in the proof engine (see <a href="ACL2____NOTE-2-8-PROOFS.html">note-2-8-proofs</a>)</h5> 
 
 <ul> 
 
 <li>ACL2 now prevents certain rewriting loops; see <a href="ACL2____REWRITE-STACK-LIMIT.html">rewrite-stack-limit</a>.</li> 
 
 <li>Small changes have been made to heuristics for controlling rewriting 
 during proofs by induction and in handling certain ``weak'' <a href="ACL2____COMPOUND-RECOGNIZER.html">compound-recognizer</a> rules.</li> 
 
 <li>The handling of free variables in a hypothesis of a <a href="ACL2____REWRITE.html">rewrite</a> rule 
 (see <a href="ACL2____FREE-VARIABLES.html">free-variables</a>) has been improved in the case that the hypothesis 
 is of the form <span class="v">(equiv x y)</span>, where <span class="v">equiv</span> is a known equivalence 
 relation (see <a href="ACL2____EQUIVALENCE.html">equivalence</a>).</li> 
 
 <li>We have modified how the ACL2 simplifier handles the application of a 
 defined function symbol to constant arguments, by avoiding the introduction of 
 <a href="ACL2____HIDE.html">hide</a> when evaluation fails if the term can be rewritten.</li> 
 
 <li>The generation of "Goal" for recursive (and mutually-recursive) 
 definitions now uses the subsumption/replacement limitation (default 500). 
 See <a href="ACL2____CASE-SPLIT-LIMITATIONS.html">case-split-limitations</a>.</li> 
 
 <li>Default hints now apply to hints given in definitions, not just theorems. 
 See <a href="ACL2____DEFAULT-HINTS.html">default-hints</a>.</li> 
 
 <li>Linear arithmetic now uses the conclusions of <span class="tt"><a href="ACL2____FORWARD-CHAINING.html">forward-chaining</a></span> 
 rules, and <span class="tt"><a href="ACL2____TYPE-SET.html">type-set</a></span> now uses a small amount of linear reasoning when 
 deciding inequalities.</li> 
 
 </ul> 
 
 <h5>Some of the changes in rules, definitions, and constants (see <a href="ACL2____NOTE-2-8-RULES.html">note-2-8-rules</a>)</h5> 
 
 <ul> 
 
 <li>See the above doc topic.</li> 
 
 </ul> 
 
 <h5>Guard-related changes are described in see <a href="ACL2____NOTE-2-8-BUG-FIXES.html">note-2-8-bug-fixes</a>
</h5> 
 
 <h5>Some of the proof-builder changes (see <a href="ACL2____NOTE-2-8-PROOF-BUILDER.html">note-2-8-proof-builder</a>)</h5> 
 
 <ul> 
 
 <li>Added new <a href="ACL2____PROOF-BUILDER.html">proof-builder</a> commands <span class="v">wrap1</span>, <span class="v">wrap</span>, and 
 <span class="v">wrap-induct</span>, to combine multiple conjuncts or goals.</li> 
 
 <li>The <span class="v">type-alist</span> command now takes optional arguments that control 
 whether or not the governors and/or conclusion are used in computing the 
 context.</li> 
 
 </ul> 
 
 <h5>Some of the system-level changes (see <a href="ACL2____NOTE-2-8-SYSTEM.html">note-2-8-system</a>)</h5> 
 
 <ul> 
 
 <li>ACL2 now runs on OpenMCL and on MCL 5.0.</li> 
 
 </ul> 
 
 <h5>Some of the other changes (see <a href="ACL2____NOTE-2-8-OTHER.html">note-2-8-other</a>)</h5> 
 
 <ul> 
 
 <li>Emacs file <span class="v">emacs/emacs-acl2.el</span> has been updated (see <a href="ACL2____NOTE-2-8-OTHER.html">note-2-8-other</a> for details).</li> 
 
 <li>When <span class="v">:pl</span> is given a term other than a symbol, it will print all 
 rewrite rules that match that term.</li> 
 
 <li>A new function, <span class="tt"><a href="ACL2____PKG-WITNESS.html">pkg-witness</a></span>, returns a symbol in the given 
 package.</li> 
 
 <li>The list constant <span class="v">*acl2-exports*</span> has been extended.</li> 
 
 <li>A new release of the rtl library has been included: <span class="v">books/rtl/rel4/</span>. 
 See the <span class="v">README</span> file in that directory.</li> 
 
 </ul> 
 
 <p>Again, please proceed to the subtopics for more thorough release 
 notes.</p>
</body>
</html>
