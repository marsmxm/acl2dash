<html>
<head>
<meta charset="UTF-8">
<title>Atj-process-output-type-spec</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-PROCESS-OUTPUT-TYPE-SPEC">Click for Atj-process-output-type-spec in the Full Manual</a></h3>

<p>Process an output type specification in 
          <span class="tt"><a href="JAVA____ATJ-MAIN-FUNCTION-TYPE.html">atj-main-function-type</a></span> or <span class="tt"><a href="JAVA____ATJ-OTHER-FUNCTION-TYPE.html">atj-other-function-type</a></span>.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-process-output-type-spec out-type-spec formals in-types) 
  → 
(mv type array)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">formals</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> formals)</span>.</font>
</dd> 
  <dd>
<span class="tt">in-types</span> — <font color="#606060">Guard <span class="v">(<a href="JAVA____ATJ-TYPE-LISTP.html">atj-type-listp</a> in-types)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">type</span> — <font color="#606060">Type <span class="v">(<a href="JAVA____ATJ-TYPEP.html">atj-typep</a> type)</span>.</font>
</dd> 
<dd>
<span class="tt">array</span> — <font color="#606060">Type <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> array)</span>.</font>
</dd> 
 
</dl></div> 
<p>An output type specification must be 
     either a keyword that denotes an ATJ type, 
     or a doublet consisting of a non-<span class="v">nil</span> symbol 
     followed by a keyword that denotes an ATJ type. 
     The second case is allowed only if the type is an array one, 
     and in that case the non-<span class="v">nil</span> symbol must be 
     some formal argument of the function that has the same array type: 
     the non-<span class="v">nil</span> symbol is the name of the array.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>atj-process-output-type-spec</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 atj-process-output-type-spec
 (out-type-spec formals in-types)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> formals)
                             (<a href="JAVA____ATJ-TYPE-LISTP.html">atj-type-listp</a> in-types))))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP_____D3.html">=</a> (<a href="ACL2____LEN.html">len</a> formals) (<a href="ACL2____LEN.html">len</a> in-types))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'atj-process-output-type-spec))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="COMMON-LISP____IF.html">if</a>
   (<a href="ACL2____TUPLEP.html">tuplep</a> 2 out-type-spec)
   (<a href="ACL2____B_A2.html">b*</a>
    (((<a href="COMMON-LISP____LIST.html">list</a> sym kwd) out-type-spec)
     ((unless (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> sym))
      (<a href="ACL2____RAISE.html">raise</a> "Invalid array name ~x0." sym)
      (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-IRRELEVANT.html">atj-type-irrelevant</a>) nil))
     (<a href="COMMON-LISP____ARRAY.html">array</a> sym)
     ((unless (<a href="COMMON-LISP____KEYWORDP.html">keywordp</a> kwd))
      (<a href="ACL2____RAISE.html">raise</a> "Invalid type keyword ~x0." kwd)
      (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-IRRELEVANT.html">atj-type-irrelevant</a>) nil))
     (<a href="COMMON-LISP____TYPE.html">type</a> (<a href="JAVA____ATJ-TYPE-FROM-KEYWORD.html">atj-type-from-keyword</a> kwd))
     ((when (<a href="COMMON-LISP____AND.html">and</a> sym
                 (<a href="COMMON-LISP____NOT.html">not</a> (<a href="JAVA____ATJ-TYPE-CASE.html">atj-type-case</a> type :jprimarr))))
      (<a href="ACL2____RAISE.html">raise</a> "Invalid array name ~x0 for non-array type ~x1."
             array kwd)
      (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-IRRELEVANT.html">atj-type-irrelevant</a>) nil))
     (pos (<a href="ACL2____INDEX-OF.html">index-of</a> array formals))
     ((when (<a href="COMMON-LISP____NOT.html">not</a> pos))
      (<a href="ACL2____RAISE.html">raise</a> "Array name ~x0 not among formals ~x1."
             array formals)
      (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-IRRELEVANT.html">atj-type-irrelevant</a>) nil))
     (in-type (<a href="COMMON-LISP____NTH.html">nth</a> pos in-types))
     ((unless (<a href="COMMON-LISP____EQUAL.html">equal</a> type in-type))
      (<a href="ACL2____RAISE.html">raise</a>
       "The type ~x0 of the ~x1 input does not match ~
                    the type ~x2 of the ~x1 output."
       (<a href="JAVA____ATJ-TYPE-TO-KEYWORD.html">atj-type-to-keyword</a> in-type)
       array kwd)
      (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-IRRELEVANT.html">atj-type-irrelevant</a>) nil)))
    (<a href="ACL2____MV.html">mv</a> type array))
   (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____KEYWORDP.html">keywordp</a> out-type-spec)
       (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-FROM-KEYWORD.html">atj-type-from-keyword</a> out-type-spec)
           nil)
       (<a href="ACL2____PROG2_42.html">prog2$</a> (<a href="ACL2____RAISE.html">raise</a> "Invalid output type specification ~x0."
                      out-type-spec)
               (<a href="ACL2____MV.html">mv</a> (<a href="JAVA____ATJ-TYPE-IRRELEVANT.html">atj-type-irrelevant</a>) nil))))))</pre> 
<p><b>Theorem: </b>atj-typep-of-atj-process-output-type-spec.type</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 atj-typep-of-atj-process-output-type-spec.type
 (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____MV.html">mv</a> common-lisp::?type common-lisp::?array)
     (<a href="JAVA____ATJ-PROCESS-OUTPUT-TYPE-SPEC.html">atj-process-output-type-spec</a> out-type-spec formals in-types)))
   (<a href="JAVA____ATJ-TYPEP.html">atj-typep</a> type))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>symbolp-of-atj-process-output-type-spec.array</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 symbolp-of-atj-process-output-type-spec.array
 (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____MV.html">mv</a> common-lisp::?type common-lisp::?array)
     (<a href="JAVA____ATJ-PROCESS-OUTPUT-TYPE-SPEC.html">atj-process-output-type-spec</a> out-type-spec formals in-types)))
   (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> array))
 :rule-classes :rewrite)</pre> 

</body>
</html>
