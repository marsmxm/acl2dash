<html>
<head>
<meta charset="UTF-8">
<title>Book-contents</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____BOOK-CONTENTS">Click for Book-contents in the Full Manual</a></h3>

<p>Restrictions on the forms inside <a href="ACL2____BOOKS.html">books</a></p><pre class="code">Example Book:

; This book defines my app function and the theorem that it is
; associative.  One irrelevant help lemma is proved first but
; it is local and so not seen by include-book.  I depend on the
; inferior book "weird-list-primitives" from which I get
; definitions of hd and tl.

(<a href="COMMON-LISP____IN-PACKAGE.html">in-package</a> "MY-PKG")

(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "weird-list-primitives")

(<a href="COMMON-LISP____DEFUN.html">defun</a> app (x y) (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____CONSP.html">consp</a> x) (<a href="COMMON-LISP____CONS.html">cons</a> (hd x) (app (tl x) y)) y))

(<a href="ACL2____LOCAL.html">local</a>
 (<a href="ACL2____DEFTHM.html">defthm</a> help-lemma
   (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____TRUE-LISTP.html">true-listp</a> x) (<a href="COMMON-LISP____EQUAL.html">equal</a> (app x nil) x))))

(<a href="ACL2____DEFTHM.html">defthm</a> app-is-associative
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (app (app a b) c) (app a (app b c))))</pre> 
 
 <p>The first form in a book must be <span class="v">(<a href="COMMON-LISP____IN-PACKAGE.html">in-package</a> "pkg")</span> where 
 <span class="v">"pkg"</span> is some package name known to ACL2 whenever the book is 
 certified.  The rest of the forms in a book are embedded event forms, i.e., 
 <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>s, <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span>s, etc., some of which may be marked <span class="tt"><a href="ACL2____LOCAL.html">local</a></span>.  See <a href="ACL2____EMBEDDED-EVENT-FORM.html">embedded-event-form</a>.  The usual Common Lisp commenting 
 conventions are provided.  Note that since a book consists of embedded event 
 forms, we can talk about the ``<span class="tt"><a href="ACL2____LOCAL.html">local</a></span>'' and ``non-local'' <a href="ACL2____EVENTS.html">events</a> 
 of a book.</p> 
 
 <p>Because <span class="tt"><a href="COMMON-LISP____IN-PACKAGE.html">in-package</a></span> is not an embedded event form, the only <span class="tt"><a href="COMMON-LISP____IN-PACKAGE.html">in-package</a></span> in a book is the initial one.  Because <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span> is not an 
 embedded event form, a book can never contain a <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span> form.  Because 
 <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> is an embedded event form, <a href="ACL2____BOOKS.html">books</a> may contain 
 references to other <a href="ACL2____BOOKS.html">books</a>.  This makes <a href="ACL2____BOOKS.html">books</a> structured 
 objects.</p> 
 
 <p>When the forms in a book are read from the file, they are read with <span class="tt"><a href="ACL2____CURRENT-PACKAGE.html">current-package</a></span> set to the package named in the <span class="tt"><a href="COMMON-LISP____IN-PACKAGE.html">in-package</a></span> form at 
 the top of the file.  The effect of this is that all symbols are <a href="COMMON-LISP____INTERN.html">intern</a>ed in that package, except those whose packages are given explicitly 
 with the ``::'' notation.  For example, if a book begins with <span class="v">(<a href="COMMON-LISP____IN-PACKAGE.html">in-package</a>
 "ACL2-X")</span> and then contains the form</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> fn (x)
  (<a href="COMMON-LISP____LIST.html">acl2::list</a> 'car x))</pre> 
 
 <p>then <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>, <span class="v">fn</span>, <span class="v">x</span>, and <span class="tt"><a href="COMMON-LISP____CAR.html">car</a></span> are all <a href="COMMON-LISP____INTERN.html">intern</a>ed in the <span class="v">"ACL2-X"</span> package.  I.e., it is as though the following 
 form were read instead:</p> 
 
 <pre class="code">(acl2-x::defun acl2-x::fn (acl2-x::x)
    (<a href="COMMON-LISP____LIST.html">acl2::list</a> 'acl2-x::car acl2-x::x)).</pre> 
 
 <p>Of course, <span class="v">acl2-x::defun</span> would be the same symbol as <span class="v">acl2::defun</span> 
 if the <span class="v">"ACL2-X"</span> package imported <span class="v">acl2::defun</span>.</p> 
 
 <p>If each book has its own unique package name and all the names defined 
 within the book are in that package, then name clashes between <a href="ACL2____BOOKS.html">books</a> 
 are completely avoided.  This permits the construction of useful logical <a href="ACL2____WORLD.html">world</a>s by the successive inclusion of many <a href="ACL2____BOOKS.html">books</a>.  Although it is 
 often too much trouble to manage several packages, their judicious use is a 
 way to minimize name clashes.  Often, a better way is to use <span class="v">local</span>; see 
 <a href="ACL2____LOCAL.html">local</a>.</p> 
 
 <p>How does <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> know the definitions of the packages used in 
 a book, since <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span>s cannot be among the forms?  More generally, how 
 do we know that the forms in a book will be admissible in the host logical 
 <a href="ACL2____WORLD.html">world</a> of an <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span>?  See <a href="ACL2____CERTIFICATE.html">certificate</a> for answers 
 to these questions.</p>
</body>
</html>
