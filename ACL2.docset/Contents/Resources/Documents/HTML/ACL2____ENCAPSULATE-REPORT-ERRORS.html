<html>
<head>
<meta charset="UTF-8">
<title>Encapsulate-report-errors</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____ENCAPSULATE-REPORT-ERRORS">Click for Encapsulate-report-errors in the Full Manual</a></h3>

<p>Run <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span>, but with a helpful error at the first 
 failure of one of its top-level events (if any).</p><p>This macro is equivalent to <a href="ACL2____ENCAPSULATE.html">encapsulate</a> except that it takes 
 an extra argument, which is a <a href="ACL2____CONTEXT.html">context</a>, that goes in the first 
 position.  Unlike <span class="v">encapsulate</span>, it provides a helpful error if any of its 
 given <a href="ACL2____EVENTS.html">events</a> fails.  It uses that extra `context' argument in reporting 
 that error.  (But the error itself is reported by the event, with the usual 
 context constructed for that event.)</p> 
 
 <pre class="code">General Form:

(<a href="ACL2____ENCAPSULATE-REPORT-ERRORS.html">encapsulate-report-errors</a> ctx signature-list event1 event2 ... eventk)</pre> 
 
 <p>where <span class="v">ctx</span> is a context, <span class="v">signature-list</span> is a list of <a href="ACL2____SIGNATURE.html">signature</a>s, and each <span class="v">eventi</span> is an <a href="ACL2____EMBEDDED-EVENT-FORM.html">embedded-event-form</a>.  Note that 
 none of these arguments is evaluated.  Thus, a typical call might be laid down 
 as follows.</p> 
 
 <pre class="code">`(<a href="ACL2____ENCAPSULATE-REPORT-ERRORS.html">encapsulate-report-errors</a> ,ctx () ,@events)</pre> 
 
 <p>Normally, if if any of the given events (shown above as ``<span class="v">event1 event2
 ... eventk</span>'') fails, then the output will conclude as follows, where here we 
 write <span class="v">&lt;CTX&gt;</span> to denote the formatted context and <span class="v">&lt;EV&gt;</span> to denote the 
 failed event printed in abbreviated form.</p> 
 
 <pre class="code">ACL2 Error in &lt;CTX&gt;:  The following event has caused an
unexpected error:

&lt;EV&gt;

Please contact the implementor of the tool that you are using.</pre> 
 
 <p>However, if the event is of the form <span class="v">(<a href="ACL2____ON-FAILURE.html">on-failure</a> ...)</span>, then the 
 specified failure message is printed instead of this generic one.  See <a href="ACL2____ON-FAILURE.html">on-failure</a>.</p>
</body>
</html>
