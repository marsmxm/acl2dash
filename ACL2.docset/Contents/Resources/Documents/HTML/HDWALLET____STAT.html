<html>
<head>
<meta charset="UTF-8">
<title>Stat</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=HDWALLET____STAT">Click for Stat in the Full Manual</a></h3>

<p>State of the wallet.</p><p>This is a product type introduced by <a href="FTY____DEFPROD.html">fty::defprod</a>.</p> 
<h5>Fields</h5> 
<dl>
<dt>keys — <a href="BITCOIN____BIP32-KEY-TREE.html">bip32-key-tree</a>
</dt> 
 
<dt>addresses — <a href="ACL2____NATP.html">natp</a>
</dt> 
 
</dl><p>The state of the wallet includes a BIP 32 key tree.</p><p>The key tree will always include: 
     the purpose key (44') just under the root key; 
     the Ethereum mainnet coin type key (60') just under that; 
     the default account key (0') just under that; 
     the external chain key (0) just under that; 
     and 0 or more address keys just under that. 
     In rare cases, some address key may be missing 
     (when their derivation fails); 
     see BIP 32 for details. 
     Thus, every key in the tree 
     is identified by a path of the following form:</p><pre class="code">m / 44' / 60' / 0' / 0 / address_index</pre><p>The state of the wallet also includes 
     the number of address keys derived so far. 
     More precisely, this is the number of address keys 
     attempted to derive so far, 
     since in rare cases key derivation may fail (see BIP 32).</p><p>Because of this rare eventuality, 
     this additional state component (the number of addresses) 
     is not always redundant with the key tree, 
     i.e. it cannot always be derived from the key tree. 
     For example, the user may have attempted to derive 10 address keys, 
     with indices 0 to 9, all of which were successful 
     except for the one with index 9. 
     Then the key tree would have 9 address keys (with indices 0 to 8), 
     and no key for index 9. 
     However, the additional state component for the number of addresses 
     would be 10 in this case, and not 9. 
     In this way, the next address key derivation attempt can be made 
     at index 10, and not again at index 9 (which would fail again).</p><p>This fixtype captures the basic structure of the state of the wallet. 
     Additional constraints, including the ones outlined above, 
     are expressed by the well-formedness predicate <span class="tt"><a href="HDWALLET____STAT-WFP.html">stat-wfp</a></span>.</p>
</body>
</html>
