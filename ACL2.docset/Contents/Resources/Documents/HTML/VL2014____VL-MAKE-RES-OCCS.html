<html>
<head>
<meta charset="UTF-8">
<title>Vl-make-res-occs</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____VL-MAKE-RES-OCCS">Click for Vl-make-res-occs in the Full Manual</a></h3>

<p>Convert the <a href="VL2014____VL-RES-SIGMA-P.html">vl-res-sigma-p</a> database into a list of E 
occurrences to drive each multiply driven wire.</p><p><span class="tt">(vl-make-res-occs idx sigma)</span> takes <span class="v">idx</span>, an index for fresh name 
generation, and <span class="v">sigma</span>, which should be the <b>already shrunk</b> <a href="VL2014____VL-RES-SIGMA-P.html">vl-res-sigma-p</a> obtained from <a href="VL2014____VL-RES-REWRITE-OCCS.html">vl-res-rewrite-occs</a>.  Recall that the 
alist binds, e.g.,</p> 
 
<pre class="code">W --&gt; (W_1 W_2 ... W_n)</pre> 
 
<p>Where <span class="v">W</span> was the name of some original, multiply-driven wire, and 
<span class="v">W_1, dots</span> are the freshly generated names that are now being driven 
instead of W.  The idea is to build a new occurrence that drives W to the 
resolution of W1...Wn, for each such W.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-make-res-occs</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> vl-make-res-occs (idx sigma)
       "Returns (<a href="ACL2____MV.html">MV</a> OCCS IDX')"
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____NATP.html">natp</a> idx)
                                   (<a href="VL2014____VL-RES-SIGMA-P.html">vl-res-sigma-p</a> sigma))))
       (<a href="ACL2____B_A2.html">b*</a> ((idx (<a href="ACL2____LNFIX.html">lnfix</a> idx))
            ((when (<a href="COMMON-LISP____ATOM.html">atom</a> sigma)) (<a href="ACL2____MV.html">mv</a> nil idx))
            (out1 (<a href="COMMON-LISP____CAAR.html">caar</a> sigma))
            (ins1 (<a href="COMMON-LISP____CDAR.html">cdar</a> sigma))
            (idx (<a href="COMMON-LISP_____B2.html">+</a> 1 idx))
            (fresh (make-vl-emodwire :basename "vl_res"
                                     :index idx))
            ((unless (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____TRUE-LISTP.html">true-listp</a> ins1) (<a href="ACL2____UNIQUEP.html">uniquep</a> ins1)))
             (<a href="ACL2____ER.html">er</a> hard? 'vl-make-res-occs
                 "Failed to generate unique drivers!")
             (<a href="ACL2____MV.html">mv</a> nil idx))
            (occ1 (<a href="VL2014____VL-MAKE-RES-OCC.html">vl-make-res-occ</a> fresh out1 ins1))
            ((<a href="ACL2____MV.html">mv</a> rest idx)
             (<a href="VL2014____VL-MAKE-RES-OCCS.html">vl-make-res-occs</a> idx (<a href="COMMON-LISP____CDR.html">cdr</a> sigma))))
           (<a href="ACL2____MV.html">mv</a> (<a href="COMMON-LISP____CONS.html">cons</a> occ1 rest) idx)))</pre> 
<p><b>Theorem: </b>vl-make-res-occs-mvtypes-0</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> vl-make-res-occs-mvtypes-0
        (<a href="ACL2____TRUE-LISTP.html">true-listp</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (<a href="VL2014____VL-MAKE-RES-OCCS.html">vl-make-res-occs</a> idx sigma)))
        :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>vl-make-res-occs-mvtypes-1</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> vl-make-res-occs-mvtypes-1
        (<a href="ACL2____NATP.html">natp</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (<a href="VL2014____VL-MAKE-RES-OCCS.html">vl-make-res-occs</a> idx sigma)))
        :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>good-esim-occsp-of-vl-make-res-occs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
    good-esim-occsp-of-vl-make-res-occs
    (<a href="ACL2____IMPLIES.html">implies</a>
         (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____FORCE.html">force</a> (<a href="ACL2____NATP.html">natp</a> idx))
              (<a href="ACL2____FORCE.html">force</a> (<a href="VL2014____VL-RES-SIGMA-P.html">vl-res-sigma-p</a> sigma)))
         (good-esim-occsp (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (<a href="VL2014____VL-MAKE-RES-OCCS.html">vl-make-res-occs</a> idx sigma)))))</pre> 

</body>
</html>
