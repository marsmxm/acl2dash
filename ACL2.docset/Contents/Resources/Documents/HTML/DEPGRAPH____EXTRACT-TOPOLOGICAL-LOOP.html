<html>
<head>
<meta charset="UTF-8">
<title>Extract-topological-loop</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=DEPGRAPH____EXTRACT-TOPOLOGICAL-LOOP">Click for Extract-topological-loop in the Full Manual</a></h3>

<p>Extract the topological loop from failed applications of <a href="DEPGRAPH____TOPOSORT-AUX.html">toposort-aux</a>.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(extract-topological-loop seen stop acc full-seen)  final-acc</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">seen</span>  A copy of the seen alist that we're recurring through.<br><font color="#606060">Guard <span class="v">(<a href="ACL2____CONS-LISTP.html">cons-listp</a> seen)</span>.</font>
</dd> 
  <dd>
<span class="tt">stop</span>  The node that we looped back to, so we know when to stop (and won't 
               include nodes that we were exploring before getting to the looping 
               node, i.e., the "handle" of a "lasso").</dd> 
  <dd>
<span class="tt">acc</span>  Accumulator for nodes that really are in the loop.</dd> 
  <dd>
<span class="tt">full-seen</span>  Fast copy of the full seen alist so we can tell if nodes were finished or not.</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">final-acc</span>  List of all the nodes in the loop.</dd> 
 
</dl></div> 
 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>extract-topological-loop</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 extract-topological-loop
 (seen stop acc full-seen)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="ACL2____CONS-LISTP.html">cons-listp</a> seen)))
 (<a href="COMMON-LISP____LET.html">let</a>
     ((__function__ 'extract-topological-loop))
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
     (<a href="COMMON-LISP____COND.html">cond</a> ((<a href="COMMON-LISP____ATOM.html">atom</a> seen)
            (<a href="ACL2____PROG2_42.html">prog2$</a> (<a href="ACL2____ER.html">er</a> hard? 'extract-topological-loop
                        "Should never hit the end of seen!")
                    acc))
           ((<a href="COMMON-LISP____EQ.html">eq</a> (<a href="COMMON-LISP____CDAR.html">cdar</a> seen) :started)
            (<a href="ACL2____B_A2.html">b*</a> ((name (<a href="COMMON-LISP____CAAR.html">caar</a> seen))
                 (finishedp (<a href="COMMON-LISP____EQ.html">eq</a> (<a href="COMMON-LISP____CDR.html">cdr</a> (<a href="ACL2____HONS-GET.html">hons-get</a> name full-seen))
                                :finished))
                 (acc (<a href="COMMON-LISP____IF.html">if</a> finishedp acc (<a href="COMMON-LISP____CONS.html">cons</a> name acc))))
                (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____HONS-EQUAL.html">hons-equal</a> name stop)
                    acc
                    (<a href="DEPGRAPH____EXTRACT-TOPOLOGICAL-LOOP.html">extract-topological-loop</a> (<a href="COMMON-LISP____CDR.html">cdr</a> seen)
                                              stop acc full-seen))))
           (t (<a href="DEPGRAPH____EXTRACT-TOPOLOGICAL-LOOP.html">extract-topological-loop</a> (<a href="COMMON-LISP____CDR.html">cdr</a> seen)
                                        stop acc full-seen)))))</pre> 
<p><b>Theorem: </b>true-listp-of-extract-topological-loop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 true-listp-of-extract-topological-loop
 (<a href="ACL2____IMPLIES.html">implies</a>
   (<a href="ACL2____TRUE-LISTP.html">true-listp</a> acc)
   (<a href="ACL2____TRUE-LISTP.html">true-listp</a> (<a href="DEPGRAPH____EXTRACT-TOPOLOGICAL-LOOP.html">extract-topological-loop</a> seen stop acc full-seen))))</pre> 
<p><b>Theorem: </b>subsetp-equal-of-extract-topological-loop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   subsetp-equal-of-extract-topological-loop
   (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> (<a href="DEPGRAPH____EXTRACT-TOPOLOGICAL-LOOP.html">extract-topological-loop</a> seen stop acc full-seen)
                  (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="ACL2____ALIST-KEYS.html">alist-keys</a> seen) acc)))</pre> 

</body>
</html>
