<html>
<head>
<meta charset="UTF-8">
<title>Atc-write-var-rules</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=C____ATC-WRITE-VAR-RULES">Click for Atc-write-var-rules in the Full Manual</a></h3>

<p>Rules about <span class="tt"><a href="C____WRITE-VAR.html">write-var</a></span>.</p><p>The theorem about <span class="tt"><a href="C____WRITE-VAR.html">write-var</a></span> turns it into <span class="tt"><a href="C____UPDATE-VAR.html">update-var</a></span>, 
     similarly to <span class="tt"><a href="C____CREATE-VAR.html">create-var</a></span> being turned into <span class="tt"><a href="C____ADD-VAR.html">add-var</a></span>. 
     The condition for the replacemenet is captured by <span class="v">write-var-okp</span>, 
     for which we supply rules to go through the computation state layers. 
     When the computation state (meta) variable is reached, 
     it must be the case that there are hypotheses available 
     saying that reading the variable yields a value: 
     this happens for loop proofs, for variables created outside the loop, 
     which are therefore not visible as <span class="tt"><a href="C____ADD-VAR.html">add-var</a></span>s. 
     The rule is used as last resort, 
     only if the computation state is an ACL2 variable 
     (as enforced by the <span class="tt"><a href="ACL2____SYNTAXP.html">syntaxp</a></span> hypothesis).</p><p>We also include the executable counterpart of <span class="tt"><a href="C____TYPEP.html">typep</a></span> 
     in the list of rules related to <span class="tt"><a href="C____WRITE-VAR.html">write-var</a></span>. 
     This is needed to discharge some <span class="tt"><a href="C____TYPEP.html">typep</a></span> hypotheses 
     that arise during symbolic execution and are applied to quoted constants. 
     We may arrange things in the future so that 
     these quoted constants do not arise 
     and thus there is no need for the executable counterpart of <span class="tt"><a href="C____TYPEP.html">typep</a></span> 
     to be included in the list of rules here.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>write-var-aux-okp</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> write-var-aux-okp (var val scopes)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="C____IDENTP.html">identp</a> var)
                                   (<a href="C____VALUEP.html">valuep</a> val)
                                   (<a href="C____SCOPE-LISTP.html">scope-listp</a> scopes))))
       (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'write-var-aux-okp))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
            (<a href="ACL2____B_A2.html">b*</a> (((when (<a href="COMMON-LISP____ENDP.html">endp</a> scopes)) nil)
                 (<a href="C____SCOPE.html">scope</a> (<a href="C____SCOPE-FIX.html">scope-fix</a> (<a href="COMMON-LISP____CAR.html">car</a> scopes)))
                 (pair (<a href="OMAP____IN.html">omap::in</a> (<a href="C____IDENT-FIX.html">ident-fix</a> var) scope))
                 ((when (<a href="COMMON-LISP____CONSP.html">consp</a> pair))
                  (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> (<a href="COMMON-LISP____CDR.html">cdr</a> pair))
                         (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> val))))
                (write-var-aux-okp var val (<a href="COMMON-LISP____CDR.html">cdr</a> scopes)))))</pre> 
<p><b>Theorem: </b>booleanp-of-write-var-aux-okp</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> booleanp-of-write-var-aux-okp
        (<a href="ACL2____B_A2.html">b*</a> ((yes/no (write-var-aux-okp var val scopes)))
            (<a href="ACL2____BOOLEANP.html">booleanp</a> yes/no))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>write-var-aux-okp-of-ident-fix-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-aux-okp-of-ident-fix-var
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-aux-okp (<a href="C____IDENT-FIX.html">ident-fix</a> var)
                                  val scopes)
               (write-var-aux-okp var val scopes)))</pre> 
<p><b>Theorem: </b>write-var-aux-okp-ident-equiv-congruence-on-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-aux-okp-ident-equiv-congruence-on-var
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____IDENT-EQUIV.html">ident-equiv</a> var var-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-aux-okp var val scopes)
                        (write-var-aux-okp var-equiv val scopes)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>write-var-aux-okp-of-value-fix-val</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-aux-okp-of-value-fix-val
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-aux-okp var (<a href="C____VALUE-FIX.html">value-fix</a> val)
                                  scopes)
               (write-var-aux-okp var val scopes)))</pre> 
<p><b>Theorem: </b>write-var-aux-okp-value-equiv-congruence-on-val</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-aux-okp-value-equiv-congruence-on-val
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____VALUE-EQUIV.html">value-equiv</a> val val-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-aux-okp var val scopes)
                        (write-var-aux-okp var val-equiv scopes)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>write-var-aux-okp-of-scope-list-fix-scopes</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-aux-okp-of-scope-list-fix-scopes
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-aux-okp var val (<a href="C____SCOPE-LIST-FIX.html">scope-list-fix</a> scopes))
               (write-var-aux-okp var val scopes)))</pre> 
<p><b>Theorem: </b>write-var-aux-okp-scope-list-equiv-congruence-on-scopes</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-aux-okp-scope-list-equiv-congruence-on-scopes
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____SCOPE-LIST-EQUIV.html">scope-list-equiv</a> scopes scopes-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-aux-okp var val scopes)
                        (write-var-aux-okp var val scopes-equiv)))
        :rule-classes :congruence)</pre> 
<p><b>Function: </b>write-var-okp</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> write-var-okp (var val compst)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="C____IDENTP.html">identp</a> var)
                                   (<a href="C____VALUEP.html">valuep</a> val)
                                   (<a href="C____COMPUSTATEP.html">compustatep</a> compst))))
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP_____E3.html">&gt;</a> (<a href="C____COMPUSTATE-FRAMES-NUMBER.html">compustate-frames-number</a> compst)
                                 0)))
       (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'write-var-okp))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
            (write-var-aux-okp var val
                               (<a href="C____FRAME-_E3SCOPES.html">frame-&gt;scopes</a> (<a href="C____TOP-FRAME.html">top-frame</a> compst)))))</pre> 
<p><b>Theorem: </b>booleanp-of-write-var-okp</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> booleanp-of-write-var-okp
        (<a href="ACL2____B_A2.html">b*</a> ((yes/no (write-var-okp var val compst)))
            (<a href="ACL2____BOOLEANP.html">booleanp</a> yes/no))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>write-var-okp-of-ident-fix-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-ident-fix-var
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp (<a href="C____IDENT-FIX.html">ident-fix</a> var)
                              val compst)
               (write-var-okp var val compst)))</pre> 
<p><b>Theorem: </b>write-var-okp-ident-equiv-congruence-on-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-ident-equiv-congruence-on-var
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____IDENT-EQUIV.html">ident-equiv</a> var var-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val compst)
                        (write-var-okp var-equiv val compst)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>write-var-okp-of-value-fix-val</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-value-fix-val
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var (<a href="C____VALUE-FIX.html">value-fix</a> val)
                              compst)
               (write-var-okp var val compst)))</pre> 
<p><b>Theorem: </b>write-var-okp-value-equiv-congruence-on-val</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-value-equiv-congruence-on-val
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____VALUE-EQUIV.html">value-equiv</a> val val-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val compst)
                        (write-var-okp var val-equiv compst)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>write-var-okp-of-compustate-fix-compst</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-compustate-fix-compst
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val (<a href="C____COMPUSTATE-FIX.html">compustate-fix</a> compst))
               (write-var-okp var val compst)))</pre> 
<p><b>Theorem: </b>write-var-okp-compustate-equiv-congruence-on-compst</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-compustate-equiv-congruence-on-compst
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____COMPUSTATE-EQUIV.html">compustate-equiv</a> compst compst-equiv)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val compst)
                        (write-var-okp var val compst-equiv)))
        :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>write-var-okp-of-enter-scope</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-enter-scope
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val (<a href="C____ENTER-SCOPE.html">enter-scope</a> compst))
               (write-var-okp var val compst)))</pre> 
<p><b>Theorem: </b>write-var-okp-of-add-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-add-var
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val (<a href="C____ADD-VAR.html">add-var</a> var2 val2 compst))
               (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____IDENT-FIX.html">ident-fix</a> var) (<a href="C____IDENT-FIX.html">ident-fix</a> var2))
                   (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> val2)
                          (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> val))
                   (write-var-okp var val compst))))</pre> 
<p><b>Theorem: </b>write-var-okp-of-update-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-update-var
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val (<a href="C____UPDATE-VAR.html">update-var</a> var2 val2 compst))
               (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____IDENT-FIX.html">ident-fix</a> var) (<a href="C____IDENT-FIX.html">ident-fix</a> var2))
                   (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> val2)
                          (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> val))
                   (write-var-okp var val compst))))</pre> 
<p><b>Theorem: </b>write-var-okp-of-update-object</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-of-update-object
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var
                              val (<a href="C____UPDATE-OBJECT.html">update-object</a> objdes obj compst))
               (write-var-okp var val compst)))</pre> 
<p><b>Theorem: </b>write-var-okp-when-valuep-of-read-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-okp-when-valuep-of-read-var
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____SYNTAXP.html">syntaxp</a> (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> compst))
                      (<a href="COMMON-LISP____EQUAL.html">equal</a> old-val (<a href="C____READ-VAR.html">read-var</a> var compst))
                      (<a href="C____VALUEP.html">valuep</a> old-val))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (write-var-okp var val compst)
                        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> val)
                               (<a href="C____TYPE-OF-VALUE.html">type-of-value</a> old-val)))))</pre> 
<p><b>Theorem: </b>write-var-to-update-var</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> write-var-to-update-var
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____COMPUSTATE-FRAMES-NUMBER.html">compustate-frames-number</a> compst)
                                  0))
                      (write-var-okp var val compst))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____WRITE-VAR.html">write-var</a> var val compst)
                        (<a href="C____UPDATE-VAR.html">update-var</a> var val compst))))</pre> 

</body>
</html>
