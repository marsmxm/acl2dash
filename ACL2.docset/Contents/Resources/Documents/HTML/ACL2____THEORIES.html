<html>
<head>
<meta charset="UTF-8">
<title>Theories</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____THEORIES">Click for Theories in the Full Manual</a></h3>

<p>Sets of <a href="ACL2____RUNE.html">rune</a>s to <a href="ACL2____ENABLE.html">enable</a>/<a href="ACL2____DISABLE.html">disable</a> in concert</p><pre class="code">Example: '((:definition app) ; or (:d app)
           (:executable-counterpart app)
           (:i app)
           rv
           (rv)
           (:r assoc-of-app))</pre> 
 
 <p>See:</p> 
 
 <p>A theory is a list of ``runic designators'' as described below.  Each runic 
 designator denotes a set of ``runes'' (see <a href="ACL2____RUNE.html">rune</a>) and by unioning 
 together the runes denoted by each member of a theory we define the set of 
 runes corresponding to a theory.  Theories are used to control which rules are 
 ``<a href="ACL2____ENABLE.html">enable</a>d,'' i.e., available for automatic application by the theorem 
 prover.  There is always a ``current'' theory.  A rule is <a href="ACL2____ENABLE.html">enable</a>d 
 precisely if its <a href="ACL2____RUNE.html">rune</a> is an element of the set of <a href="ACL2____RUNE.html">rune</a>s 
 corresponding to the current theory.  At the top-level, the current theory is 
 the theory selected by the most recent <span class="tt"><a href="ACL2____IN-THEORY.html">in-theory</a></span> event, extended with 
 the rule names introduced since then.  Inside the theorem prover, the 
 <span class="v">:</span><span class="tt"><a href="ACL2____IN-THEORY.html">in-theory</a></span> hint (see <a href="ACL2____HINTS.html">hints</a>) can be used to select a 
 particular theory as current during the proof attempt for a particular 
 goal.</p> 
 
 <p>Theories are generally constructed by ``theory expressions.''  Formally, a 
 theory expression is any term, containing at most the single free variable 
 <span class="tt"><a href="ACL2____WORLD.html">world</a></span>, that when evaluated with <span class="tt"><a href="ACL2____WORLD.html">world</a></span> bound to the current 
 ACL2 world (see <a href="ACL2____WORLD.html">world</a>) produces a theory.  ACL2 provides various 
 functions for the convenient construction and manipulation of theories.  These 
 are called ``theory functions'' (see <a href="ACL2____THEORY-FUNCTIONS.html">theory-functions</a>).  For example, 
 the theory function <span class="tt"><a href="ACL2____UNION-THEORIES.html">union-theories</a></span> takes two theories and produces 
 their union.  The theory function <span class="tt"><a href="ACL2____UNIVERSAL-THEORY.html">universal-theory</a></span> returns the theory 
 containing all known rule names as of the introduction of a given logical 
 name.  But a theory expression can contain constants, e.g.,</p> 
 
 <pre class="code">'(<a href="ACL2____LEN.html">len</a> (<a href="ACL2____LEN.html">len</a>) (:rewrite car-cons) car-cdr-elim)</pre> 
 
 <p>and user-defined functions.  The only important criterion is that a theory 
 expression mention no variable freely except <span class="tt"><a href="ACL2____WORLD.html">world</a></span> and evaluate to a 
 theory.</p> 
 
 <p>More often than not, theory expressions typed by the user do not mention 
 the variable <span class="tt"><a href="ACL2____WORLD.html">world</a></span>.  This is because user-typed theory expressions are 
 generally composed of applications of ACL2's theory functions.  These 
 ``functions'' are actually macros that expand into terms in which <span class="tt"><a href="ACL2____WORLD.html">world</a></span> is used freely and appropriately.  Thus, the technical definition of 
 ``theory expression'' should not mislead you into thinking that interesting 
 theory expressions must mention <span class="tt"><a href="ACL2____WORLD.html">world</a></span>; they probably do and you just 
 didn't know it!</p> 
 
 <p>One aspect of this arrangement is that theory expressions cannot generally 
 be evaluated at the top-level of ACL2, because <span class="tt"><a href="ACL2____WORLD.html">world</a></span> is not bound.  To 
 see the value of a theory expression, <span class="v">expr</span>, at the top-level, type</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="COMMON-LISP____LET.html">LET</a> ((<a href="ACL2____WORLD.html">WORLD</a> (<a href="ACL2____W.html">W</a> STATE))) expr).</pre> 
 
 <p>However, because the built-in theories are quite long, you may be sorry you 
 printed the value of a theory expression!</p> 
 
 <p>A theory is a true list of runic designators and to each theory there 
 corresponds a set of <a href="ACL2____RUNE.html">rune</a>s, obtained by unioning together the sets of 
 <a href="ACL2____RUNE.html">rune</a>s denoted by each runic designator.  For example, the theory 
 constant</p> 
 
 <pre class="code">'(<a href="ACL2____LEN.html">len</a> (<a href="ACL2____LEN.html">len</a>) (:e nth) (:rewrite car-cons) car-cdr-elim)</pre> 
 
 <p>corresponds to the set of <a href="ACL2____RUNE.html">rune</a>s</p> 
 
 <pre class="code">{(:definition len)
 (:induction len)
 (:executable-counterpart len)
 (:executable-counterpart nth)
 (:elim car-cdr-elim)
 (:rewrite car-cons)} .</pre> 
 
 <p>Observe that the theory contains five elements but its runic correspondent 
 contains six.  That is because runic designators can denote sets of several 
 <a href="ACL2____RUNE.html">rune</a>s, as is the case for the first designator, <span class="v">len</span>.  If the above 
 theory were selected as current then the six rules named in its runic 
 counterpart would be <a href="ACL2____ENABLE.html">enable</a>d and all other rules would be <a href="ACL2____DISABLE.html">disable</a>d.</p> 
 
 <p>We now precisely define the runic designators and the set of <a href="ACL2____RUNE.html">rune</a>s 
 denoted by each.  When we refer below to the ``macro-aliases dereference of'' 
 a symbol, <span class="v">symb</span>, we mean the (function) symbol corresponding <span class="v">symb</span> in 
 the macro-aliases-table if there is such a symbol, else <span class="v">symb</span> itself; see 
 <a href="ACL2____MACRO-ALIASES-TABLE.html">macro-aliases-table</a>.  For example, the macro-aliases dereference of 
 <span class="tt"><a href="COMMON-LISP____APPEND.html">append</a></span> is <span class="tt"><a href="ACL2____BINARY-APPEND.html">binary-append</a></span>, and the macro-aliases dereference of 
 <span class="tt"><a href="COMMON-LISP____NTH.html">nth</a></span> is <span class="v">nth</span>.</p> 
 
 <ul> 
 
 <li>A <a href="ACL2____RUNE.html">rune</a> is a runic designator and denotes the singleton set 
 containing that rune.</li> 
 
 <li>Suppose that <span class="v">symb</span> is a symbol and <span class="v">symb'</span> is the macro-aliases 
 dereference of <span class="v">symb</span>, where <span class="v">symb'</span> is a function symbol introduced 
 with a <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> (or <span class="tt"><a href="ACL2____DEFUNS.html">defuns</a></span>) event.  Then <span class="v">symb</span> is a runic 
 designator and denotes the set containing the runes <span class="tt">(:definition 
 symb')</span> and <span class="tt">(:induction symb')</span>, omitting the latter if no such 
 <a href="ACL2____INDUCTION.html">induction</a> rune exists (presumably because the definition of <span class="v">symb'</span> 
 is not singly recursive).</li> 
 
 <li>Suppose that <span class="v">symb</span> is a symbol and <span class="v">symb'</span> is the macro-aliases 
 dereference of <span class="v">symb</span>, where <span class="v">symb'</span> is a function symbol introduced 
 with a <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> (or <span class="tt"><a href="ACL2____DEFUNS.html">defuns</a></span>) event.  Then <span class="v">(symb)</span> is a runic 
 designator and denotes the singleton set containing the rune 
 <span class="tt">(:executable-counterpart symb')</span>.</li> 
 
 <li>If <span class="v">symb</span> is the name of a <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span> (or <span class="tt"><a href="ACL2____DEFAXIOM.html">defaxiom</a></span>) event 
 that introduced at least one rule, then <span class="v">symb</span> is a runic designator and 
 denotes the set of the names of all rules introduced by the named event.</li> 
 
 <li>If <span class="v">str</span> is the string naming some <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span> event and <span class="v">symb</span> 
 is the symbol returned by <span class="v">(<a href="COMMON-LISP____INTERN.html">intern</a> str "ACL2")</span>, then <span class="v">symb</span> is a 
 runic designator and denotes the singleton set containing <span class="v">(:rewrite
 symb)</span>, which is the name of the rule stating the conditions under which the 
 <span class="tt"><a href="ACL2____SYMBOL-PACKAGE-NAME.html">symbol-package-name</a></span> of <span class="v">(<a href="COMMON-LISP____INTERN.html">intern</a> x str)</span> is <span class="v">str</span>.</li> 
 
 <li>If <span class="v">symb</span> is the name of a <span class="tt"><a href="ACL2____DEFTHEORY.html">deftheory</a></span> event, then <span class="v">symb</span> is a 
 runic designator and denotes the runic theory (as defined below) corresponding 
 to <span class="v">symb</span>.</li> 
 
 <li>Finally, suppose that <span class="v">symb</span> is a symbol and <span class="v">symb'</span> is the 
 macro-aliases dereference of <span class="v">symb</span>.  Then <span class="v">(:KWD symb . rest)</span> is a 
 runic designator, known as a ``runic abbreviation'', if <span class="v">(:KWD' symb'
 . rest)</span> is a <a href="ACL2____RUNE.html">rune</a>, where: <span class="v">:KWD</span> is one of <span class="v">:d</span>, <span class="v">:e</span>, 
 <span class="v">:i</span>, <span class="v">:r</span>, or <span class="v">:t</span>; and <span class="v">:KWD'</span> is <span class="v">:definition</span>, 
 <span class="v">:executable-counterpart</span>, <span class="v">:induction</span>, <span class="v">:rewrite</span>, or 
 <span class="v">:type-prescription</span>, respectively.  In this case, <span class="v">(:KWD symb . rest)</span> 
 denotes the runic theory (as defined below) corresponding to the rune 
 <span class="v">(:KWD' symb' . rest)</span>.</li> 
 
 </ul> 
 
 <p>Note that including a function name, e.g., <span class="tt"><a href="ACL2____LEN.html">len</a></span>, in the current 
 theory <a href="ACL2____ENABLE.html">enable</a>s that function but does not <a href="ACL2____ENABLE.html">enable</a> the <a href="ACL2____EXECUTABLE-COUNTERPART.html">executable-counterpart</a>.  Similarly, including <span class="v">(<a href="ACL2____LEN.html">len</a>)</span> or <span class="v">(:e len)</span> 
 <a href="ACL2____ENABLE.html">enable</a>s the executable-counterpart but not the symbolic definition. 
 And including the name of a proved lemma <a href="ACL2____ENABLE.html">enable</a>s all of the rules added 
 by the event.  Of course, one can include explicitly the <a href="ACL2____RUNE.html">rune</a>s naming 
 the rules in question and so can avoid entirely the use of non-runic elements 
 in theories.</p> 
 
 <p>Because a <a href="ACL2____RUNE.html">rune</a> is a runic designator denoting the set containing 
 that <a href="ACL2____RUNE.html">rune</a>, a list of <a href="ACL2____RUNE.html">rune</a>s is a theory and denotes itself. 
 There is a natural ``canonical'' ordering of runes by order of their creation. 
 We call a canonically ordered true list of runes a ``runic theory.''  To every 
 theory there corresponds a runic theory, sometimes called its runic 
 correspondent, obtained by unioning together the sets denoted by each 
 designator in the theory.  When a theory is selected as ``current'' it is 
 actually its runic correspondent that is effectively used.  That is, a <a href="ACL2____RUNE.html">rune</a> is <a href="ACL2____ENABLE.html">enable</a>d iff it is a member of the runic correspondent of the 
 current theory.  The value of a theory defined with <span class="tt"><a href="ACL2____DEFTHEORY.html">deftheory</a></span> is the 
 runic correspondent of the theory computed by the defining theory expression. 
 The theory manipulation functions, e.g., <span class="tt"><a href="ACL2____UNION-THEORIES.html">union-theories</a></span>, actually 
 convert their theory arguments to their runic correspondents before performing 
 the required set operation.  The manipulation functions always return runic 
 theories.  Thus, it is sometimes convenient to think of (non-runic) theories 
 as merely abbreviations for their runic correspondents, abbreviations which 
 are ``expanded'' at the first opportunity by theory manipulation functions and 
 the ``theory consumer'' functions such as <span class="tt"><a href="ACL2____IN-THEORY.html">in-theory</a></span> and <span class="tt"><a href="ACL2____DEFTHEORY.html">deftheory</a></span>.</p>
</body>
</html>
