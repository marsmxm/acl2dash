<html>
<head>
<meta charset="UTF-8">
<title>Tempfile</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=OSLIB____TEMPFILE">Click for Tempfile in the Full Manual</a></h3>

<p>Generate a suitable name for a temporary file.</p><p>Signature: <span class="tt">(tempfile basename &amp;optional (state 'state))</span>  <span class="v">(<a href="ACL2____MV.html">mv</a> filename/nil
state)</span>.</p> 
 
<p>Example:</p> 
 
<pre class="code">(<a href="OSLIB____TEMPFILE.html">tempfile</a> "foo") --&gt; ("/tmp/jared-31721-foo" &lt;state&gt;)</pre> 
 
<p>Note: this function is attachable.  If you need to generate temporary file 
names using some other scheme, you can define your own strategy and attach it 
to <span class="v">tempfile-fn</span>; see <a href="ACL2____DEFATTACH.html">defattach</a>.</p> 
 
<p>The intent is that this function should produce a good <span class="v">filename</span> to use 
for the name of a temporary file.  To allow <span class="v">tempfile</span> implementations to 
fail for whatever reason, <span class="v">filename</span> may be <span class="v">nil</span>.</p> 
 
<p><b>Macro: </b>tempfile</p><pre class="code">(<a href="COMMON-LISP____DEFMACRO.html">defmacro</a> tempfile
          (<a href="OSLIB____BASENAME.html">basename</a> &amp;optional (<a href="ACL2____STATE.html">state</a> 'state))
          (<a href="COMMON-LISP____CONS.html">cons</a> 'tempfile-fn
                (<a href="COMMON-LISP____CONS.html">cons</a> basename (<a href="COMMON-LISP____CONS.html">cons</a> state 'nil))))</pre> 
<p><b>Definition: </b>tempfile-fn</p><pre class="code">(<a href="ACL2____ENCAPSULATE.html">encapsulate</a>
  (((tempfile-fn * state)
    =&gt; (<a href="ACL2____MV.html">mv</a> * state)
    :formals (<a href="OSLIB____BASENAME.html">basename</a> state)
    :guard (<a href="COMMON-LISP____STRINGP.html">stringp</a> basename)))
  (<a href="ACL2____LOCAL.html">local</a> (<a href="ACL2____VALUE-TRIPLE.html">value-triple</a> :elided))
  (<a href="ACL2____DEFTHM.html">defthm</a> type-of-tempfile-fn
          (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (tempfile-fn basename state)))
              (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (tempfile-fn basename state))))
          :rule-classes :type-prescription)
  (<a href="ACL2____DEFTHM.html">defthm</a>
       state-p1-of-tempfile-fn
       (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____FORCE.html">force</a> (state-p1 state))
                (state-p1 (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (tempfile-fn basename state)))))
  (<a href="ACL2____DEFTHM.html">defthm</a> w-state-of-tempfile-fn
          (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="ACL2____W.html">w</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (tempfile-fn basename state)))
                 (<a href="ACL2____W.html">w</a> state))))</pre> 
 
<h3>Definitions and Theorems</h3><p><b>Theorem: </b>type-of-tempfile-fn</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> type-of-tempfile-fn
        (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (tempfile-fn basename state)))
            (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (tempfile-fn basename state))))
        :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>state-p1-of-tempfile-fn</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     state-p1-of-tempfile-fn
     (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____FORCE.html">force</a> (state-p1 state))
              (state-p1 (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (tempfile-fn basename state)))))</pre> 
<p><b>Theorem: </b>w-state-of-tempfile-fn</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> w-state-of-tempfile-fn
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="ACL2____W.html">w</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (tempfile-fn basename state)))
               (<a href="ACL2____W.html">w</a> state)))</pre> 

</body>
</html>
