<html>
<head>
<meta charset="UTF-8">
<title>Defretgen</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=STD____DEFRETGEN">Click for Defretgen in the Full Manual</a></h3>

<p>Generate some <a href="ACL2____DEFRET.html">defret</a> and <a href="STD____DEFRET-MUTUAL.html">defret-mutual</a> forms for a set 
          of functions and mutual recursions.</p><p>This macro generates theorems based on the same kinds of rules as 
<a href="STD____DEFRET-MUTUAL-GENERATE.html">defret-mutual-generate</a>.  However, instead of generating those theorems 
for a single mutually-recursive clique, it generates them for a user-specified 
list of functions and mutual recursions, which must be defined using <a href="ACL2____DEFINE.html">define</a> or <a href="ACL2____DEFINES.html">defines</a> respectively.</p> 
 
<p>The syntax of <span class="v">defretgen</span> works as follows:</p> 
 
<pre class="code">(<a href="STD____DEFRETGEN.html">defretgen</a> my-theorem-about-&lt;fn&gt;
   ;; rules to generate the theorems
   :rules ((condition1 action1 ...)
           (condition2 action2 ...)
           ...)
  ;; abbreviations that generate more rules
  :formal-hyps ...
  :return-concls ...
  :function-keys ...

  ;; optional keywords
  :hints top-level-hints-for-defret-mutual
  :no-induction-hint nil ;; for defret-mutual
  :otf-flg nil

  ;; specifies the set of functions for which to generate the theorems
  :functions my-function-set)</pre> 
 
<p>See <a href="STD____DEFRETGEN-RULES.html">defretgen-rules</a> for documentation on the <span class="v">:rules</span>, 
<span class="v">:formal-hyps</span>, <span class="v">:return-concls</span>, and <span class="v">:function-keys</span> arguments.  The 
<span class="v">:hints</span>, <span class="v">:no-induction-hint</span>, and <span class="v">:otf-flg</span> arguments are passed to 
<a href="STD____DEFRET-MUTUAL.html">defret-mutual</a> forms at the top level; hints for <span class="v">defret</span> forms (both 
standalone and within defret-mutual forms) may be specified by the <span class="v">:rules</span> 
and <span class="v">:function-keys</span> arguments.</p> 
 
<p>The argument to <span class="v">:functions</span> must be a list of descriptors (described 
below) or a single symbol, which is an abbreviation for the singleton list 
containing that symbol.  A descriptor may be a symbol or one of the following 
kinds of pairs:</p> 
<ul> 
<li>
<span class="v">(:fnset &lt;name&gt;)</span> denotes a set of functions as defined by <a href="STD____DEF-RETGEN-FNSET.html">def-retgen-fnset</a>.</li> 
<li>
<span class="v">(:mutrec &lt;name&gt;)</span> names a mutually-recursive clique of functions 
defined using <a href="ACL2____DEFINES.html">defines</a>; note that <span class="v">&lt;name&gt;</span> must be the name given to 
the mutually-recursive clique as a whole (the first argument to <span class="v">defines</span>, 
which is not necessarily the name of one of the functions.</li> 
<li>
<span class="v">(:function &lt;name&gt;)</span> names a function defined using <a href="ACL2____DEFINE.html">define</a>.</li> 
</ul> 
 
<p>If it is a symbol, it is treated as <span class="v">(:fnset &lt;name&gt;)</span> if such a function 
set exists, then <span class="v">(:mutrec &lt;name&gt;)</span> if such a mutual recursion exists, then 
<span class="v">(:function &lt;name&gt;)</span> otherwise.</p> 
</body>
</html>
