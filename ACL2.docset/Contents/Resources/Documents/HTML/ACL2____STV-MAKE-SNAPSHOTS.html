<html>
<head>
<meta charset="UTF-8">
<title>Stv-make-snapshots</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____STV-MAKE-SNAPSHOTS">Click for Stv-make-snapshots in the Full Manual</a></h3>

<p>Prepare an STV for debugging by create "snapshots" that are ready 
to be evaluated and written to the VCD file.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(stv-make-snapshots pstv mod) → snapshots</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">pstv</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PROCESSED-STV-P.html">processed-stv-p</a> pstv)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">snapshots</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____CONS-LIST-LISTP.html">cons-list-listp</a> snapshots)</span>.</font>
</dd> 
 
</dl></div> 
<p>This is computationally expensive.  We memoize it so that we only 
need to make the snapshots the first time you want to debug an STV.  The same 
snapshots can then be reused across as many calls of <a href="ACL2____STV-DEBUG.html">stv-debug</a> as you 
like.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>stv-make-snapshots</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 stv-make-snapshots (pstv mod)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="ACL2____PROCESSED-STV-P.html">processed-stv-p</a> pstv)))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'stv-make-snapshots))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____PROCESSED-STV.html">processed-stv</a> pstv) pstv)
    ((<a href="ACL2____COMPILED-STV.html">compiled-stv</a> cstv) pstv.compiled-stv)
    (nphases (<a href="ACL2____NFIX.html">nfix</a> cstv.nphases))
    ((unless (<a href="ACL2____POSP.html">posp</a> nphases))
     (<a href="ACL2____RAISE.html">raise</a> "STV has no phases?"))
    ((<a href="ACL2____MV.html">mv</a> ?init-st-general
         in-alists-general ?nst-alists-general
         out-alists-general int-alists-general)
     (<a href="ACL2____TIME_42.html">time$</a> (<a href="ACL2____STV-FULLY-GENERAL-SIMULATION-DEBUG.html">stv-fully-general-simulation-debug</a>
                 nphases mod cstv.override-bits)
            :msg "; stv debug simulation: ~st sec, ~sa bytes.~%"
            :mintime 1/2)))
   (<a href="ACL2____WITH-FAST-ALIST.html">with-fast-alist</a>
    cstv.restrict-alist
    (<a href="ACL2____TIME_42.html">time$</a>
         (<a href="ACL2____STV-COMBINE-INTO-SNAPSHOTS.html">stv-combine-into-snapshots</a>
              (4v-sexpr-restrict-with-rw-alists
                   in-alists-general cstv.restrict-alist)
              (4v-sexpr-restrict-with-rw-alists
                   out-alists-general cstv.restrict-alist)
              (4v-sexpr-restrict-with-rw-alists
                   int-alists-general cstv.restrict-alist))
         :msg "; stv-debug general snapshots: ~st sec, ~sa bytes.~%"
         :mintime 1/2)))))</pre> 
<p><b>Theorem: </b>cons-list-listp-of-stv-make-snapshots</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> cons-list-listp-of-stv-make-snapshots
        (<a href="ACL2____B_A2.html">b*</a> ((snapshots (<a href="ACL2____STV-MAKE-SNAPSHOTS.html">stv-make-snapshots</a> pstv mod)))
            (<a href="ACL2____CONS-LIST-LISTP.html">cons-list-listp</a> snapshots))
        :rule-classes :rewrite)</pre> 

</body>
</html>
