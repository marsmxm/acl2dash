<html>
<head>
<meta charset="UTF-8">
<title>Fgl-fast-alist-support</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=FGL____FGL-FAST-ALIST-SUPPORT">Click for Fgl-fast-alist-support in the Full Manual</a></h3>

<p>Support for hash-based fast alists in FGL</p><p> FGL supports the use of fast alist primitives (see <a href="ACL2____FAST-ALISTS.html">ACL2::fast-alists</a>) in its rewriter.  However, for accesses and updates to be 
fast, the user must ensure the following conditions are met:</p> 
 
<ul> 
 
<li>The keys of the alist are always concrete values.  (The values need not be 
concrete.)</li> 
 
<li>The alist must only be used in a single-threaded, imperative-style manner, 
just as with ACL2 fast alists.  For example, the following usage will cause a 
slow lookup to occur:</li> 
 
<pre class="code">(<a href="COMMON-LISP____LET_A2.html">let*</a> ((al1 (<a href="ACL2____HONS-ACONS.html">hons-acons</a> 'a 'aa nil))
       (al2 (<a href="ACL2____HONS-ACONS.html">hons-acons</a> 'b 'bb al1)))
    (<a href="ACL2____HONS-GET.html">hons-get</a> 'a al1))</pre> 
 
<li>The alist must not be modified within an <span class="v">if</span> branch and then accessed 
outside that branch, unless care is taken to arrange the branch merging such 
that the keys of the alist remain concrete.</li> 
 
</ul> 
 
<p>For another approach to fast lookups in alists, see <a href="FGL____FGL-ARRAY-SUPPORT.html">fgl-array-support</a>.</p>
</body>
</html>
