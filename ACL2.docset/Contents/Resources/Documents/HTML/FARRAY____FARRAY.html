<html>
<head>
<meta charset="UTF-8">
<title>Farray</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=FARRAY____FARRAY">Click for Farray in the Full Manual</a></h3>

<p>farray -- A data structure for a field-addressable array.</p><p>Stobjs provide constant time lookup for stobj fields/arrays in ACL2, as 
opposed to lists which require linear time lookup for nth/update-nth 
operations.  If one wants to store multiple fields within a stobj, they need to 
prove theorems about how writes to each field interact with each other field. 
This leads to poor <i>proof convenience</i> and <i>proof efficiency</i> (I 
believe these terms were used by J Moore at some point in our discussions and 
I've latched onto it) because each field leads to a quadratic number of 
theorems.</p> 
 
<p>Instead, a stobj <span class="tt">st</span> can be defined with just one field: an array for 
memory, or <span class="tt">mem</span>.  This field can be subdivided further into other 
arrays and scalars.  In this way, a single array in a stobj can simulate a 
stobj with multiple fields.  To accomplish this, an offset table is defined 
that redirects reads and writes to the proper field/subarray.  With the proper 
invariants, one can show that writes to any field do not interfere with other 
fields.  Furthermore, the addition of a field to an farray structure does not 
create any extra proof effort.  This solves the problem of quadratic blowup of 
theorems for stobj data structures.  (This approach is a generalization of an 
abstraction J Moore used in the M1 model.)  The only catch is that all arrays 
and scalars will share the same type (60-bit signed-integers in this 
definition).</p> 
 
<p>This approach is somewhat analogous to memory usage in a traditional C or 
C-like language.  In theory, farrays can be embedded; that is, a field of an 
farray may contain another farray.  This could very well be similar in 
execution efficiency and proof efficiency to record-like stobjs (Jared Davis) 
or abstract stobjs (Shilpi Goel and Matt Kaufmann).</p> 
 
<p>The layout of this book is as follows: 
<ul> 
<li>Define the stobj in which the farray will reside.</li> 
<li>Define and analyze recursive predicate for checking farray field 
table.</li> 
<li>Define farray predicate.</li> 
<li>Define types, accessors, and updaters including:</li> 
    <ul> 
    <li>num-fields</li> 
    <li>fieldp</li> 
    <li>flength</li> 
    <li>field-offsetp</li> 
    <li>fread</li> 
    <li>fwrite</li> 
    </ul> 
<li>Prove theorems about fread and fwrite such as read of write, write of 
write, etc.</li> 
<li>Define functions for easily reading lists from and writing lists to 
stobj</li> 
<li>Define and analyze a membership operator for ranges within a field</li> 
</ul></p> 
 
<p>This material is further described in Nathan Wetzler's dissertation 
  available as a <a href="http://www.cs.utexas.edu/~nwetzler/publications/dissertation-preprint.pdf" target="_blank"><nobr>preprint<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/~nwetzler/publications/dissertation-preprint.pdf"></nobr></a> 
  or on the <a href="https://repositories.lib.utexas.edu/handle/2152/30538" target="_blank"><nobr>UT 
  Digital Repository<img src="../Icon_External_Link.png" title="External link to https://repositories.lib.utexas.edu/handle/2152/30538"></nobr></a>.</p> 
 
<p>A talk on farray was presented at the ACL2 Seminar and the <a href="http://www.cs.utexas.edu/users/moore/acl2/seminar/2015.01.27-wetzler/farray-talk-20150127.lisp" target="_blank"><nobr>slides<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/acl2/seminar/2015.01.27-wetzler/farray-talk-20150127.lisp"></nobr></a> 
  and <a href="http://www.cs.utexas.edu/users/moore/acl2/seminar/2015.01.27-wetzler/farray-diagram.pdf" target="_blank"><nobr>figure<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/acl2/seminar/2015.01.27-wetzler/farray-diagram.pdf"></nobr></a> 
  are available online.</p> 
 

</body>
</html>
