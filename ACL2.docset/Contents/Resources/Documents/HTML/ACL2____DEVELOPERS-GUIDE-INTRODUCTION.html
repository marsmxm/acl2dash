<html>
<head>
<meta charset="UTF-8">
<title>Developers-guide-introduction</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____DEVELOPERS-GUIDE-INTRODUCTION">Click for Developers-guide-introduction in the Full Manual</a></h3>

<p>Introduction</p><p>This <a href="ACL2____DEVELOPERS-GUIDE.html">Developer's Guide</a> 
 is intended to provide an overview of how to maintain the ACL2 source 
 code.</p> 
 
 <p>There are several points we want to make at the outset.</p> 
 
 <h3>Experienced users only, please</h3> 
 
 <p>Without a sense of how to use ACL2, there is significant risk that an 
 attempt to modify its source code could be truly misguided.</p> 
 
 <h3>This guide is highly incomplete!</h3> 
 
 <p>There are at least the following reasons for its incompleteness.</p> 
 
 <ul> 
 
 <li>Comments in the source code may already suffice for a given topic.</li> 
 
 <li>The source code is large and complex; this guide is, ideally, 
 manageable.</li> 
 
 <li>At the time this manual is being created, many aspects of the system are 
 difficult to explain because the writers have forgotten them â€” and 
 that's OK! 
 
 <ul><li>It is typical to read comments (which are sometimes extensive) when 
 modifying the source code, often after reading some user-level documentation, 
 to get up to speed.  As we encounter comments that aren't clear (and correct), 
 we fix them.</li></ul>
</li> 
 
 </ul> 
 
 <h3>Where do the definitive sources reside?</h3> 
 
 <p>The ACL2 source code resides on the filesystem of the Computer Science 
 Department at the University of Texas.  These files are kept in sync with the 
 github sources, of course.  So unless something goes horribly wrong with 
 github, the sources may reasonably be said also to reside at <pre class="code"><a href="https://github.com/acl2/acl2" target="_blank"><nobr>https://github.com/acl2/acl2<img src="../Icon_External_Link.png" title="External link to https://github.com/acl2/acl2"></nobr></a></pre></p> 
 
 <h3>Some longer source code comments are called ``Essays''.</h3> 
 
 <font color="#800080"><p>[JUST TOUCH ON THIS SECTION]</p></font> 
 
 <p>These essays can provide very helpful introductions, at a higher level than 
 may be found in Lisp comments that are inside definitions.  You can search for 
 the string</p> 
 
 <pre class="code">; Essay on ...</pre> 
 
 <p>by using, for example, <span class="v">grep</span> or the Emacs utility <span class="v">meta-x
 tags-search</span>.  For example, suppose you are trying to understand <span class="tt"><a href="ACL2____MAKE-EVENT.html">make-event</a></span>.  Then a first step might be to review its user-level 
 documentation (for <a href="ACL2____MAKE-EVENT.html">make-event</a> and its subtopics); but after that, you 
 could search with <span class="v">grep</span>, or with a tags-search, for the following 
 string.</p> 
 
 <pre class="code">; Essay on make-event</pre> 
 
 <p>If your search is case-insensitive, then you will find ``; Essay on 
 Make-event''.  Such an essay is not necessarily complete, or even close to 
 being complete, but it is a good starting point before modifying source code 
 that supports <span class="v">make-event</span>.</p> 
 
 <font color="#c00000"> 
 <p>As of this writing there are nearly 100 such essays!  This manual does not 
 begin to cover them all; in fact it barely touches on most of them, at best. 
 Moreover, some important components of ACL2 have no high-level essay.</p> 
 </font> 
 
 <ul><li>For example, there is no essay on induction.  In such cases the 
 relevant source comments are generally found inside definitions.  For example, 
 in the case of induction one can start with the function, <span class="v">induct</span>, and 
 read its comments and code to start exploring the rather complex ACL2 
 implementation of induction.</li></ul> 
 
 <h3>Some initiative and hacking are necessary.</h3> 
 
 <p><b>Example 1</b>.  Suppose you encounter the <span class="v">pspv</span> argument in the 
 source function <span class="v">simplify-clause</span>, and you don't know what that is.  You 
 can then search for <span class="v">pspv</span> and you'll find the following: <span class="v">(<a href="ACL2____ACCESS.html">access</a>
 prove-spec-var pspv :rewrite-constant)</span>.  Now <span class="v">access</span> is a basic 
 record-accessing utility that we do cover in this manual; and we'll also talk 
 about the use of Emacs to find definitions.  So you'll know to use the Emacs 
 command, <span class="v">meta-.</span> , to take you to the definition of the record structure, 
 <span class="v">prove-spec-var</span>.  There, you'll find a few comments that explain this 
 structure; unfortunately, however, not many.  The field names can provide a 
 clue.  One of the fields is <span class="v">rewrite-constant</span>, so if you're exploring the 
 <span class="v">pspv</span> because of its effect on rewriting, you can guess that this field is 
 relevant.  So let's say that you want to know about the <span class="v">rewrite-constant</span> 
 field.  Using <span class="v">meta-.</span> once again, you can find the <span class="v">rewrite-constant</span> 
 record structure definition; and this time there are many comments.</p> 
 
 <p><b>Example 2</b>.  What is the flow of the ACL2 waterfall?  By using the 
 Emacs command, <span class="v">meta-.</span> , we can develop this call graph.</p> 
 
 <pre class="code">waterfall
  waterfall1-lst
    waterfall1
      waterfall0
      waterfall0-with-hint-settings
        waterfall0
          waterfall-step</pre> 
 
 <h3>User-level documentation vs. system-level documentation</h3> 
 
 <p>User-level documentation is in community book 
 <span class="v">books/system/doc/acl2-doc.lisp</span> and appears in the acl2+books combined 
 manual and the ACL2 User's Manual.  (This Guide is an exception, of course; it 
 is included in the acl2-books combined manual but it is at the system level, 
 not at the user level.)  See <a href="ACL2____DEVELOPERS-GUIDE-BUILD.html">developers-guide-build</a> for how that 
 documentation is integrated into ACL2 builds.</p> 
 
 <p>By contrast, system-level documentation is in Lisp comments found in the 
 ACL2 sources and in this Guide.  Those comments are geared towards 
 implementors; so while they are written with care, they sometimes assume 
 implementation-level background.  For example, the word ``primitive'' is 
 sometimes used for any built-in function, while other times it might suggest 
 the more limited notion implemented by the constant 
 <span class="v">*primitive-formals-and-guards*</span>; the context may help in understanding the 
 intended meaning (though perhaps, eventually, someone will use ``built-in'' 
 for all uses of the broader notion).  Sometimes an Essay (see above) may 
 provide helpful background; indeed, comments sometimes direct the reader to an 
 Essay.</p> 
 
 <font color="#c00000"> 
 <p>Please read the comments in a definition carefully before you modify it! 
 In particular, there are often comments warning you to ``keep in sync'' with 
 one or more other definitions, which need to be heeded.</p> 
 </font> 
 
 <p>It is often helpful to read user-level documentation before reading 
 system-level documentation when preparing to modify ACL2.  Often the 
 user-level documentation will be on specific topics, such as <span class="tt"><a href="ACL2____MAKE-EVENT.html">make-event</a></span> as described above.  But user-level documentation may also provide 
 general background; in particular, the topic <a href="ACL2____PROGRAMMING-WITH-STATE.html">programming-with-state</a> is 
 highly recommended for anyone who is considering doing system development. 
 However, for most ACL2 system-level documentation, it is best to put it in the 
 ACL2 sources as Lisp comments or in this Guide, rather than elsewhere in the 
 documentation, to avoid confusing or intimidating typical users.</p> 
 
 <p>The topic <span class="tt"><a href="ACL2____SYSTEM-UTILITIES.html">system-utilities</a></span> is a borderline case.  These utilities 
 were created for developing the ACL2 system.  However, users increasingly do 
 ``systems programming'' in ACL2; so, this topic collects some system-level 
 utilities that may benefit such users.</p> 
 
 <h3>This is a living document.</h3> 
 
 <font color="#c00000"> 
 <p>Feel free to modify this guide!  You can, if you like, run modifications by 
 the acl2-devel mailing list before making changes.</p> 
 </font> 
 
 <h3>Do not feel obligated to read this guide linearly, cover-to-cover!</h3> 
 
 <p>Exploration of the ACL2 system is perhaps most efficient when 
 goal-directed, i.e., when you are trying to understand specific aspects of the 
 system.  That said, a quick browse of this entire guide is recommended for 
 ACL2 system developers.</p> 
 
 <p>NEXT SECTION: <a href="ACL2____DEVELOPERS-GUIDE-EMACS.html">developers-guide-emacs</a></p>
</body>
</html>
