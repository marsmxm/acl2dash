<html>
<head>
<meta charset="UTF-8">
<title>Cw-gstack</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____CW-GSTACK">Click for Cw-gstack in the Full Manual</a></h3>

<p>Debug a rewriting loop or stack overflow</p><p>After <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> is enabled (with <span class="v">:</span><span class="tt"><a href="ACL2____BRR.html">brr</a></span><span class="v">
 t</span>), <span class="v">cw-gstack</span> can be invoked to show a stack backtrace when a proof is 
 interrupted (because of control-c or because of a loop).</p> 
 
 <pre class="code">Example Forms:
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a>)
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :frames 10)       ; show only the top 10 frames
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :frames '(1 10))  ; same as above:  show only frames 1 through 10
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :frames '(10 20)) ; show only frames 10 through 20
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :evisc-tuple (<a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> 3 4 nil nil))
                             ; print with print-level 3 and print-length 4
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :evisc-tuple nil) ; print using default ``evisceration'',
                             ;   essentially the same as just above
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :evisc-tuple '(nil 3 4 (<a href="ACL2____HIDE.html">hide</a>)))
                             ; same as just above

General Form:
(<a href="ACL2____CW-GSTACK.html">cw-gstack</a> :frames frames :evisc-tuple evisc-tuple)</pre> 
 
 <p>where <span class="v">:frames</span> and <span class="v">:evisc-tuple</span> are optional, but if they are 
 supplied, their values are evaluated.  The value of <span class="v">frames</span> should be 
 either a natural number or a list of two natural numbers, the first less than 
 the second; and the value of <span class="v">evisc-tuple</span> should be an evisc-tuple (see 
 <a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a>).  If <span class="v">:evisc-tuple</span> is omitted, then by default, 
 substructures deeper than 3 are replaced by ``<span class="v">#</span>'' and those longer than 4 
 are replaced by ``<span class="v">...</span>'', and terms of the form <span class="v">(<a href="ACL2____HIDE.html">hide</a> ...)</span> are 
 printed as <span class="v">&lt;hidden&gt;</span>; this behavior can be changed by setting the 
 <span class="v">:TERM</span> <a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> (see <a href="ACL2____SET-EVISC-TUPLE.html">set-evisc-tuple</a>).  Also see <a href="ACL2____SET-IPRINT.html">set-iprint</a> for an alternative to printing ``<span class="v">#</span>'' and ``<span class="v">...</span>''.</p> 
 
 <p>Stack overflows may occur, perhaps caused by looping rewrite rules.  In 
 some Lisps, stack overflows may manifest themselves as segmentation faults, 
 causing the entire ACL2 image to crash.  Finding looping rewrite rules can be 
 tricky, especially if you are using books supplied by other people.  (However, 
 see <a href="ACL2____SET-REWRITE-STACK-LIMIT.html">set-rewrite-stack-limit</a> for a way to avoid stack overflows caused 
 by rewriter loops.)</p> 
 
 <p>Normally, a stack overflow will cause the printing of an error message that 
 suggests how to proceed.  Just follow those instructions, and you will 
 generally be able to see what is causing the loop.</p> 
 
 <p>Suggestion: Once you have found the loop and fixed it, you should execute 
 the ACL2 command <span class="v">:</span><span class="tt"><a href="ACL2____BRR.html">brr</a></span><span class="v"> nil</span>, so that you don't slow down 
 subsequent proof attempts.</p>
</body>
</html>
