<html>
<head>
<meta charset="UTF-8">
<title>Prog2$</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____PROG2_42">Click for Prog2$ in the Full Manual</a></h3>

<p>Execute two forms and return the value of the second one</p><p>See <a href="ACL2____HARD-ERROR.html">hard-error</a>, see <a href="ACL2____ILLEGAL.html">illegal</a>, and see <a href="ACL2____CW.html">cw</a> for 
 examples of functions to call in the first argument of <span class="v">prog2$</span>.  Also see 
 <a href="ACL2____PROGN_42.html">progn$</a> for an extension of <span class="v">prog2$</span> that handles than two 
 arguments.</p> 
 
 <p>Semantically, <span class="v">(<a href="ACL2____PROG2_42.html">Prog2$</a> x y)</span> equals <span class="v">y</span>; the value of <span class="v">x</span> is 
 ignored.  However, <span class="v">x</span> is first evaluated for side effect.  Since the ACL2 
 <a href="ACL2____PROGRAMMING.html">programming</a> language is applicative, there can be no logical impact of 
 evaluating <span class="v">x</span>.  However, <span class="v">x</span> may involve a call of a function such as 
 <span class="tt"><a href="ACL2____HARD-ERROR.html">hard-error</a></span> or <span class="tt"><a href="ACL2____ILLEGAL.html">illegal</a></span>, which can cause so-called ``hard 
 errors'', or a call of <span class="tt"><a href="ACL2____CW.html">cw</a></span> to perform output.</p> 
 
 <p>Here is a simple, contrived example using <span class="tt"><a href="ACL2____HARD-ERROR.html">hard-error</a></span>.  The 
 intention is to check at run-time that the input is appropriate before calling 
 function <span class="v">bar</span>.</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> foo-a (x)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____CONSP.html">consp</a> x)))
  (<a href="ACL2____PROG2_42.html">prog2$</a>
   (<a href="COMMON-LISP____OR.html">or</a> (good-car-p (<a href="COMMON-LISP____CAR.html">car</a> x))
       (<a href="ACL2____HARD-ERROR.html">hard-error</a> 'foo-a
                   "Bad value for x: ~x0"
                   (<a href="COMMON-LISP____LIST.html">list</a> (<a href="COMMON-LISP____CONS.html">cons</a> #\0 x))))
   (bar x)))</pre> 
 
 <p>The following similar function uses <span class="tt"><a href="ACL2____ILLEGAL.html">illegal</a></span> instead of 
 <span class="v">hard-error</span>.  Since <span class="v">illegal</span> has a guard of <span class="v">nil</span>, <a href="ACL2____GUARD.html">guard</a> 
 verification would guarantee that the call of <span class="v">illegal</span> below will never be 
 made (at least when guard checking is on; see <a href="ACL2____SET-GUARD-CHECKING.html">set-guard-checking</a>).</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> foo-b (x)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____CONSP.html">consp</a> x) (good-car-p (<a href="COMMON-LISP____CAR.html">car</a> x)))))
  (<a href="ACL2____PROG2_42.html">prog2$</a>
   (<a href="COMMON-LISP____OR.html">or</a> (good-car-p (<a href="COMMON-LISP____CAR.html">car</a> x))
       (<a href="ACL2____ILLEGAL.html">illegal</a> 'foo-b
                "Bad value for x: ~x0"
                (<a href="COMMON-LISP____LIST.html">list</a> (<a href="COMMON-LISP____CONS.html">cons</a> #\0 x))))
   (bar x)))</pre> 
 
 <p>We conclude with a simple example using <span class="tt"><a href="ACL2____CW.html">cw</a></span> from the ACL2 
 sources.</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> print-terms (terms iff-flg wrld evisc-tuple)

; Print untranslations of the given terms with respect to iff-flg, following
; each with a newline.

; We use cw instead of the fmt functions because we want to be able to use this
; function in print-type-alist-segments (used in brkpt1), which does not return
; state.

  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____ENDP.html">endp</a> terms)
      terms
    (<a href="ACL2____PROG2_42.html">prog2$</a>
     (<a href="ACL2____CW.html">cw</a> "~Y01"
         (<a href="ACL2____UNTRANSLATE.html">untranslate</a> (<a href="COMMON-LISP____CAR.html">car</a> terms) iff-flg wrld)
         evisc-tuple)
     (print-terms (<a href="COMMON-LISP____CDR.html">cdr</a> terms) iff-flg wrld evisc-tuple))))</pre>
</body>
</html>
