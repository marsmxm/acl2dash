<html>
<head>
<meta charset="UTF-8">
<title>Symbolic-test-vector-composition</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SYMBOLIC-TEST-VECTOR-COMPOSITION">Click for Symbolic-test-vector-composition in the Full Manual</a></h3>

<p>Strategy for performing compositional proofs involving stv's</p><p>It is common to use <a href="ACL2____GL.html">gl</a> to perform proofs about small and 
  moderately-sized circuits.  However, performing proofs about large circuits 
  typically involves first breaking the circuit into smaller parts, and then 
  showing that the sum of the parts is equivalent to the original whole 
  circuit.  We call this proof a compositional equivalence proof.</p> 
 
  <p>Currently the most thorough example of such a proof can be found in the 
  book <span class="v">centaur/esim/tutorial/boothmul.lisp</span>.  This example highlights two 
  ways of performing a compositional equivalence proof:</p> 
 
  <ol> 
    <li>By using <a href="ACL2____GL.html">gl</a>
</li> 
    <li>By using rewriting</li> 
  </ol> 
 
  <p>The advantage of using <a href="ACL2____GL.html">gl</a> is that it is automatic.  The 
  disadvantage is that once one is working on very large circuits, the 
  underlying BDDs or SAT solvers are unlikely to complete.  This is because the 
  compositional proof relies upon the fact that every relevant intermediate 
  value should be a <a href="ACL2____NATP.html">natp</a> (as opposed to <span class="v">X</span>.  This turns out to be a 
  very time-consuming proof obligation!</p> 
 
  <p>An alternative to GL that uses rewriting has been developed.  It involves 
  using book <span class="v">centaur/esim/stv/stv-decomp-proofs</span>.  We recommend looking at 
  the boothmul example mentioned above but offer additional points of 
  clarification for anyone striving to use this book:</p> 
 
  <ul> 
 
    <li>
<p>You will need to enable the <span class="v">stv-decomp-theory</span>.  Thus, the 
    user's hints for the composition proof will look something like:</p> 
 
<pre class="code">:use ((:instance phase-1-types)
      (:instance phase-2-types))
:in-theory (stv-decomp-theory)</pre> 
 
    </li> 
 
    <li><p>At one point the book only worked when the stv's used their autoins 
    macro (see <a href="ACL2____DEFSTV.html">defstv</a>) for finding the inputs.  We think this is no 
    longer the case, but it is something to keep in mind when debugging the 
    failures of your proofs.</p></li> 
 
    <li>
<p>The user absolutely must prove and <span class="v">:use</span> a lemma that says the 
    relevant intermediate values are <span class="v">natp</span>s.  If the user fails to do this, 
    they will likely get an error message that looks like the following.  Note 
    that the user can still obtain a "not equivalent" error for other 
    reasons, which must be debugged by the user.</p> 
 
<pre class="code">HARD ACL2 ERROR in STV-DECOMP-4V-ENV-EQUIV-META:  Not equivalent

A-alist:
((WIRENAME[0] CAR (<a href="COMMON-LISP____IF.html">IF</a> (<a href="COMMON-LISP____EQUAL.html">EQUAL</a> (4V-TO-NAT #) 'X) '(X X X X X ...) (<a href="COMMON-LISP____IF.html">IF</a> (<a href="COMMON-LISP____IF.html">IF</a> # #
#) (BOOL-TO-4V-LST #) '#))) (WIRENAME[10] CAR (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a>
#)))) (WIRENAME[11] CAR (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a> #)))) (WIRENAME[12] CAR (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a>
#)))) (WIRENAME[13] CAR (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a> (<a href="COMMON-LISP____CDR.html">CDR</a> #)))) ...)
B-alist:
((WIRENAME[0] BOOL-TO-4V (<a href="COMMON-LISP____LOGBITP.html">LOGBITP</a> '0 WIRENAME)) (WIRENAME[10] BOOL-TO-4V
(<a href="COMMON-LISP____LOGBITP.html">LOGBITP</a> '10 WIRENAME)) (WIRENAME[11] BOOL-TO-4V (<a href="COMMON-LISP____LOGBITP.html">LOGBITP</a> '11 WIRENAME))
(WIRENAME[12] BOOL-TO-4V (<a href="COMMON-LISP____LOGBITP.html">LOGBITP</a> '12 WIRENAME)) (WIRENAME[13] BOOL-TO-4V
(<a href="COMMON-LISP____LOGBITP.html">LOGBITP</a> '13 WIRENAME)) ...)</pre> 
    </li> 
  </ul> 
 
  <p>The stv-decomp-proofs book is experimental and not as robust as many of 
  the other features provided in the ACL2 books.  Please send inquiries to the 
  acl2-books project.</p> 

</body>
</html>
