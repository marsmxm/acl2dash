<html>
<head>
<meta charset="UTF-8">
<title>Stv-extraction-alists</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____STV-EXTRACTION-ALISTS">Click for Stv-extraction-alists in the Full Manual</a></h3>

<p>Alists explaining what signals we want to extract from the simulation 
after each phase.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(stv-extraction-alists n lines alists-acc)  alists-acc</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">n</span>  Initially this is the total number of phases. 
                                It will counts down from the max phase to 0.<br><font color="#606060">Guard <span class="v">(<a href="ACL2____NATP.html">natp</a> n)</span>.</font>
</dd> 
  <dd>
<span class="tt">lines</span>  Constant.  Expanded output or internals lines.<br><font color="#606060">Guard <span class="v">(<a href="ACL2____TRUE-LIST-LISTP.html">true-list-listp</a> lines)</span>.</font>
</dd> 
  <dd>
<span class="tt">alists-acc</span>  Accumulator, initially nil.</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">alists-acc</span>  A list of alists that say, after each step, which 
                        output bits we want to collect, and how to name them.<br><font color="#606060">Type <span class="v">(<a href="ACL2____TRUE-LISTP.html">true-listp</a> alists-acc)</span>, given <span class="v">(<a href="ACL2____TRUE-LISTP.html">true-listp</a> alists-acc)</span>.</font>
</dd> 
 
</dl></div> 
<p>The basic idea is that if we have a list of outputs lines like:</p> 
 
<pre class="code">(foo  _ _ a _)
(bar  _ b _ c)
(baz  _ _ d _)</pre> 
 
<p>Then we will want to create four alists, one for each phase.  The P0 alist 
is empty.  The P1 alist binds something like</p> 
 
<pre class="code">((bar[0] . b[0])
 (bar[1] . b[1])
 ...
 (bar[n] . b[n]))</pre> 
 
<p>The P2 alist binds something like:</p> 
 
<pre class="code">((foo[0] . a[0])
  ...
 (foo[n] . a[n])
 (baz[0] . d[0])
  ...
 (baz[0] . d[k]))</pre> 
 
<p>And so on.  That is, each of these extraction alists says, for a particular 
phase, the names of the output signals we want to extract from the simulation, 
and which bit of which simulation variable the name corresponds to.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>stv-extraction-alists</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
     stv-extraction-alists
     (n lines alists-acc)
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____NATP.html">natp</a> n) (<a href="ACL2____TRUE-LIST-LISTP.html">true-list-listp</a> lines))))
     (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'stv-extraction-alists))
          (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
          (<a href="COMMON-LISP____LET_A2.html">let*</a> ((nth-alist (<a href="ACL2____STV-NTH-EXTRACTION-ALIST.html">stv-nth-extraction-alist</a> n lines nil))
                 (alists-acc (<a href="COMMON-LISP____CONS.html">cons</a> nth-alist alists-acc)))
                (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____ZP.html">zp</a> n)
                    alists-acc
                    (<a href="ACL2____STV-EXTRACTION-ALISTS.html">stv-extraction-alists</a> (<a href="COMMON-LISP____-.html">-</a> n 1)
                                           lines alists-acc)))))</pre> 
<p><b>Theorem: </b>true-listp-of-stv-extraction-alists</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  true-listp-of-stv-extraction-alists
  (<a href="ACL2____IMPLIES.html">implies</a>
       (<a href="ACL2____TRUE-LISTP.html">true-listp</a> alists-acc)
       (<a href="ACL2____B_A2.html">b*</a> ((alists-acc (<a href="ACL2____STV-EXTRACTION-ALISTS.html">stv-extraction-alists</a> n lines alists-acc)))
           (<a href="ACL2____TRUE-LISTP.html">true-listp</a> alists-acc)))
  :rule-classes :rewrite)</pre> 

</body>
</html>
