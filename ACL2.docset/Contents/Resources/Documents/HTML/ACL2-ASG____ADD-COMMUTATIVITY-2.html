<html>
<head>
<meta charset="UTF-8">
<title>Add-commutativity-2</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2-ASG____ADD-COMMUTATIVITY-2">Click for Add-commutativity-2 in the Full Manual</a></h3>

<p>Macro for adding a second version of commutativity.</p><p>Examples:</p> 
<pre class="code"> (<a href="ACL2-ASG____ADD-COMMUTATIVITY-2.html">acl2-asg::add-commutativity-2</a> equal
                                rationalp
                                *
                                commutativity-of-*
                                commutativity-2-of-*)

(<a href="ACL2-ASG____ADD-COMMUTATIVITY-2.html">acl2-asg::add-commutativity-2</a> acl2-bag::bag-equal
                               true-listp
                               acl2-bag::bag-union
                               acl2-bag::commutativity-of-bag-union
                               commutativity-2-of-bag-union)</pre> 
 
<p>General form:</p> 
 
<pre class="code">(<a href="ACL2-ASG____ADD-COMMUTATIVITY-2.html">acl2-asg::add-commutativity-2</a> equiv-name
                               pred-name
                               op-name
                               commutativity-thm-name
                               commutativity-2-thm-name)</pre> 
 
<p>where all the arguments are names.</p> 
 
<ul> 
<li>
<b>Equiv-name</b> is the name of an equivalence relation, <span class="v">equiv</span>;</li> 
 
<li>
<b>pred-name</b> is the name of a unary function, <span class="v">pred</span>;</li> 
 
<li>
<b>op-name</b> is the name of a binary function, <span class="v">op</span>;</li> 
 
<li>
<b>commutativity-thm-name</b> is the name of theorem which added a :<a href="ACL2____REWRITE.html">rewrite</a> rule to the data base saying that the operation <span class="v">op</span> is commutative 
on the set (of equivalence classes formed by the equivalence relation, 
<span class="v">equiv</span>, on the set) 
 
<pre class="code">SG = { x | (pred x) != nil }</pre> 
 
There must be rules in the data base for the closure of SG under <span class="v">op</span> and 
the associativity with respect to <span class="v">equiv</span> of <span class="v">op</span> on SG.</li> 
</ul> 
 
<p>The macro adds a rewrite rule for a second version of the commutativity with 
respect to equiv of op on SG.  This is done by proving a theorem named 
<b>commutativity-2-thm-name</b>.</p> 
 
<p>Here is the form of the rule added by the macro:</p> 
 
<pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> commutativity-2-thm-name
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (pred x)
                (pred y)
                (pred z))
           (equiv (op x (op y z))
                  (op y (op x z))))) .</pre> 
 
<p>Here is what is meant by "closure of SG under op":</p> 
 
<pre class="code">(<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (pred x)
              (pred y))
         (pred (op x y)))</pre> 
 
<p>Here is what is meant by "associativity with respect to equiv of 
op on SG":</p> 
 
<pre class="code">(<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (pred x)
              (pred y)
              (pred z))
         (equiv (op (op x y) z)
                (op x (op y z))))</pre> 
 
<p>Here is the form of the commutativity rule:</p> 
 
<pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> commutativity-thm-name
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (pred x)
                (pred y))
           (equiv (op x y)
                  (op y x))))</pre>
</body>
</html>
