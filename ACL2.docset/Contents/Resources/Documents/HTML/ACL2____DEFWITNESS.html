<html>
<head>
<meta charset="UTF-8">
<title>Defwitness</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____DEFWITNESS">Click for Defwitness in the Full Manual</a></h3>

<p>Add a <a href="ACL2____WITNESS-CP.html">witness-cp</a> rule providing a witness for an existential 
quantifier hypothesis (or universal quantifier conclusion).</p><p>Example:</p> 
 
<pre class="code">(<a href="ACL2____DEFWITNESS.html">defwitness</a> subsetp-witnessing
  :predicate (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> a b))
  :expr (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____MEMBER-EQUAL.html">member-equal</a> (subsetp-equal-witness a b) a)
             (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____MEMBER-EQUAL.html">member-equal</a> (subsetp-equal-witness a b) b)))
  :generalize (((subsetp-equal-witness a b) . ssew))
  :hints ('(:in-theory '(subsetp-equal-witness-correct))))</pre> 
 
<p>The above example tells <span class="v">witness-cp</span> to expand any hypothesis of the 
form (not (subsetp-equal a b)) or, equivalently, any conclusion of the 
form (subsetp-equal a b), by generating a fresh variable named SSEW or similar 
that represents an object that proves that A is not a subset of B (because that 
object is in A but not B.)</p> 
 
<p>General Form:</p> 
 
<pre class="code">(<a href="ACL2____DEFWITNESS.html">defwitness</a> name
  :predicate    predicate
  :expr         expr
  [:generalize  generalize]
  [:hints       hints]
  [:restriction restriction])</pre> 
 
<p>The <span class="v">name</span> of the rule can be used in Witness Rulesets; see <a href="ACL2____DEF-WITNESS-RULESET.html">def-witness-ruleset</a>.</p> 
 
<p>When <a href="ACL2____WITNESS-CP.html">witness-cp</a> is given a Witness Ruleset that includes <span class="v">name</span>, 
it will look for literals in the clause that unify with the negation of 
<span class="v">predicate</span>.  It will replace these by a term generated from <span class="v">expr</span>.  It 
will then generalize away terms that are keys in <span class="v">generalize</span>, replacing 
them by fresh variables based on their corresponding values.  It will use 
<span class="v">hints</span> to relieve the proof obligation that this replacement is sound, 
which is also done when the <span class="v">defwitness</span> form is run.</p> 
 
<h5>Additional Arguments</h5> 
 
<p>You can syntactically restrict the application of a witness rule by giving a 
<span class="v">restriction</span>.  The <span class="v">restriction</span> term may have free variables that occur 
also in the <span class="v">predicate</span> term, and may also use the variable <span class="v">acl2::world</span> 
to stand for the ACL2 world.  If a <span class="v">restriction</span> is given, then this 
replacement will only take place when it evaluates to a non-nil value.</p>
</body>
</html>
