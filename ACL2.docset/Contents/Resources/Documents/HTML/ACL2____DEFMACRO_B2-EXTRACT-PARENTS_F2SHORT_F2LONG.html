<html>
<head>
<meta charset="UTF-8">
<title>Defmacro+-extract-parents/short/long</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____DEFMACRO_B2-EXTRACT-PARENTS_F2SHORT_F2LONG">Click for Defmacro+-extract-parents/short/long in the Full Manual</a></h3>

<p>Extract the XDOC keyword options from <span class="tt"><a href="ACL2____DEFMACRO_B2.html">defmacro+</a></span>.</p><p>This is similar to <span class="tt"><a href="STD____EXTRACT-KEYWORDS.html">std::extract-keywords</a></span>, 
      but more restricted. 
      We introduce a new function here, 
      instead of using <span class="tt"><a href="STD____EXTRACT-KEYWORDS.html">std::extract-keywords</a></span>, 
      to reduce the book inclusions in the <span class="tt"><a href="ACL2____DEFMACRO_B2.html">defmacro+</a></span> book. 
      If <span class="tt"><a href="STD____EXTRACT-KEYWORDS.html">std::extract-keywords</a></span> is refactored at some point, 
      we could use that here and eliminate this more restricted function.</p> 
   <p>The argument <span class="v">rest</span> of this function consists of 
      the arguments of <span class="tt"><a href="ACL2____DEFMACRO_B2.html">defmacro+</a></span> after the name and macro arguments. 
      See the definition of <span class="tt"><a href="ACL2____DEFMACRO_B2.html">defmacro+</a></span>.</p> 
   <p>This function returns two results. 
      The first result is an alist 
      from the keywords <span class="v">:parents</span>, <span class="v">:short</span>, and <span class="v">:long</span> 
      to their corresponding values; 
      if a keyword is not supplied, it is not in the alist. 
      The second result consists of <span class="v">rest</span> 
      without the keyword options.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>defmacro+-find-parents/short/long</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 defmacro+-find-parents/short/long (<a href="COMMON-LISP____REST.html">rest</a>)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="ACL2____TRUE-LISTP.html">true-listp</a> rest)))
 (<a href="COMMON-LISP____IF.html">if</a>
  (<a href="COMMON-LISP____ENDP.html">endp</a> rest)
  (<a href="ACL2____MV.html">mv</a> nil nil)
  (<a href="COMMON-LISP____LET.html">let</a>
   ((next (<a href="COMMON-LISP____CAR.html">car</a> rest)))
   (<a href="COMMON-LISP____IF.html">if</a>
    (<a href="ACL2____MEMBER-EQ.html">member-eq</a> next '(:parents :short :long))
    (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="COMMON-LISP____CDR.html">cdr</a> rest))
        (<a href="COMMON-LISP____LET.html">let</a> ((val (<a href="COMMON-LISP____CADR.html">cadr</a> rest)))
             (<a href="ACL2____MV-LET.html">mv-let</a> (alist rest)
                     (defmacro+-find-parents/short/long (<a href="COMMON-LISP____CDDR.html">cddr</a> rest))
                     (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____ASSOC-EQ.html">assoc-eq</a> next alist)
                         (<a href="ACL2____PROG2_42.html">prog2$</a> (<a href="ACL2____ER.html">er</a> hard? 'defmacro+
                                     "Duplicate keyword ~x0." next)
                                 (<a href="ACL2____MV.html">mv</a> nil nil))
                         (<a href="ACL2____MV.html">mv</a> (<a href="COMMON-LISP____ACONS.html">acons</a> next val alist) rest))))
        (<a href="ACL2____PROG2_42.html">prog2$</a> (<a href="ACL2____ER.html">er</a> hard? 'defmacro+
                    "Keyword ~x0 without a value." next)
                (<a href="ACL2____MV.html">mv</a> nil nil)))
    (<a href="ACL2____MV-LET.html">mv-let</a> (alist rest)
            (defmacro+-find-parents/short/long (<a href="COMMON-LISP____CDR.html">cdr</a> rest))
            (<a href="ACL2____MV.html">mv</a> alist (<a href="COMMON-LISP____CONS.html">cons</a> next rest)))))))</pre> 
<p><b>Theorem: </b>alistp-of-mv-nth-0-of-defmacro+-find-parents/short/long</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> alistp-of-mv-nth-0-of-defmacro+-find-parents/short/long
        (<a href="ACL2____ALISTP.html">alistp</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0
                        (defmacro+-find-parents/short/long rest))))</pre> 
<p><b>Theorem: </b>true-listp-of-mv-nth-1-of-defmacro+-find-parents/short/long</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     true-listp-of-mv-nth-1-of-defmacro+-find-parents/short/long
     (<a href="ACL2____TRUE-LISTP.html">true-listp</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 1
                         (defmacro+-find-parents/short/long rest))))</pre> 

</body>
</html>
