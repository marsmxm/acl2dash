<html>
<head>
<meta charset="UTF-8">
<title>*vl-odd-binops-table*</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL_____A2VL-ODD-BINOPS-TABLE_A2">Click for *vl-odd-binops-table* in the Full Manual</a></h3>

<p>The actual intelligence behind the oddexpr check.</p><p>This is the main table that controls whether we warn about certain 
combinations of binary operators.  If you want to NOT issue a warning about a 
particular combination of operators, then just leave it out of the table.</p> 
 
<p>The keys in the table have the form (outer-class . inner-class).  For 
details about these classes see <a href="VL____VL-ODD-BINOP-CLASS.html">vl-odd-binop-class</a>.  Loosely speaking, a 
key like <span class="v">(:shift-class . :plus-class)</span> matches expressions of the following 
forms:</p> 
 
<ol> 
<li><span class="v">(a + b) &lt;&lt; c</span></li> 
<li><span class="v">a &lt;&lt; (b + c)</span></li> 
</ol> 
 
<p>Whereas a key like (:plus-class . :shift-class) would match expressions of 
the following forms:</p> 
 
<ol> 
<li><span class="v">(a &lt;&lt; b) + c</span></li> 
<li><span class="v">a + (b &lt;&lt; c)</span></li> 
</ol> 
 
<p>In other words, the inner-op is the "sub" operation, and the outer-op is 
the "top" operation.</p> 
 
<p>Note that we never have keys where the outer-op has a higher precedence than 
the inner operation, such as <span class="v">(:plus-class . :shift-class)</span>.  Why not?</p> 
 
<p>Because of the precedence rules, <span class="v">a &lt;&lt; b + c</span> gets parsed as <span class="v">a &lt;&lt; (b +
c)</span>.  In other words, the only reason we'd ever get an expression that matches 
<span class="v">(:plus-class . :shift-class)</span> is that the user explicitly put in their own 
parens around the shift operator.  If they've done that, then they are 
explicitly saying what precedence they want, and there's no chance they are 
going to be surprised by Verilog's precedence rules.  This same reasoning holds 
for any combination of operators where the outer op is higher precedence than 
the inner op.</p> 
 
<p><b>NOTE</b> see the source code for this table for additional comments 
giving motivation for these actions, etc.</p> 
 
<p><b>Definition: </b>*vl-odd-binops-table*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a> *vl-odd-binops-table*
          '(((:shift-class . :plus-class)
             . :check-precedence)
            ((:bitand-class . :plus-class)
             . :check-precedence)
            ((:xor-class . :plus-class)
             . :check-precedence)
            ((:bitor-class . :plus-class)
             . :check-precedence)
            ((:logand-class . :plus-class)
             . :check-type)
            ((:logor-class . :plus-class)
             . :check-type)
            ((:plus-class . :minus-class)
             . :check-precedence-plusminus)
            ((:shift-class . :minus-class)
             . :check-precedence)
            ((:bitand-class . :minus-class)
             . :check-precedence)
            ((:xor-class . :minus-class)
             . :check-precedence)
            ((:bitor-class . :minus-class)
             . :check-precedence)
            ((:logand-class . :minus-class)
             . :check-type)
            ((:logor-class . :minus-class)
             . :check-type)
            ((:shift-class . :shift-class)
             . :check-precedence)
            ((:bitand-class . :shift-class)
             . :check-precedence)
            ((:xor-class . :shift-class)
             . :check-precedence)
            ((:bitor-class . :shift-class)
             . :check-precedence)
            ((:logand-class . :shift-class)
             . :check-type)
            ((:logor-class . :shift-class)
             . :check-type)
            ((:rel-class . :rel-class)
             . :check-type)
            ((:cmp-class . :rel-class)
             . :check-type)
            ((:bitand-class . :rel-class)
             . :check-type-unless-topargs-boolean)
            ((:xor-class . :rel-class)
             . :check-type-unless-topargs-boolean)
            ((:bitor-class . :rel-class)
             . :check-type-unless-topargs-boolean)
            ((:cmp-class . :cmp-class)
             . :check-type)
            ((:bitand-class . :cmp-class)
             . :check-type-unless-topargs-boolean)
            ((:xor-class . :cmp-class)
             . :check-type)
            ((:bitor-class . :cmp-class)
             . :check-type-unless-topargs-boolean)
            ((:xor-class . :bitand-class)
             . :check-precedence)
            ((:logand-class . :bitand-class)
             . :check-type-unless-topargs-boolean)
            ((:logor-class . :bitand-class)
             . :check-type-unless-topargs-boolean)
            ((:logand-class . :xor-class)
             . :check-type)
            ((:logor-class . :xor-class)
             . :check-type)
            ((:logand-class . :bitor-class)
             . :check-type-unless-topargs-boolean)
            ((:logor-class . :bitor-class)
             . :check-type-unless-topargs-boolean)
            ((:logor-class . :logand-class)
             . :check-precedence)))</pre><p><b>Definition: </b>*vl-odd-binops-table*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a> *vl-odd-binops-table*
          '(((:shift-class . :plus-class)
             . :check-precedence)
            ((:bitand-class . :plus-class)
             . :check-precedence)
            ((:xor-class . :plus-class)
             . :check-precedence)
            ((:bitor-class . :plus-class)
             . :check-precedence)
            ((:logand-class . :plus-class)
             . :check-type)
            ((:logor-class . :plus-class)
             . :check-type)
            ((:plus-class . :minus-class)
             . :check-precedence-plusminus)
            ((:shift-class . :minus-class)
             . :check-precedence)
            ((:bitand-class . :minus-class)
             . :check-precedence)
            ((:xor-class . :minus-class)
             . :check-precedence)
            ((:bitor-class . :minus-class)
             . :check-precedence)
            ((:logand-class . :minus-class)
             . :check-type)
            ((:logor-class . :minus-class)
             . :check-type)
            ((:shift-class . :shift-class)
             . :check-precedence)
            ((:bitand-class . :shift-class)
             . :check-precedence)
            ((:xor-class . :shift-class)
             . :check-precedence)
            ((:bitor-class . :shift-class)
             . :check-precedence)
            ((:logand-class . :shift-class)
             . :check-type)
            ((:logor-class . :shift-class)
             . :check-type)
            ((:rel-class . :rel-class)
             . :check-type)
            ((:cmp-class . :rel-class)
             . :check-type)
            ((:bitand-class . :rel-class)
             . :check-type-unless-topargs-boolean)
            ((:xor-class . :rel-class)
             . :check-type-unless-topargs-boolean)
            ((:bitor-class . :rel-class)
             . :check-type-unless-topargs-boolean)
            ((:cmp-class . :cmp-class)
             . :check-type)
            ((:bitand-class . :cmp-class)
             . :check-type-unless-topargs-boolean)
            ((:xor-class . :cmp-class)
             . :check-type)
            ((:bitor-class . :cmp-class)
             . :check-type-unless-topargs-boolean)
            ((:xor-class . :bitand-class)
             . :check-precedence)
            ((:logand-class . :bitand-class)
             . :check-type-unless-topargs-boolean)
            ((:logor-class . :bitand-class)
             . :check-type-unless-topargs-boolean)
            ((:logand-class . :xor-class)
             . :check-type)
            ((:logor-class . :xor-class)
             . :check-type)
            ((:logand-class . :bitor-class)
             . :check-type-unless-topargs-boolean)
            ((:logor-class . :bitor-class)
             . :check-type-unless-topargs-boolean)
            ((:logor-class . :logand-class)
             . :check-precedence)))</pre> 
 

</body>
</html>
