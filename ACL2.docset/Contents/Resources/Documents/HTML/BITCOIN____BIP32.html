<html>
<head>
<meta charset="UTF-8">
<title>Bip32</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=BITCOIN____BIP32">Click for Bip32 in the Full Manual</a></h3>

<p>Bitcoin Improvement Proposal (BIP) 32.</p><p>This is described at 
     <a href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki" target="_blank"><nobr>this page in the bitcoin/bips repository on GitHub<img src="../Icon_External_Link.png" title="External link to https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki"></nobr></a>, 
     linked from 
     <a href="https://en.bitcoin.it/wiki/BIP_0032" target="_blank"><nobr>Page `BIP 0032' of [Wiki]<img src="../Icon_External_Link.png" title="External link to https://en.bitcoin.it/wiki/BIP_0032"></nobr></a>. 
     We refer to the document at the first URL as `[BIP32]' 
     in the documentation below.</p><p>As stated in the 'Conventions' section of [BIP32], 
     the elliptic curve cryptography is based on the secp256k1 curve. 
     In our model, the types for private and public keys are 
     <span class="tt"><a href="ECURVE____SECP256K1-PRIV-KEY-P.html">secp256k1-priv-key-p</a></span> and <span class="tt"><a href="ECURVE____SECP256K1-PUB-KEY-P.html">secp256k1-pub-key-p</a></span>.</p><p>The conversion functions described in the 'Conventions' section of [BIP32] 
     are formalized as follows in our model of Bitcoin:</p><ul>
<li>\mathsf{point} is <span class="tt"><a href="ECURVE____SECP256K1-MUL.html">secp256k1-mul</a></span> 
      with point <span class="tt"><a href="ECURVE____SECP256K1-POINT-GENERATOR.html">secp256k1-point-generator</a></span>; 
      when the argument is a private key, 
      we use <span class="tt"><a href="ECURVE____SECP256K1-PRIV-TO-PUB.html">secp256k1-priv-to-pub</a></span>.</li>
<li>\mathsf{ser}_{32} is <span class="tt"><a href="ACL2____NAT_D3_E3BEBYTES.html">nat=&gt;bebytes</a></span> with width 4.</li>
<li>\mathsf{ser}_{256} is <span class="tt"><a href="ACL2____NAT_D3_E3BEBYTES.html">nat=&gt;bebytes</a></span> with width 32.</li>
<li>\mathsf{ser}_\mathsf{P} is <span class="tt"><a href="ECURVE____SECP256K1-POINT-TO-BYTES.html">secp256k1-point-to-bytes</a></span> 
      with the compression flag set.</li>
<li>\mathsf{parse}_{256} is <span class="tt"><a href="ACL2____BEBYTES_D3_E3NAT.html">bebytes=&gt;nat</a></span>.</li>
</ul><p>The operations defined below should suffice to cover 
     the use cases that BIP 32 should cater to:</p><ul>
<li>Given a seed, <span class="tt"><a href="BITCOIN____BIP32-MASTER-TREE.html">bip32-master-tree</a></span> is used to generate 
      a singleton tree with the master private key at the root.</li>
<li>This master tree is extended as needed, 
      via <span class="tt"><a href="BITCOIN____BIP32-EXTEND-TREE.html">bip32-extend-tree</a></span>.</li>
<li>For signing, private keys can be retrieved from the tree 
      via <span class="tt"><a href="BITCOIN____BIP32-GET-PRIV-KEY-AT-PATH.html">bip32-get-priv-key-at-path</a></span>. 
      For calculating addresses, auditing, etc., 
      public keys can be retrieved from the tree 
      via <span class="tt"><a href="BITCOIN____BIP32-GET-PUB-KEY-AT-PATH.html">bip32-get-pub-key-at-path</a></span>.</li>
<li>For sharing (subtrees of) the master tree, 
      <span class="tt"><a href="BITCOIN____BIP32-EXPORT-KEY.html">bip32-export-key</a></span> is used to serialize a (private or public) key. 
      Then <span class="tt"><a href="BITCOIN____BIP32-IMPORT-KEY.html">bip32-import-key</a></span> is used to 
      construct a separate (sub)tree rooted at that key.</li>
<li>(Sub)trees shared as just explained can be then operated upon via 
      <span class="tt"><a href="BITCOIN____BIP32-EXTEND-TREE.html">bip32-extend-tree</a></span> for deriving more keys, 
      <span class="tt"><a href="BITCOIN____BIP32-GET-PRIV-KEY-AT-PATH.html">bip32-get-priv-key-at-path</a></span> for signing 
      (unless the tree consists of public keys), 
      <span class="tt"><a href="BITCOIN____BIP32-GET-PUB-KEY-AT-PATH.html">bip32-get-pub-key-at-path</a></span> for 
      calculating addresses, auditing, etc., 
      and <span class="tt"><a href="BITCOIN____BIP32-EXPORT-KEY.html">bip32-export-key</a></span> for further sharing.</li>
</ul>
</body>
</html>
