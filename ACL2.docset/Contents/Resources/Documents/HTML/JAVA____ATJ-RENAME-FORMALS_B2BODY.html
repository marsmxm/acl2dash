<html>
<head>
<meta charset="UTF-8">
<title>Atj-rename-formals+body</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-RENAME-FORMALS_B2BODY">Click for Atj-rename-formals+body in the Full Manual</a></h3>

<p>Rename all the ACL2 variables to their Java names, 
          in the formal parameters and body of an ACL2 function.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-rename-formals+body formals body curr-pkg) 
  → 
(mv new-formals new-body)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">formals</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> formals)</span>.</font>
</dd> 
  <dd>
<span class="tt">body</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> body)</span>.</font>
</dd> 
  <dd>
<span class="tt">curr-pkg</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> curr-pkg)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">new-formals</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> new-formals)</span>, given the <a href="ACL2____GUARD.html">guard</a>.</font>
</dd> 
<dd>
<span class="tt">new-body</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> new-body)</span>, given the <a href="ACL2____GUARD.html">guard</a>.</font>
</dd> 
 
</dl></div> 
<p>We collect all the variables in the formals and body, 
     remove their markings and annotations 
     (recall that the type annotation and new/old marking pre-translation steps 
     take place before this renaming step), 
     and organize them by symbol name: 
     the resulting alist is passed to the renaming functions.</p><p>Starting with the empty alist of indices and the empty renaming alists, 
     we introduce renamed variables for the formal parameters, 
     and we use the resulting renaming alists to process the body.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>atj-rename-formals+body</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
   atj-rename-formals+body
   (<a href="ACL2____FORMALS.html">formals</a> body curr-pkg)
   (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> formals)
                               (<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> body)
                               (<a href="COMMON-LISP____STRINGP.html">stringp</a> curr-pkg))))
   (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> curr-pkg ""))))
   (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'atj-rename-formals+body))
        (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
        (<a href="ACL2____B_A2.html">b*</a> ((vars (<a href="ACL2____UNION-EQ.html">union-eq</a> formals (<a href="ACL2____ALL-FREE_F2BOUND-VARS.html">all-free/bound-vars</a> body)))
             ((<a href="ACL2____MV.html">mv</a> vars &amp;) (<a href="JAVA____ATJ-UNMARK-VARS.html">atj-unmark-vars</a> vars))
             (vars (<a href="JAVA____ATJ-TYPE-UNANNOTATE-VARS.html">atj-type-unannotate-vars</a> vars))
             (vars-by-name (<a href="ACL2____ORGANIZE-SYMBOLS-BY-NAME.html">organize-symbols-by-name</a> vars))
             ((<a href="ACL2____MV.html">mv</a> new-formals
                  renaming-new renaming-old indices)
              (<a href="JAVA____ATJ-RENAME-FORMALS.html">atj-rename-formals</a> formals nil nil *atj-init-indices*
                                  curr-pkg vars-by-name))
             ((<a href="ACL2____MV.html">mv</a> new-body &amp; &amp;)
              (<a href="JAVA____ATJ-RENAME-TERM.html">atj-rename-term</a> body renaming-new renaming-old
                               indices curr-pkg vars-by-name)))
            (<a href="ACL2____MV.html">mv</a> new-formals new-body))))</pre> 
<p><b>Theorem: </b>symbol-listp-of-atj-rename-formals+body.new-formals</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
    symbol-listp-of-atj-rename-formals+body.new-formals
    (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> formals)
                  (<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> body)
                  (<a href="COMMON-LISP____STRINGP.html">stringp</a> curr-pkg)
                  (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> curr-pkg '"")))
             (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?new-formals ?new-body)
                   (<a href="JAVA____ATJ-RENAME-FORMALS_B2BODY.html">atj-rename-formals+body</a> formals body curr-pkg)))
                 (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> new-formals)))
    :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>pseudo-termp-of-atj-rename-formals+body.new-body</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
    pseudo-termp-of-atj-rename-formals+body.new-body
    (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> formals)
                  (<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> body)
                  (<a href="COMMON-LISP____STRINGP.html">stringp</a> curr-pkg)
                  (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> curr-pkg '"")))
             (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?new-formals ?new-body)
                   (<a href="JAVA____ATJ-RENAME-FORMALS_B2BODY.html">atj-rename-formals+body</a> formals body curr-pkg)))
                 (<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> new-body)))
    :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>len-of-atj-rename-formals+body.new-formals</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> len-of-atj-rename-formals+body.new-formals
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?new-formals ?new-body)
              (<a href="JAVA____ATJ-RENAME-FORMALS_B2BODY.html">atj-rename-formals+body</a> formals body curr-pkg)))
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="ACL2____LEN.html">len</a> new-formals)
                   (<a href="ACL2____LEN.html">len</a> formals))))</pre> 

</body>
</html>
