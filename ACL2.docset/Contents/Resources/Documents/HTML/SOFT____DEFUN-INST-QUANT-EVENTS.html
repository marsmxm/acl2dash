<html>
<head>
<meta charset="UTF-8">
<title>Defun-inst-quant-events</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=SOFT____DEFUN-INST-QUANT-EVENTS">Click for Defun-inst-quant-events in the Full Manual</a></h3>

<p>Generate a list of events to submit, 
          when instantiating a quantifier second-order function.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(defun-inst-quant-events fun sofun inst options ctx state) 
  → 
(mv erp events+result+funvars state)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">fun</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> fun)</span>.</font>
</dd> 
  <dd>
<span class="tt">sofun</span> — <font color="#606060">Guard <span class="v">(<a href="SOFT____QUANT-SOFUNP.html">quant-sofunp</a> sofun (<a href="ACL2____W.html">w</a> state))</span>.</font>
</dd> 
  <dd>
<span class="tt">options</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____KEYWORD-VALUE-LISTP.html">keyword-value-listp</a> options)</span>.</font>
</dd> 
  <dd>
<span class="tt">ctx</span> — Context for errors.</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">erp</span> — <span class="tt"><a href="ACL2____BOOLEANP.html">booleanp</a></span> flag of the 
                     <a href="ACL2____ERROR-TRIPLE.html">error 
                     triple</a>.</dd> 
<dd>
<span class="tt">events+result+funvars</span> — A tuple <span class="v">(events result funvars)</span> where 
                 <span class="v">events</span> is a <span class="tt"><a href="ACL2____PSEUDO-EVENT-FORM-LISTP.html">pseudo-event-form-listp</a></span>, 
                 <span class="v">result</span> is a <span class="tt"><a href="ACL2____MAYBE-PSEUDO-EVENT-FORMP.html">maybe-pseudo-event-formp</a></span>, 
                 and <span class="v">funvars</span> is a <span class="tt"><a href="SOFT____FUNVAR-LISTP.html">funvar-listp</a></span>.</dd> 
 
</dl></div> 
<p>Also return the <span class="tt"><a href="SOFT____DEFUN-SK2.html">defun-sk2</a></span> or <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span> event form. 
     This is printed when <span class="v">:print</span> is <span class="v">:result</span>.</p><p>Also return the function variables that the new function depends on.</p><p>Only the 
     <span class="v">:verify-guards</span>, 
     <span class="v">:enable</span>, 
     <span class="v">:skolem-name</span>, 
     <span class="v">:thm-name</span>, 
     <span class="v">:rewrite</span>, 
     <span class="v">:constrain</span>, and 
     <span class="v">:print</span> 
     options may be present.</p><p>We add <span class="v">fun</span> to the table of second-order functions 
     iff it is second-order.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>defun-inst-quant-events</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 defun-inst-quant-events
 (fun sofun inst options ctx state)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____STATE.html">state</a>)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> fun)
                             (<a href="ACL2____KEYWORD-VALUE-LISTP.html">keyword-value-listp</a> options)
                             (<a href="SOFT____QUANT-SOFUNP.html">quant-sofunp</a> sofun (<a href="ACL2____W.html">w</a> state)))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'defun-inst-quant-events))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   ((wrld (<a href="ACL2____W.html">w</a> state))
    ((unless (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> (<a href="ACL2____EVENS.html">evens</a> options)
                      '(:verify-guards :enable :skolem-name
                                       :thm-name :rewrite
                                       :constrain :print)))
     (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a>
      ctx t nil
      "Only the input keywords ~
                   :VERIFY-GUARDS, ~
                   :ENABLE, ~
                   :SKOLEM-NAME, ~
                   :THM-NAME,  ~
                   :REWRITE, ~
                   :CONSTRAIN and ~
                   :PRINT ~
                   are allowed, ~
                   because ~x0 is a quantifier second-order function."
      sofun))
    (<a href="ACL2____ENABLE.html">enable</a> (<a href="COMMON-LISP____LET.html">let</a> ((enable-option (<a href="ACL2____ASSOC-KEYWORD.html">assoc-keyword</a> :enable options)))
                 (<a href="COMMON-LISP____IF.html">if</a> enable-option (<a href="COMMON-LISP____CADR.html">cadr</a> enable-option)
                     (<a href="ACL2____FUNDEF-ENABLEDP.html">fundef-enabledp</a> sofun state))))
    (<a href="ACL2____VERIFY-GUARDS.html">verify-guards</a>
         (<a href="COMMON-LISP____LET.html">let</a> ((verify-guards-option
                    (<a href="ACL2____ASSOC-KEYWORD.html">assoc-keyword</a> :verify-guards options)))
              (<a href="COMMON-LISP____IF.html">if</a> verify-guards-option
                  (<a href="COMMON-LISP____CADR.html">cadr</a> verify-guards-option)
                  (<a href="ACL2____GUARD-VERIFIED-P.html">guard-verified-p</a> sofun wrld))))
    (bound-vars (<a href="ACL2____DEFUN-SK-BOUND-VARS.html">defun-sk-bound-vars</a> sofun wrld))
    (quant (<a href="ACL2____DEFUN-SK-QUANTIFIER.html">defun-sk-quantifier</a> sofun wrld))
    (sofun-matrix (<a href="ACL2____DEFUN-SK-MATRIX.html">defun-sk-matrix</a> sofun wrld))
    (fun-matrix (<a href="SOFT____FUN-SUBST-TERM.html">fun-subst-term</a> inst sofun-matrix wrld))
    (fun-matrix-funvars (<a href="SOFT____FUNVARS-OF-TERM.html">funvars-of-term</a> fun-matrix wrld))
    (fun-matrix (<a href="ACL2____UNTRANSLATE.html">untranslate</a> fun-matrix nil wrld))
    (rewrite-option (<a href="ACL2____ASSOC-KEYWORD.html">assoc-keyword</a> :rewrite options))
    (rewrite
     (<a href="COMMON-LISP____IF.html">if</a>
      rewrite-option (<a href="COMMON-LISP____CADR.html">cadr</a> rewrite-option)
      (<a href="COMMON-LISP____LET.html">let</a>
       ((qrkind (<a href="ACL2____DEFUN-SK-REWRITE-KIND.html">defun-sk-rewrite-kind</a> sofun wrld)))
       (<a href="COMMON-LISP____CASE.html">case</a>
          qrkind (:default :default)
          (:direct :direct)
          (:custom
               (<a href="COMMON-LISP____LET_A2.html">let*</a> ((fsbs (<a href="COMMON-LISP____ACONS.html">acons</a> sofun fun inst))
                      (rule-name (<a href="ACL2____DEFUN-SK-REWRITE-NAME.html">defun-sk-rewrite-name</a> sofun wrld))
                      (term (<a href="ACL2____FORMULA.html">formula</a> rule-name nil wrld)))
                     (<a href="SOFT____FUN-SUBST-TERM.html">fun-subst-term</a> fsbs term wrld)))))))
    (skolem-name
     (<a href="COMMON-LISP____LET.html">let</a>
         ((skolem-name-option (<a href="ACL2____ASSOC-KEYWORD.html">assoc-keyword</a> :skolem-name options)))
         (<a href="COMMON-LISP____IF.html">if</a> skolem-name-option
             (<a href="COMMON-LISP____CONS.html">cons</a> ':skolem-name
                   (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CADR.html">cadr</a> skolem-name-option) 'nil))
             nil)))
    (thm-name
         (<a href="COMMON-LISP____LET.html">let</a> ((thm-name-option (<a href="ACL2____ASSOC-KEYWORD.html">assoc-keyword</a> :thm-name options)))
              (<a href="COMMON-LISP____IF.html">if</a> thm-name-option
                  (<a href="COMMON-LISP____CONS.html">cons</a> ':thm-name
                        (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CADR.html">cadr</a> thm-name-option) 'nil))
                  nil)))
    (constrain
        (<a href="COMMON-LISP____LET.html">let</a> ((constrain-option (<a href="ACL2____ASSOC-KEYWORD.html">assoc-keyword</a> :constrain options)))
             (<a href="COMMON-LISP____IF.html">if</a> constrain-option
                 (<a href="COMMON-LISP____CONS.html">cons</a> ':constrain
                       (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CADR.html">cadr</a> constrain-option) 'nil))
                 nil)))
    (sofun-guard (<a href="ACL2____UGUARD.html">uguard</a> sofun wrld))
    (fun-guard (<a href="SOFT____FUN-SUBST-TERM.html">fun-subst-term</a> inst sofun-guard wrld))
    (fun-guard-funvars (<a href="SOFT____FUNVARS-OF-TERM.html">funvars-of-term</a> fun-guard wrld))
    (fun-guard (<a href="ACL2____UNTRANSLATE.html">untranslate</a> fun-guard t wrld))
    (<a href="ACL2____FORMALS.html">formals</a> (<a href="ACL2____FORMALS.html">formals</a> sofun wrld))
    (strengthen (<a href="ACL2____DEFUN-SK-STRENGTHEN.html">defun-sk-strengthen</a> sofun wrld))
    (<a href="ACL2____BODY.html">body</a> (<a href="COMMON-LISP____LIST.html">list</a> quant bound-vars fun-matrix))
    (<a href="COMMON-LISP____REST.html">rest</a>
     (<a href="COMMON-LISP____CONS.html">cons</a>
      ':strengthen
      (<a href="COMMON-LISP____CONS.html">cons</a>
       strengthen
       (<a href="COMMON-LISP____CONS.html">cons</a>
            ':quant-ok
            (<a href="COMMON-LISP____CONS.html">cons</a> 't
                  (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____EQ.html">eq</a> quant 'forall)
                               (<a href="COMMON-LISP____LIST.html">list</a> :rewrite rewrite))
                          (<a href="COMMON-LISP____APPEND.html">append</a> skolem-name
                                  (<a href="COMMON-LISP____APPEND.html">append</a> thm-name constrain))))))))
    (funvars (<a href="COMMON-LISP____REMOVE-DUPLICATES.html">remove-duplicates</a>
                  (<a href="COMMON-LISP____APPEND.html">append</a> fun-matrix-funvars fun-guard-funvars)))
    (defun-sk-event
     (<a href="COMMON-LISP____CONS.html">cons</a>
      'defun-sk
      (<a href="COMMON-LISP____CONS.html">cons</a>
       fun
       (<a href="COMMON-LISP____CONS.html">cons</a>
        formals
        (<a href="COMMON-LISP____CONS.html">cons</a>
         (<a href="COMMON-LISP____CONS.html">cons</a>
          'declare
          (<a href="COMMON-LISP____CONS.html">cons</a>
               (<a href="COMMON-LISP____CONS.html">cons</a> 'xargs
                     (<a href="COMMON-LISP____CONS.html">cons</a> ':guard
                           (<a href="COMMON-LISP____CONS.html">cons</a> fun-guard
                                 (<a href="COMMON-LISP____CONS.html">cons</a> ':verify-guards
                                       (<a href="COMMON-LISP____CONS.html">cons</a> verify-guards 'nil)))))
               'nil))
         (<a href="COMMON-LISP____CONS.html">cons</a> body rest))))))
    (result (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____IF.html">if</a> funvars 'defun-sk2 'defun-sk)
                  (<a href="COMMON-LISP____CONS.html">cons</a> fun (<a href="COMMON-LISP____CONS.html">cons</a> formals (<a href="COMMON-LISP____CONS.html">cons</a> body rest)))))
    (disable-event?
     (<a href="COMMON-LISP____IF.html">if</a>
      enable nil
      (<a href="COMMON-LISP____LET.html">let</a>
       ((fn/defrule (<a href="COMMON-LISP____COND.html">cond</a> ((<a href="COMMON-LISP____EQ.html">eq</a> constrain nil) fun)
                          ((<a href="COMMON-LISP____EQ.html">eq</a> constrain t)
                           (<a href="ACL2____ADD-SUFFIX.html">add-suffix</a> fun "-DEFINITION"))
                          (t constrain)))
        (rwrule (<a href="COMMON-LISP____IF.html">if</a> thm-name (<a href="COMMON-LISP____CADR.html">cadr</a> thm-name)
                    (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQ.html">eq</a> quant 'forall)
                        (<a href="ACL2____ADD-SUFFIX.html">add-suffix</a> fun "-NECC")
                        (<a href="ACL2____ADD-SUFFIX.html">add-suffix</a> fun "-SUFF")))))
       (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'in-theory
                   (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'disable
                               (<a href="COMMON-LISP____CONS.html">cons</a> fn/defrule (<a href="COMMON-LISP____CONS.html">cons</a> rwrule 'nil)))
                         'nil))
             'nil))))
    (table-event?
     (<a href="COMMON-LISP____IF.html">if</a>
      funvars
      (<a href="COMMON-LISP____CONS.html">cons</a>
           (<a href="COMMON-LISP____CONS.html">cons</a> 'table
                 (<a href="COMMON-LISP____CONS.html">cons</a> 'second-order-functions
                       (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'quote (<a href="COMMON-LISP____CONS.html">cons</a> fun 'nil))
                             (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'quote (<a href="COMMON-LISP____CONS.html">cons</a> funvars 'nil))
                                   'nil))))
           'nil)
      nil))
    (check-event
     (<a href="COMMON-LISP____CONS.html">cons</a>
      'make-event-terse
      (<a href="COMMON-LISP____CONS.html">cons</a>
       (<a href="COMMON-LISP____CONS.html">cons</a>
        'b*
        (<a href="COMMON-LISP____CONS.html">cons</a>
         (<a href="COMMON-LISP____CONS.html">cons</a>
             (<a href="COMMON-LISP____CONS.html">cons</a> 'err-msg?
                   (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'check-qrewrite-rule-funvars
                               (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'quote (<a href="COMMON-LISP____CONS.html">cons</a> sofun 'nil))
                                     '((<a href="ACL2____W.html">w</a> state))))
                         'nil))
             'nil)
         (<a href="COMMON-LISP____CONS.html">cons</a>
          (<a href="COMMON-LISP____CONS.html">cons</a>
           'if
           (<a href="COMMON-LISP____CONS.html">cons</a>
            'err-msg?
            (<a href="COMMON-LISP____CONS.html">cons</a>
             (<a href="COMMON-LISP____CONS.html">cons</a>
               'er-soft+
               (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'cons
                           (<a href="COMMON-LISP____CONS.html">cons</a> ''defun-inst
                                 (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'quote (<a href="COMMON-LISP____CONS.html">cons</a> fun 'nil))
                                       'nil)))
                     '(t nil "~@0" err-msg?)))
             '((<a href="ACL2____VALUE.html">value</a> '(<a href="ACL2____VALUE-TRIPLE.html">value-triple</a> :invisible))))))
          'nil)))
       'nil))))
   (<a href="ACL2____VALUE.html">value</a>
    (<a href="COMMON-LISP____LIST.html">list</a>
       (<a href="COMMON-LISP____CONS.html">cons</a> defun-sk-event
             (<a href="COMMON-LISP____APPEND.html">append</a> disable-event?
                     (<a href="COMMON-LISP____APPEND.html">append</a> table-event? (<a href="COMMON-LISP____CONS.html">cons</a> check-event 'nil))))
       result funvars)))))</pre> 

</body>
</html>
