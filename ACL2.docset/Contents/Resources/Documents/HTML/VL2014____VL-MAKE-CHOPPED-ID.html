<html>
<head>
<meta charset="UTF-8">
<title>Vl-make-chopped-id</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____VL-MAKE-CHOPPED-ID">Click for Vl-make-chopped-id in the Full Manual</a></h3>

<p>Generate the expression to truncate a wire.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-make-chopped-id name name-width trunc-width) → expr</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">name</span> — name of an unsigned wire to be truncated.<br>    <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> name)</span>.</font>
</dd> 
  <dd>
<span class="tt">name-width</span> — width of <span class="v">name</span>.<br>    <font color="#606060">Guard <span class="v">(<a href="ACL2____POSP.html">posp</a> name-width)</span>.</font>
</dd> 
  <dd>
<span class="tt">trunc-width</span> — width to truncate to.<br>    <font color="#606060">Guard <span class="v">(<a href="ACL2____POSP.html">posp</a> trunc-width)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">expr</span> — expression like <span class="v">name[truncwidth-1:0]</span>.<br>    <font color="#606060">Type <span class="v">(<a href="VL2014____VL-EXPR-P.html">vl-expr-p</a> expr)</span>.</font>
</dd> 
 
</dl></div> 
<p>We require that <span class="v">trunc-width</span> is strictly less than <span class="v">width</span>. 
We return the expression to truncate <span class="v">name</span> down to this new 
<span class="v">trunc-width</span>, with all of the intermediate widths set up correctly.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-make-chopped-id</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
     vl-make-chopped-id
     (name name-width trunc-width)
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> name)
                                 (<a href="ACL2____POSP.html">posp</a> name-width)
                                 (<a href="ACL2____POSP.html">posp</a> trunc-width))))
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP_____C3.html">&lt;</a> trunc-width name-width)))
     (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'vl-make-chopped-id))
          (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
          (<a href="ACL2____B_A2.html">b*</a> ((trunc-width (lposfix trunc-width))
               (name-width (lposfix name-width))
               (name-expr (<a href="VL2014____VL-IDEXPR.html">vl-idexpr</a> name name-width :vl-unsigned))
               (left (<a href="VL2014____VL-MAKE-INDEX.html">vl-make-index</a> (<a href="COMMON-LISP____-.html">-</a> trunc-width 1)))
               (zero (<a href="VL2014____VL-MAKE-INDEX.html">vl-make-index</a> 0))
               ((when (<a href="COMMON-LISP____EQL.html">eql</a> trunc-width 1))
                (<a href="VL2014____MAKE-VL-NONATOM.html">make-vl-nonatom</a> :op :vl-bitselect
                                 :args (<a href="COMMON-LISP____LIST.html">list</a> name-expr zero)
                                 :finalwidth 1
                                 :finaltype :vl-unsigned)))
              (<a href="VL2014____MAKE-VL-NONATOM.html">make-vl-nonatom</a> :op :vl-partselect-colon
                               :args (<a href="COMMON-LISP____LIST.html">list</a> name-expr left zero)
                               :finalwidth trunc-width
                               :finaltype :vl-unsigned))))</pre> 
<p><b>Theorem: </b>vl-expr-p-of-vl-make-chopped-id</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     vl-expr-p-of-vl-make-chopped-id
     (<a href="ACL2____B_A2.html">b*</a> ((expr (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)))
         (<a href="VL2014____VL-EXPR-P.html">vl-expr-p</a> expr))
     :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>vl-make-chopped-id-of-str-fix-name</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> vl-make-chopped-id-of-str-fix-name
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> (<a href="ACL2____STR-FIX.html">str-fix</a> name)
                                   name-width trunc-width)
               (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)))</pre> 
<p><b>Theorem: </b>vl-make-chopped-id-streqv-congruence-on-name</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 vl-make-chopped-id-streqv-congruence-on-name
 (<a href="ACL2____IMPLIES.html">implies</a>
     (<a href="ACL2____STREQV.html">streqv</a> name name-equiv)
     (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)
            (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name-equiv name-width trunc-width)))
 :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>vl-make-chopped-id-of-pos-fix-name-width</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> vl-make-chopped-id-of-pos-fix-name-width
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name (<a href="ACL2____POS-FIX.html">pos-fix</a> name-width)
                                   trunc-width)
               (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)))</pre> 
<p><b>Theorem: </b>vl-make-chopped-id-pos-equiv-congruence-on-name-width</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 vl-make-chopped-id-pos-equiv-congruence-on-name-width
 (<a href="ACL2____IMPLIES.html">implies</a>
     (<a href="ACL2____POS-EQUIV.html">acl2::pos-equiv</a> name-width name-width-equiv)
     (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)
            (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width-equiv trunc-width)))
 :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>vl-make-chopped-id-of-pos-fix-trunc-width</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   vl-make-chopped-id-of-pos-fix-trunc-width
   (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width (<a href="ACL2____POS-FIX.html">pos-fix</a> trunc-width))
          (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)))</pre> 
<p><b>Theorem: </b>vl-make-chopped-id-pos-equiv-congruence-on-trunc-width</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 vl-make-chopped-id-pos-equiv-congruence-on-trunc-width
 (<a href="ACL2____IMPLIES.html">implies</a>
     (<a href="ACL2____POS-EQUIV.html">acl2::pos-equiv</a> trunc-width trunc-width-equiv)
     (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width)
            (<a href="VL2014____VL-MAKE-CHOPPED-ID.html">vl-make-chopped-id</a> name name-width trunc-width-equiv)))
 :rule-classes :congruence)</pre> 

</body>
</html>
