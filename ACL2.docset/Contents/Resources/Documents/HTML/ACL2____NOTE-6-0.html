<html>
<head>
<meta charset="UTF-8">
<title>Note-6-0</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-6-0">Click for Note-6-0 in the Full Manual</a></h3>

<p>ACL2 Version  6.0 (December, 2012) Notes</p><p>NOTE!  New users can ignore these release notes, because the <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a> has been updated to reflect all changes that are recorded 
 here.</p> 
 
 <p>Below we roughly organize the changes since Version 5.0 into the following 
 categories of changes: existing features, new features, heuristic 
 improvements, bug fixes, changes at the system level, Emacs support, and 
 experimental versions.  Each change is described in just one category, though 
 of course many changes could be placed in more than one category.</p> 
 
 <p>NOTE.  But we start with one major change that is outside the usual 
 categories:</p> 
 
 <p><b>LICENSE change</b></p> 
 
 <p>The ACL2 license has been changed from GPL Version 2 to a 3-clause BSD 
 license, found in the <span class="v">LICENSE</span> file distributed with ACL2.</p> 
 
 <p><b>CHANGES TO EXISTING FEATURES</b></p> 
 
 <p>Function <span class="tt"><a href="ACL2____FMT-TO-STRING.html">fmt-to-string</a></span> and similar functions (see <a href="ACL2____PRINTING-TO-STRINGS.html">printing-to-strings</a>) now use the default right margin settings; formerly the 
 right margin had been set at 10,000.  If you want the former behavior, you can 
 use the <span class="v">:fmt-control-alist</span>, as illustrated below.</p> 
 
 <pre class="code">(<a href="ACL2____FMT-TO-STRING.html">fmt-to-string</a> "~x0"
               (<a href="COMMON-LISP____LIST.html">list</a> (<a href="COMMON-LISP____CONS.html">cons</a> #\0 (<a href="COMMON-LISP____MAKE-LIST.html">make-list</a> 30)))
               :fmt-control-alist
               `((<a href="ACL2____FMT-SOFT-RIGHT-MARGIN.html">fmt-soft-right-margin</a> . 10000)
                 (<a href="ACL2____FMT-HARD-RIGHT-MARGIN.html">fmt-hard-right-margin</a> . 10000)))</pre> 
 
 <p>The use of attachments (see <a href="ACL2____DEFATTACH.html">defattach</a>) has been made more efficient, 
 avoiding some low-level checks (Common Lisp `<span class="v">boundp</span>' checks).  Thanks to 
 Shilpi Goel for constructing an example that we used to help direct us to 
 remove inefficiency.  The following results for that example — a 
 Fibonacci program run on a machine interpreter in raw-mode (see <a href="ACL2____SET-RAW-MODE.html">set-raw-mode</a>) — give a sense of the potential speedup, though we note 
 that a full ACL2(h) regression showed no significant speedup.</p> 
 
 <pre class="code">; Time before the change:
; 0.89 seconds realtime, 0.90 seconds runtime

; Time after the change:
; 0.75 seconds realtime, 0.75 seconds runtime

; Time when cheating to avoid the cost of attachments, by redefining a
; function to BE its attachment (so, this gives a lower bound on possible
; execution time):
; 0.72 seconds realtime, 0.72 seconds runtime</pre> 
 
 <p>Functions <span class="v">read-acl2-oracle</span> and <span class="v">read-acl2-oracle@par</span> are no longer 
 untouchable (see <a href="ACL2____REMOVE-UNTOUCHABLE.html">remove-untouchable</a>).  We reported this change for 
 Version_5.0 but it was not made; thanks to Jared Davis for bringing this to 
 our attention.  Function <span class="v">get-timer</span> also is no longer untouchable.</p> 
 
 <p>The function <span class="tt"><a href="COMMON-LISP____BUTLAST.html">butlast</a></span> now behaves more reasonably on arguments 
 violating its <a href="ACL2____GUARD.html">guard</a>.  For example, <span class="v">(<a href="COMMON-LISP____BUTLAST.html">butlast</a> '(1 2 3) -1)</span> is now 
 provably equal to <span class="v">(1 2 3)</span> instead of to <span class="v">(1 2 3 nil)</span>.  Thanks to 
 Jared Davis for suggesting a change to the definition of <span class="v">butlast</span>.</p> 
 
 <p>The utilities <span class="v">mfc-ts</span> and <span class="v">mfc-ap</span> (see <a href="ACL2____EXTENDED-METAFUNCTIONS.html">extended-metafunctions</a>) formerly never used forcing (see <a href="ACL2____FORCE.html">force</a>).  Now, 
 by default, forcing is allowed during execution of these functions if and only 
 if it is permitted in the rewriting environment where they are called. 
 Moreover, these and the <span class="v">mfc-xx</span> utilities — <span class="v">mfc-rw</span>, 
 <span class="v">mfc-rw+</span>, and <span class="v">mfc-relieve-hyp</span> — are now macros that take 
 (optional) keyword arguments <span class="v">:forcep</span> and <span class="v">:ttreep</span>.  The <span class="v">:forcep</span> 
 argument is <span class="v">:same</span> by default, providing the forcing behavior inherited 
 from the environment (as described above); but it can be the symbol <span class="v">t</span> or 
 <span class="v">nil</span>, indicating that forcing is to be enabled or disabled, respectively. 
 The <span class="v">:ttree</span> argument is <span class="v">nil</span> by default, but when it is <span class="v">t</span>, then a 
 second value is returned, which is a tag-tree.  See <a href="ACL2____EXTENDED-METAFUNCTIONS.html">extended-metafunctions</a>.</p> 
 
 <p>Many improvements have been made to the tau-system (see <a href="ACL2____TAU-SYSTEM.html">tau-system</a>), 
 including support for arithmetic intervals bounded by constants.  Thus, for 
 example, <span class="v">(<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> 0 x) (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> x 15))</span> is a tau predicate.  The <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a> has also been improved (see <a href="ACL2____INTRODUCTION-TO-THE-TAU-SYSTEM.html">introduction-to-the-tau-system</a>). Also see <a href="ACL2____TIME-TRACKER-TAU.html">time-tracker-tau</a> for 
 discussion of how the new <span class="tt"><a href="ACL2____TIME-TRACKER.html">time-tracker</a></span> utility can help discover ways 
 to detect slowdown related to the tau-system.</p> 
 
 <p>The <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span> <a href="ACL2____EVENTS.html">events</a> printed by <span class="tt"><a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a></span>, namely 
 those that remain to be proved, are now given with <span class="v">:rule-classes nil</span> 
 since there is probably no intention to use them as rules.  Thanks to Robert 
 Krug for suggesting that we consider this change.</p> 
 
 <p>The formal parameters for a macro definition (see <a href="COMMON-LISP____DEFMACRO.html">defmacro</a>) may now 
 include <span class="tt"><a href="ACL2____STATE.html">state</a></span> and user-defined <span class="tt"><a href="ACL2____STOBJ.html">stobj</a></span>s.  (However, macro 
 formals may not be declared as stobjs; see <a href="ACL2____XARGS.html">xargs</a>.)  Thanks to Jose Luis 
 Ruiz-Reina for raising this issue and to Rob Sumners for helpful conversations 
 — both of these nearly 10 years ago!</p> 
 
 <p>The utilities <span class="tt"><a href="ACL2____DEFUN-INLINE.html">defun-inline</a></span>, <span class="tt"><a href="ACL2____DEFUN-NOTINLINE.html">defun-notinline</a></span>, <span class="tt"><a href="ACL2____DEFUND-INLINE.html">defund-inline</a></span>, and <span class="tt"><a href="ACL2____DEFUND-NOTINLINE.html">defund-notinline</a></span> have been simplified, by taking 
 advantage of the lifting of restrictions on formal parameters of macro 
 definitions mentioned above (involving symbols that happen to be <a href="ACL2____STOBJ.html">stobj</a> 
 names).  Now, when any of the above four utilities is called with a given set 
 of formal parameters, those formals will be used not only for the generated 
 <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> event but also for the generated <span class="tt"><a href="COMMON-LISP____DEFMACRO.html">defmacro</a></span> event. 
 (Previously, they had been renamed for the <span class="tt"><a href="COMMON-LISP____DEFMACRO.html">defmacro</a></span> event in order to 
 respect the stobj name restriction that no longer exists.)  Thanks to Jared 
 Davis for pointing out the value of making this change.</p> 
 
 <p>The <a href="ACL2____EVENTS.html">events</a> <span class="tt"><a href="ACL2____ADD-INVISIBLE-FNS.html">add-invisible-fns</a></span> and <span class="tt"><a href="ACL2____REMOVE-INVISIBLE-FNS.html">remove-invisible-fns</a></span> now convert arguments as appropriate using the <span class="tt"><a href="ACL2____MACRO-ALIASES-TABLE.html">macro-aliases-table</a></span>.  For example, the event <span class="v">(<a href="ACL2____ADD-INVISIBLE-FNS.html">add-invisible-fns</a> append
 car)</span> is now legal (though probably not a good idea), because 
 <span class="v">add-invisible-fns</span> is now sensitive to the fact that <span class="tt"><a href="COMMON-LISP____APPEND.html">append</a></span> maps 
 to <span class="tt"><a href="ACL2____BINARY-APPEND.html">binary-append</a></span> in the <span class="tt"><a href="ACL2____MACRO-ALIASES-TABLE.html">macro-aliases-table</a></span>.</p> 
 
 <p>When <span class="v">:</span><span class="v">pe</span> is applied to a built-in function that does not have a 
 defining event, such as <span class="tt"><a href="COMMON-LISP____SYMBOLP.html">symbolp</a></span>, <span class="v">:pe</span> now gives more useful output 
 that points to the documentation instead of printing a call of 
 <span class="v">ENTER-BOOT-STRAP-MODE</span>.  Thanks to Anthony Knape for bringing this issue 
 to our attention.</p> 
 
 <p>The macros <span class="tt"><a href="ACL2____MEMOIZE.html">memoize</a></span> and <span class="tt"><a href="ACL2____UNMEMOIZE.html">unmemoize</a></span> now cause a warning rather 
 than an error in ACL2 (and work as before in ACL2(h)).</p> 
 
 <p>Terms are now parsed into <span class="v">:</span><span class="tt"><a href="ACL2____TYPE-PRESCRIPTION.html">type-prescription</a></span> rules in a manner 
 that removes <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span> bindings both at the top level and in the conclusion 
 (but still not in the hypotheses of the rule).  See <a href="ACL2____TYPE-PRESCRIPTION.html">type-prescription</a>. 
 Thanks to Jared Davis for requesting such an enhancement.</p> 
 
 <p>Printing of numbers is now appropriately sensitive to the print radix; see 
 <a href="ACL2____SET-PRINT-RADIX.html">set-print-radix</a>.  Thanks to Shilpi Goel for requesting this 
 enhancement.</p> 
 
 <p>The system function <span class="v">explode-atom</span> no longer includes the radix 
 indicator.  The new function <span class="v">explode-atom+</span> may be used for that 
 purpose.</p> 
 
 <p><b>NEW FEATURES</b></p> 
 
 <p>Among the new features for system hackers are analogues of system function 
 <span class="v">simple-translate-and-eval</span> that do not return <span class="tt"><a href="ACL2____STATE.html">state</a></span>.  (Thanks to 
 David Rager for requesting this feature and helpful conversations on its 
 implementation.)  This and other low-level changes are typically documented in 
 comments in the corresponding release note event, which in this case is 
 <span class="v">(<a href="ACL2____DEFLABEL.html">deflabel</a> note-6-0 ...)</span>.</p> 
 
 <p>More built-in functions are now <a href="ACL2____GUARD.html">guard</a>-verified (and in <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> mode).  Furthermore, a mechanism exists for marking yet more built-in 
 functions as guard-verified based on <a href="ACL2____BOOKS.html">books</a> contributed by users; see 
 Part II of <a href="http://www.cs.utexas.edu/users/moore/acl2/open-architecture/" target="_blank"><nobr>http://www.cs.utexas.edu/users/moore/acl2/open-architecture/<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/acl2/open-architecture/"></nobr></a>. 
 The current state of that enterprise may be viewed by evaluating the constant 
 <span class="v">*system-verify-guards-alist*</span>, which associates a community book name with 
 a list of functions.  When ACL2 is built in the normal way, each of those 
 functions is marked as guard-verified when ACL2 is started up; but a special 
 developer build can be used to check that the indicated book, together with 
 its sub-books, proves that those functions are guard-verified.</p> 
 
 <p>Metatheorems (see <a href="ACL2____META.html">meta</a>) may now have additional hypotheses, called 
 ``meta-extract hypotheses'', that allow metafunctions to depend on the 
 validity of certain terms extracted from the context or the logical <a href="ACL2____WORLD.html">world</a>.  See <a href="ACL2____META-EXTRACT.html">meta-extract</a>.  Thanks to Sol Swords for providing an 
 initial implementation, together with very helpful discussions as well as a 
 community book, <span class="v">books/clause-processors/meta-extract-user.lisp</span>, that 
 extends the power of meta-extract hypotheses.</p> 
 
 <p>New utilities <span class="v">oracle-funcall</span>, <span class="v">oracle-apply</span>, and 
 <span class="v">oracle-apply-raw</span> call a function argument on specified arguments.  Thanks 
 to Jared Davis for requesting this utility.</p> 
 
 <p>A new utility makes it convenient to track time spent inside specified 
 function calls or, more generally, during specified evaluation.  See <a href="ACL2____TIME-TRACKER.html">time-tracker</a>.</p> 
 
 <p>New runic designators make it easy to refer to macro names when building 
 theories.  Thus, for example, the object <span class="v">(:i append)</span> may be used in 
 theory expressions to designate the <a href="ACL2____RUNE.html">rune</a> <span class="v">(:induction
 binary-append)</span>.  See <a href="ACL2____THEORIES.html">theories</a>.  Thanks to Jared Davis for a useful 
 discussion leading to this enhancement.</p> 
 
 <p><span class="tt"><a href="ACL2____DEFABSSTOBJ.html">Defabsstobj</a></span> <a href="ACL2____EVENTS.html">events</a> now take an optional <span class="v">:congruent-to</span> 
 keyword argument, much like <span class="tt"><a href="ACL2____DEFSTOBJ.html">defstobj</a></span>.  Thanks to Sol Swords for 
 requesting this feature and for suggesting a very nice optimization that 
 avoids the need to prove additional lemmas.</p> 
 
 <p><span class="tt"><a href="COMMON-LISP____FLET.html">Flet</a></span> may now include <span class="v">inline</span> and <span class="v">notinline</span> declarations. 
 Thanks to Jared Davis for requesting this feature.</p> 
 
 <p>The utility <span class="v">gc-verbose</span> controls printing of messages by the garbage 
 collector, for certain host Lisps.  See <a href="ACL2____GC-VERBOSE.html">gc-verbose</a>.  Thanks to Shilpi 
 Goel for requesting this utility.</p> 
 
 <p>Added definitions of functions <span class="tt"><a href="ACL2____NAT-LISTP.html">nat-listp</a></span> and <span class="tt"><a href="ACL2____ACL2-NUMBER-LISTP.html">ACL2-number-listp</a></span>.  Thanks to Harsh Raju Chamarthi for requesting these 
 additions.  Many community books had varying definitions of these functions; 
 these additions guarantee that all books must agree on how these two functions 
 are defined.  (Some community books have been changed in order that they 
 remain certifiable, given these additions.)  Note that a few built-in 
 <span class="v">:</span><span class="tt"><a href="ACL2____FORWARD-CHAINING.html">forward-chaining</a></span> rules were modified in order to accommodate 
 these additions, and the definition of <span class="tt"><a href="ACL2____INTEGER-LISTP.html">integer-listp</a></span> was modified to 
 call <span class="tt"><a href="COMMON-LISP____EQ.html">eq</a></span> instead of <span class="tt"><a href="COMMON-LISP____EQUAL.html">equal</a></span>, like the other such definitions.</p> 
 
 <p>See <a href="ACL2____GET-COMMAND-SEQUENCE.html">get-command-sequence</a> for a new utility that returns a list of 
 <a href="ACL2____COMMAND.html">command</a>s between two given command descriptors.</p> 
 
 <p><b>HEURISTIC IMPROVEMENTS</b></p> 
 
 <p>We obtained a substantial speedup — 13% observed for the regression 
 suite, and 8% observed for the ACL2(h) regression suite — by tweaking 
 the <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> implementation to eliminate virtually all of its 
 overhead when it is not in use (the default, which holds until <span class="v">:</span><span class="tt"><a href="ACL2____BRR.html">brr</a></span><span class="v"> t</span> is evaluated).  Thanks to David Rager for a conversation involving 
 ACL2(p) performance statistics that suggested looking at changing <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> to boost performance.</p> 
 
 <p>The heuristics for automatically expanding recursive function calls have 
 been changed during proofs by induction.  Now, during induction, more terms 
 that suggested the induction scheme are automatically expanded.  Thanks to 
 David Rager for providing an example and having discussions with us that 
 spurred us to develop this heuristic improvement.</p> 
 
 <p><b>BUG FIXES</b></p> 
 
 <p>Fixed a soundness bug in <span class="tt"><a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a></span> based on <span class="tt"><a href="ACL2____GUARD.html">guard</a></span>s that 
 violated single-threadedness restrictions.  Thanks to Sol Swords for bringing 
 this bug to our attention and supplying a proof of <span class="v">nil</span>, which we include 
 as a comment in source file <span class="v">ld.lisp</span>, in <span class="v">(<a href="ACL2____DEFLABEL.html">deflabel</a> note-6-0 ...)</span>.  We 
 also thank Sol for helpful discussions about <a href="ACL2____GUARD.html">guard</a>s of functions 
 introduced by <span class="v">defabsstobj</span>, which has led us to enhance the <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a>; see <a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a>.</p> 
 
 <p>Fixed a soundness bug in <span class="tt"><a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a></span> based on interrupted updates 
 of abstract stobjs.  As part of the fix a new keyword, <span class="v">:PROTECT</span>, has been 
 introduced for <span class="v">defabsstobj</span> exports, along with a new top-level 
 <span class="v">defabsstobj</span> keyword, <span class="v">:PROTECT-DEFAULT</span>; see <a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a>.  We 
 do some analysis that we expect will avoid the use of <span class="v">:PROTECT</span> in many 
 cases, which is fortunate since the use of <span class="v">:PROTECT t</span> may cause a slight 
 slowdown in (abstract) stobj updates.  Thanks to Sol Swords for bringing this 
 bug to our attention and supplying a proof of <span class="v">nil</span>, which we include as a 
 comment in source file <span class="v">other-events.lisp</span>, in the definition of function 
 <span class="v">set-absstobj-debug</span>.</p> 
 
 <p>Fixed a raw Lisp error that occurred when tracing a <i>stobj</i> resize 
 function, thanks to an error report from Warren Hunt, Marijn Heule, and Nathan 
 Wetzler.</p> 
 
 <p>Fixed a raw Lisp error that occurred for certain ill-formed signatures, as 
 in the following example.</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____ENCAPSULATE.html">encapsulate</a>
           (((f (<a href="COMMON-LISP_____A2.html">*</a>) =&gt; * :guard t)))
           (<a href="ACL2____LOCAL.html">local</a> (<a href="COMMON-LISP____DEFUN.html">defun</a> f (x) (<a href="COMMON-LISP____CONSP.html">consp</a> x))))

***********************************************
************ ABORTING from raw Lisp ***********
Error:  value (F (<a href="COMMON-LISP_____A2.html">*</a>) =&gt; * :GUARD T) is not of the expected type SYMBOL.
***********************************************</pre> 
 
 <p>The notion of ``error triple'' (see <a href="ACL2____ERROR-TRIPLE.html">error-triple</a>) had been 
 implemented ambiguously, with the result that for a <a href="ACL2____STOBJ.html">stobj</a>, <span class="v">st</span>, the 
 result of evaluating the following two forms was the same: <span class="v">(<a href="ACL2____MV.html">mv</a> nil st
 state)</span> and <span class="v">(<a href="ACL2____MV.html">mv</a> t st state)</span>.  Of course, these are just examples; in 
 general, a result of <span class="v">(<a href="ACL2____MV.html">mv</a> erp val state)</span> was sometimes treated as an error 
 triple even when <span class="v">val</span> is a <a href="ACL2____STOBJ.html">stobj</a>.  Now, <span class="v">(<a href="ACL2____MV.html">mv</a> erp val state)</span> is 
 an error triple only when <span class="v">erp</span> and <span class="v">val</span> are ordinary (non-<a href="ACL2____STOBJ.html">stobj</a>) values.  Thanks to Warren Hunt and Marijn Heule for bringing this 
 problem to our attention.</p> 
 
 <p>The ``with-error-trace'' utility, <span class="tt"><a href="ACL2____WET.html">wet</a></span>, now works in the non-error 
 case when given a form that returns multiple values.  (Note however that 
 <span class="tt"><a href="ACL2____STATE.html">state</a></span> will be printed as <span class="v">REPLACED-STATE</span>; and similarly, a 
 user-defined <a href="ACL2____STOBJ.html">stobj</a>, say <span class="v">ST</span>, will be printed as 
 <span class="v">REPLACED-ST</span>.)</p> 
 
 <p>Some possible error messages for <span class="tt"><a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a></span> have been fixed that 
 had been ill-formed.  Thanks to Sol Swords for bringing this bug to our 
 attention.</p> 
 
 <p>Fixed a bug that sometimes caused the times displayed in the summary for 
 <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> to be smaller than the actual times.</p> 
 
 <p>Fixed a bug in the <a href="ACL2____GUARD.html">guard</a>s to system functions <span class="v">fmt-char</span> and 
 <span class="v">fmt-var</span>, which are no longer <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span>-mode, guard-verified 
 functions.</p> 
 
 <p>(GCL only) Fixed a bug present in Gnu Common Lisp for <span class="v">#u</span> (see <a href="ACL2____SHARP-U-READER.html">sharp-u-reader</a>).</p> 
 
 <p><b>CHANGES AT THE SYSTEM LEVEL</b></p> 
 
 <p>The <a href="ACL2____STATE.html">state</a> global variable <span class="v">'distributed-books-dir</span> has been 
 renamed <span class="v">'system-books-dir</span>.  On a related note, the <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a> 
 now refers to ``community books'' rather than ``distributed books'', and there 
 is a corresponding new documentation topic; see <a href="ACL2____COMMUNITY-BOOKS.html">community-books</a>.</p> 
 
 <p>Fixed a bug in the implementation of <span class="tt"><a href="ACL2____WET.html">wet</a></span> (which is actually in the 
 community book <span class="v">books/misc/wet.lisp</span>).</p> 
 
 <p>A directory, <span class="v">interface/</span>, is no longer part of the ACL2 distribution. 
 Rather, it is a subdirectory of the ACL2 community books.  Thus, if you fetch 
 those books in the usual way (see the installation instructions on the ACL2 
 home page), you will find a directory <span class="v">books/interface/</span>.  Subdirectory 
 <span class="v">emacs/</span> of that <span class="v">interface</span> directory provides Emacs support for <a href="ACL2____PROOF-TREE.html">proof-tree</a>s as well an <span class="v">acl2-mode</span>.  This change has been reflected in 
 ACL2 file <span class="v">emacs/emacs-acl2.el</span>, so users will probably not be impacted if 
 they load that file into Emacs.</p> 
 
 <p>The community books file <span class="v">books/Makefile-generic</span> now causes, by 
 default, a backtrace to be printed when there is a raw Lisp error.</p> 
 
 <p>Some changes have been made to how regressions are run, i.e., to how the 
 community books are certified.  (1) The standard regression now includes 
 community books directory <span class="v">books/centaur</span>.  To skip these (for example, a 
 Windows system has encountered difficulty with them even after installing 
 Perl), include <span class="v">ACL2_CENTAUR=skip</span> with your `make' command.  (2) A new 
 `make' (or environment) variable, <span class="v">ACL2_JOBS</span>, specifies the number of 
 parallel jobs to run, serving as a replacement for the <span class="v">-j</span> argument of 
 `make' that works for all community books, including those under directory 
 <span class="v">centaur</span>; see <a href="ACL2____BOOKS-CERTIFICATION-CLASSIC.html">books-certification-classic</a>.  (3) It is no longer 
 necessary to do an ACL2(h) regression in order to build a copy of the 
 documentation generated by Jared Davis's xdoc utility at 
 <span class="v">books/xdoc-impl/manual/preview.html</span>; a vanilla ACL2 regression will build 
 this manual.  (4) It is no longer necessary to set the <span class="v">ACL2</span> environment 
 variable for ACL2(h) regressions if you want to use the executable 
 <span class="v">saved_acl2h</span> in the ACL2 sources directory.</p> 
 
 <p>The ACL2 home page now has a search utility for documentation and books. 
 Thanks to Shilpi Goel and David Rager for feedback on a preliminary version of 
 this utility.</p> 
 
 <p>(only for SBCL with 64-bit ACL2(h)) The value of SBCL command line option 
 <span class="v">--dynamic-space-size</span> for ACL2(h) on 64-bit platforms has been increased 
 from 2000 to 16000 (as explained in a comment in the ACL2 source definition of 
 <span class="v">*sbcl-dynamic-space-size*</span>).</p> 
 
 <p><b>EMACS SUPPORT</b></p> 
 
 <p><b>EXPERIMENTAL/ALTERNATE VERSIONS</b></p> 
 
 <p>Among the enhancements for ACL2(r) (see <a href="COMMON-LISP____REAL.html">real</a>) are the following.</p> 
 
 <blockquote> 
 
 <p>Thanks to Ruben Gamboa for his helpful role in making the following 
 improvements made with Ruben Gamboa in support for non-standard analysis in 
 ACL2(r).</p> 
 
 <p>Constrained functions can now be introduce as non-classical.  See <a href="ACL2____SIGNATURE.html">signature</a>.</p> 
 
 <p><span class="tt"><a href="ACL2____DEFUN-SK.html">Defun-sk</a></span> now takes a new keyword argument, <span class="v">:CLASSICALP</span>, that 
 determines whether or not the named function is classical.  See <a href="ACL2____DEFUN-SK.html">defun-sk</a>.</p> 
 
 <p>Incorporated a bug fix from Ruben Gamboa for <span class="tt"><a href="COMMON-LISP____CEILING.html">ceiling</a></span>.  The default 
 (for `bad' arguments) had been 1, but now we follow normal ACL2 practice by 
 returning 0 in that case.</p>
</blockquote> 
 
 <p>Among the enhancements for the HONS extension (see <a href="ACL2____HONS-AND-MEMOIZATION.html">hons-and-memoization</a>) are the following.</p> 
 
 <blockquote> 
 
 <p>Macros <span class="tt"><a href="ACL2____WITH-FAST-ALIST.html">with-fast-alist</a></span>, <span class="tt"><a href="ACL2____WITH-STOLEN-ALIST.html">with-stolen-alist</a></span>, and <span class="tt"><a href="ACL2____FAST-ALIST-FREE-ON-EXIT.html">fast-alist-free-on-exit</a></span> are now defined in ACL2(h), rather than being defined 
 in the community book <span class="v">"books/centaur/misc/hons-extra.lisp"</span>.  Thanks to 
 Jared Davis and Sol Swords for donating this code, and thanks to Jared for 
 helpful discussions leading to this change.</p>
</blockquote> 
 
 <p>Among the enhancements for ACL2(p) (see <a href="ACL2____PARALLELISM.html">parallelism</a>) are the 
 following.  We thank David Rager for his work in developing ACL2(p) and for 
 his helpful role in these improvements.</p> 
 
 <blockquote> 
 
 <p>A bug has been fixed that could leave one in a <a href="ACL2____WORMHOLE.html">wormhole</a>, awaiting 
 input, after an error, such as an error in an <span class="v">:in-theory</span> hint during a 
 proof.  Thanks to Shilpi Goel for bringing this bug to our attention.</p> 
 
 <p>A key checkpoint for a given goal is now printed only once.  Previously, if 
 a key checkpoint led to more than one goal pushed for proof by induction, the 
 key checkpoint would be printed once for each such goal during the proof, and 
 also once for each such goal in the summary at the end.</p>
</blockquote>
</body>
</html>
