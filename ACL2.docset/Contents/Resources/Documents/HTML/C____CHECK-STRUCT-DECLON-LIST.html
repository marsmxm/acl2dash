<html>
<head>
<meta charset="UTF-8">
<title>Check-struct-declon-list</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=C____CHECK-STRUCT-DECLON-LIST">Click for Check-struct-declon-list in the Full Manual</a></h3>

<p>Check a list of structure declarations.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(check-struct-declon-list declons tagenv) → members</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">declons</span> — <font color="#606060">Guard <span class="v">(<a href="C____STRUCT-DECLON-LISTP.html">struct-declon-listp</a> declons)</span>.</font>
</dd> 
  <dd>
<span class="tt">tagenv</span> — <font color="#606060">Guard <span class="v">(<a href="C____TAG-ENVP.html">tag-envp</a> tagenv)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">members</span> — <font color="#606060">Type <span class="v">(<a href="C____MEMBER-TYPE-LIST-RESULTP.html">member-type-list-resultp</a> members)</span>.</font>
</dd> 
 
</dl></div> 
<p>These specify the members of a structure or union type 
     (see <span class="tt"><a href="C____STRUCT-DECLON.html">struct-declon</a></span>). 
     We go through the declarations 
     and turn each of them into member types (see <span class="tt"><a href="C____MEMBER-TYPE.html">member-type</a></span>). 
     We ensure that each member name is well-formed; 
     we will also need to check that each member type is well-formed, 
     but we need to extend our static semantics for that. 
     By using <span class="tt"><a href="C____MEMBER-TYPE-ADD-FIRST.html">member-type-add-first</a></span>, 
     we ensure that there are no duplicate member names.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>check-struct-declon-list</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
  check-struct-declon-list
  (declons tagenv)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="C____STRUCT-DECLON-LISTP.html">struct-declon-listp</a> declons)
                              (<a href="C____TAG-ENVP.html">tag-envp</a> tagenv))))
  (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'check-struct-declon-list))
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
       (<a href="ACL2____B_A2.html">b*</a> (((when (<a href="COMMON-LISP____ENDP.html">endp</a> declons)) nil)
            (members (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> (<a href="COMMON-LISP____CDR.html">cdr</a> declons)
                                               tagenv))
            ((when (<a href="C____ERRORP.html">errorp</a> members)) members)
            ((<a href="ACL2____MV.html">mv</a> name tyname)
             (<a href="C____STRUCT-DECLON-TO-IDENT_B2TYNAME.html">struct-declon-to-ident+tyname</a> (<a href="COMMON-LISP____CAR.html">car</a> declons)))
            (wf (<a href="C____CHECK-TYNAME.html">check-tyname</a> tyname tagenv))
            ((when (<a href="C____ERRORP.html">errorp</a> wf))
             (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :bad-member-type wf)))
            (wf (<a href="C____CHECK-IDENT.html">check-ident</a> name))
            ((when (<a href="C____ERRORP.html">errorp</a> wf))
             (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :bad-member-name wf)))
            (<a href="C____TYPE.html">type</a> (<a href="C____TYNAME-TO-TYPE.html">tyname-to-type</a> tyname))
            (members-opt (<a href="C____MEMBER-TYPE-ADD-FIRST.html">member-type-add-first</a> name type members)))
           (<a href="C____MEMBER-TYPE-LIST-OPTION-CASE.html">member-type-list-option-case</a>
                members-opt
                :some members-opt.val
                :none (<a href="C____ERROR.html">error</a> (<a href="COMMON-LISP____LIST.html">list</a> :duplicate-member name))))))</pre> 
<p><b>Theorem: </b>member-type-list-resultp-of-check-struct-declon-list</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> member-type-list-resultp-of-check-struct-declon-list
        (<a href="ACL2____B_A2.html">b*</a> ((members (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons tagenv)))
            (<a href="C____MEMBER-TYPE-LIST-RESULTP.html">member-type-list-resultp</a> members))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>check-struct-declon-list-of-struct-declon-list-fix-declons</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   check-struct-declon-list-of-struct-declon-list-fix-declons
   (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> (<a href="C____STRUCT-DECLON-LIST-FIX.html">struct-declon-list-fix</a> declons)
                                    tagenv)
          (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons tagenv)))</pre> 
<p><b>Theorem: </b>check-struct-declon-list-struct-declon-list-equiv-congruence-on-declons</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 check-struct-declon-list-struct-declon-list-equiv-congruence-on-declons
 (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____STRUCT-DECLON-LIST-EQUIV.html">struct-declon-list-equiv</a> declons declons-equiv)
          (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons tagenv)
                 (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons-equiv tagenv)))
 :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>check-struct-declon-list-of-tag-env-fix-tagenv</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     check-struct-declon-list-of-tag-env-fix-tagenv
     (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons (<a href="C____TAG-ENV-FIX.html">tag-env-fix</a> tagenv))
            (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons tagenv)))</pre> 
<p><b>Theorem: </b>check-struct-declon-list-tag-env-equiv-congruence-on-tagenv</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   check-struct-declon-list-tag-env-equiv-congruence-on-tagenv
   (<a href="ACL2____IMPLIES.html">implies</a> (<a href="C____TAG-ENV-EQUIV.html">tag-env-equiv</a> tagenv tagenv-equiv)
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons tagenv)
                   (<a href="C____CHECK-STRUCT-DECLON-LIST.html">check-struct-declon-list</a> declons tagenv-equiv)))
   :rule-classes :congruence)</pre> 

</body>
</html>
