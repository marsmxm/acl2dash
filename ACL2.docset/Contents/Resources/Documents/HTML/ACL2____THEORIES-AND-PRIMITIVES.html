<html>
<head>
<meta charset="UTF-8">
<title>Theories-and-primitives</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____THEORIES-AND-PRIMITIVES">Click for Theories-and-primitives in the Full Manual</a></h3>

<p>Warnings from disabling or enabling certain built-in functions</p><p>When you <a href="ACL2____DISABLE.html">disable</a> the <a href="ACL2____DEFINITION.html">definition</a> or <a href="ACL2____EXECUTABLE-COUNTERPART.html">executable-counterpart</a> of a built-in function, you may see a warning, for 
 example as follows.</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____DISABLE.html">disable</a> mv-nth iff length))

ACL2 Warning [Theory] in ( IN-THEORY (<a href="ACL2____DISABLE.html">DISABLE</a> ...)):  The :DEFINITION
rules for the built-in functions MV-NTH and IFF are disabled by the
theory expression (<a href="ACL2____DISABLE.html">DISABLE</a> MV-NTH IFF LENGTH), but some expansions
of their calls may still occur.  See :DOC theories-and-primitives.</pre> 
 
 <p>This warning is telling us that the built-in functions <span class="tt"><a href="ACL2____MV-NTH.html">mv-nth</a></span> and 
 <span class="tt"><a href="ACL2____IFF.html">iff</a></span> are given certain special handling, hence their calls may be 
 expanded even when their definitions are disabled.  This behavior applies to 
 the functions in the list obtained by evaluating the constant, 
 <span class="v">*definition-minimal-theory*</span>.</p> 
 
 <p>These warnings can be eliminated by turning off all theory warnings (see 
 <a href="ACL2____SET-INHIBIT-WARNINGS.html">set-inhibit-warnings</a>) or even turning off all warnings (see <a href="ACL2____SET-INHIBIT-OUTPUT-LST.html">set-inhibit-output-lst</a>), or simply by evaluating the following form.</p> 
 
 <pre class="code">(<a href="ACL2____ASSIGN.html">assign</a> verbose-theory-warning nil)</pre> 
 
 <p>But before you eliminate such theory warnings, you may wish to read the 
 following to gain more understanding of their significance.</p> 
 
 <p>First consider the following example, evaluated after the <span class="tt"><a href="ACL2____IN-THEORY.html">in-theory</a></span> 
 event displayed above.</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 2 (<a href="COMMON-LISP____LIST.html">list</a> a b c d e)) c))

Q.E.D.

Summary
Form:  ( THM ...)
Rules: ((:DEFINITION MV-NTH)
        (:FAKE-RUNE-FOR-TYPE-SET NIL))
Time:  0.00 seconds (prove: 0.00, print: 0.00, other: 0.00)
Prover steps counted:  18

Proof succeeded.
ACL2 !&gt;</pre> 
 
 <p>Note that even though the <a href="ACL2____DEFINITION.html">definition</a> of <span class="tt"><a href="ACL2____MV-NTH.html">mv-nth</a></span> had been 
 <a href="ACL2____DISABLE.html">disable</a>d, nevertheless its definition rule was used in proving this 
 theorem.  It is as though <span class="tt"><a href="ACL2____MV-NTH.html">mv-nth</a></span> had not been been disabled after all! 
 The warning is intended to indicate that expansion of <span class="v">mv-nth</span> calls may be 
 made by the theorem prover even when <span class="v">mv-nth</span> is disabled.  Indeed, the 
 prover has special-purpose code for simplifying certain <span class="v">mv-nth</span> calls.</p> 
 
 <p>A similar issue can arise for <span class="v">executable-counterpart</span> rules, as the 
 following log illustrates.</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____DISABLE.html">disable</a> (:e symbolp)))

ACL2 Warning [Theory] in ( IN-THEORY (<a href="ACL2____DISABLE.html">DISABLE</a> ...)):  The :EXECUTABLE-
COUNTERPART rule for the built-in function SYMBOLP is disabled by the
theory expression (<a href="ACL2____DISABLE.html">DISABLE</a> (:E SYMBOLP)), but some evaluations of its
calls may still occur.  See :DOC theories-and-primitives.


Summary
Form:  ( IN-THEORY (<a href="ACL2____DISABLE.html">DISABLE</a> ...))
Rules: NIL
Warnings:  Theory
Time:  0.01 seconds (prove: 0.00, print: 0.00, other: 0.01)
 (:NUMBER-OF-ENABLED-RUNES 4268)
ACL2 !&gt;(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> 'a))

Q.E.D.

Summary
Form:  ( THM ...)
Rules: NIL
Time:  0.00 seconds (prove: 0.00, print: 0.00, other: 0.00)

Proof succeeded.
ACL2 !&gt;</pre> 
 
 <p>In general, ACL2 warns when <span class="tt"><a href="ACL2____IN-THEORY.html">in-theory</a></span> <a href="ACL2____EVENTS.html">events</a> or <a href="ACL2____HINTS.html">hints</a> 
 leave you in a theory where rules for certain built-in functions have just 
 been disabled, yet these rules may be applied in some cases nonetheless, 
 because of special-purpose prover code for handling calls of that function. 
 The built-in function symbols with such <a href="ACL2____DEFINITION.html">definition</a> rules or <a href="ACL2____EXECUTABLE-COUNTERPART.html">executable-counterpart</a> rules are those in the following two lists, which are 
 the respective values of built-in constants <span class="v">*definition-minimal-theory*</span> 
 and <span class="v">*built-in-executable-counterparts*</span>.</p> 
 
 <p><b>Definition: </b>*definition-minimal-theory*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a> *definition-minimal-theory*
          (<a href="COMMON-LISP____LIST_A2.html">list*</a> 'mv-nth
                 'iff
                 *expandable-boot-strap-non-rec-fns*))</pre> 
 
 <p><b>Definition: </b>*built-in-executable-counterparts*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a> *built-in-executable-counterparts*
          '(<a href="ACL2____ACL2-NUMBERP.html">acl2-numberp</a> binary-* binary-+ unary-- unary-/
                         &lt; car cdr char-code characterp code-char
                         complex complex-rationalp coerce
                         cons consp denominator equal if imagpart
                         integerp intern-in-package-of-symbol
                         numerator pkg-witness pkg-imports
                         rationalp realpart stringp symbol-name
                         symbol-package-name symbolp not))</pre> 
 
 <p>A third class of warnings pertains to <a href="ACL2____PRIMITIVE.html">primitive</a>s that do not have 
 definitions, such as <span class="v">cons</span>.  Here is an example of such a warning, for the 
 event <span class="v">(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____DISABLE.html">disable</a> cons))</span>.</p> 
 
 <pre class="code">ACL2 Warning [Theory] in ( IN-THEORY (<a href="ACL2____DISABLE.html">DISABLE</a> ...)):  There is no effect
from disabling or enabling :DEFINITION rules for primitive functions
(see :DOC primitive).  For the expression (<a href="ACL2____DISABLE.html">DISABLE</a> CONS), the attempt
to disable CONS will therefore have no effect for its definition.
See :DOC theories-and-primitives.</pre> 
 
 <p>Unlike the warnings discussed above, warnings about primitives can occur 
 not only when disabling definitions but also when enabling them.  Here is what 
 happens when we submit <span class="v">(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____ENABLE.html">enable</a> cons))</span> immediately after the 
 event just above.</p> 
 
 <pre class="code">ACL2 Warning [Theory] in ( IN-THEORY (<a href="ACL2____ENABLE.html">ENABLE</a> ...)):  There is no effect
from disabling or enabling :DEFINITION rules for primitive functions
(see :DOC primitive).  For the expression (<a href="ACL2____ENABLE.html">ENABLE</a> CONS), the attempt
to enable CONS will therefore have no effect for its definition.  See
:DOC theories-and-primitives.</pre> 
 
 <p>If however we submit <span class="v">(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____ENABLE.html">enable</a> cons))</span> again, or in a fresh 
 session, there is no warning.  To see why, understand that all of these 
 warnings are based on a comparison of the preceding current <a href="ACL2____THEORY.html">theory</a> with 
 the new one.  If <span class="v">cons</span> is already enabled, then <span class="v">(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____ENABLE.html">enable</a>
 cons))</span> is a no-op; hence, there is no warning.</p> 
 
 <p>There is another case in which there is no warning: if all definitions of 
 primitives transition from disabled to enabled, or vice-versa.  For example, 
 such a transition occurs for consecutive events <span class="v">(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____CURRENT-THEORY.html">current-theory</a>
 'ground-zero))</span> and <span class="v">(<a href="ACL2____IN-THEORY.html">in-theory</a> (<a href="ACL2____THEORY.html">theory</a> 'minimal-theory))</span>.</p> 
 
 <p>We conclude with a note for advanced users only.  You can eliminate all 
 special treatment discussed above for expanding the definition of <span class="tt"><a href="ACL2____MV-NTH.html">mv-nth</a></span> (but not for any of the other primitives listed above) by evaluating 
 the following form (also see <a href="ACL2____DEFATTACH-SYSTEM.html">defattach-system</a>).</p> 
 
 <pre class="code">(<a href="ACL2____DEFATTACH-SYSTEM.html">defattach-system</a> simplifiable-mv-nth-p constant-nil-function-arity-0)</pre> 
 
 <p>That said, this is probably only useful for very specific cases of 
 ``system-level'' programming.  You can restore the default behavior as 
 follows.</p> 
 
 <pre class="code">(<a href="ACL2____DEFATTACH-SYSTEM.html">defattach-system</a> simplifiable-mv-nth-p constant-t-function-arity-0)</pre>
</body>
</html>
