<html>
<head>
<meta charset="UTF-8">
<title>Set-enforce-redundancy</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SET-ENFORCE-REDUNDANCY">Click for Set-enforce-redundancy in the Full Manual</a></h3>

<p>Require most events to be redundant</p><pre class="code">General Forms:
(<a href="ACL2____SET-ENFORCE-REDUNDANCY.html">set-enforce-redundancy</a> nil)   ; do not require redundancy (<a href="ACL2____DEFAULT.html">default</a>)
(<a href="ACL2____SET-ENFORCE-REDUNDANCY.html">set-enforce-redundancy</a> t)     ; most events (see below) must be redundant
(<a href="ACL2____SET-ENFORCE-REDUNDANCY.html">set-enforce-redundancy</a> :warn) ; warn for most non-redundant events</pre> 
 
 <p>Note: This is an event!  It does not print the usual event <a href="ACL2____SUMMARY.html">summary</a> 
 but nevertheless changes the ACL2 logical <a href="ACL2____WORLD.html">world</a> and is so recorded.</p> 
 
 <pre class="code">General Form:
(<a href="ACL2____SET-ENFORCE-REDUNDANCY.html">set-enforce-redundancy</a> flag)</pre> 
 
 <p>where <span class="v">flag</span> is <span class="v">nil</span>, <span class="v">t</span>, or <span class="v">:warn</span>, as indicated above. 
 This macro is essentially equivalent to</p> 
 
 <pre class="code">(<a href="ACL2____TABLE.html">table</a> acl2-defaults-table :enforce-redundancy flag)</pre> 
 
 <p>and hence is <span class="tt"><a href="ACL2____LOCAL.html">local</a></span> to any <a href="ACL2____BOOKS.html">books</a> and <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> 
 <a href="ACL2____EVENTS.html">events</a> in which it occurs; see <a href="ACL2____ACL2-DEFAULTS-TABLE.html">ACL2-defaults-table</a>.  However, 
 unlike the above simple call of the <span class="tt"><a href="ACL2____TABLE.html">table</a></span> event function (see <a href="ACL2____TABLE.html">table</a>), no output results from a <span class="v">set-enforce-redundancy</span> event.</p> 
 
 <p><span class="v">Set-enforce-redundancy</span> may be thought of as an event that merely sets 
 a flag as indicated above, which determines whether most <a href="ACL2____EVENTS.html">events</a>, 
 including <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> and <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span> events, are allowed to be 
 redundant; see <a href="ACL2____REDUNDANT-EVENTS.html">redundant-events</a>.  The exceptions are <span class="tt"><a href="ACL2____DEFLABEL.html">deflabel</a></span>, 
 <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span>, <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span>, <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span>, <span class="tt"><a href="ACL2____PUSH-UNTOUCHABLE.html">push-untouchable</a></span>, <span class="tt"><a href="ACL2____REMOVE-UNTOUCHABLE.html">remove-untouchable</a></span>, <span class="tt"><a href="ACL2____SET-BODY.html">set-body</a></span>, and <span class="tt"><a href="ACL2____TABLE.html">table</a></span> <a href="ACL2____EVENTS.html">events</a>.  Any other type of non-redundant event will cause an 
 error if <span class="v">flag</span> is <span class="v">t</span> and a warning if <span class="v">flag</span> is <span class="v">nil</span>, 
 <i>except</i> in the course of carrying out an <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> form.</p> 
 
 <p>Note that because <span class="tt"><a href="ACL2____TABLE.html">table</a></span> <a href="ACL2____EVENTS.html">events</a> that set the <span class="tt"><a href="ACL2____ACL2-DEFAULTS-TABLE.html">ACL2-defaults-table</a></span> are implicitly <span class="tt"><a href="ACL2____LOCAL.html">local</a></span>, <span class="v">set-enforce-redundancy</span> 
 events are ignored when including books.  However, the presence of the event 
 <span class="v">(<a href="ACL2____SET-ENFORCE-REDUNDANCY.html">set-enforce-redundancy</a> t)</span> in a book guarantees that its subsequent 
 definitions and theorems are redundant.  This can be a useful property to 
 maintain in library development, as we now describe.</p> 
 
 <p>An example of the use of this form can be found in the community <a href="ACL2____BOOKS.html">books</a> under directory <span class="v">books/rtl/rel4/</span>.  The intention in that directory 
 has been to put all the gory details in subdirectories <span class="v">support/</span> and 
 <span class="v">arithmetic/</span>, so that the books in subdirectory <span class="v">lib/</span> contain only the 
 ``exported'' definitions and theorems.  This approach is useful for human 
 readability.  Moreover, suppose we want to prove new theorems in <span class="v">lib/</span>. 
 Typically we wish to prove the new theorems using the existing books in 
 <span class="v">lib/</span>; however, our methodology demands that the proofs go into books in 
 <span class="v">support/</span>.  If every theorem in <span class="v">lib/</span> is redundant, then we can 
 <i>develop</i> the proofs in <span class="v">lib/</span> but then when we are done, <i>move</i> 
 each book with such proofs into <span class="v">support/</span> as follows.  In any such book, 
 we first replace <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> forms referring to books in <span class="v">lib/</span> by 
 <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> forms referring to corresponding books in <span class="v">support/</span> 
 and/or <span class="v">arithmetic/</span>.  Then, we add suitable <span class="tt"><a href="ACL2____IN-THEORY.html">in-theory</a></span> events to 
 get us back into the original <span class="v">lib/</span> proof environment.</p> 
 
 <p>The default behavior of the system is as though the 
 <span class="v">:enforce-redundancy</span> value is <span class="v">nil</span>.  The current behavior can be 
 ascertained by evaluating the following form.</p> 
 
 <pre class="code">(<a href="COMMON-LISP____CDR.html">cdr</a> (<a href="ACL2____ASSOC-EQ.html">assoc-eq</a> :enforce-redundancy (<a href="ACL2____TABLE-ALIST.html">table-alist</a> 'acl2-defaults-table wrld)))</pre>
</body>
</html>
