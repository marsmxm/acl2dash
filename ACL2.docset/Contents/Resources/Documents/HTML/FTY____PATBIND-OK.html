<html>
<head>
<meta charset="UTF-8">
<title>Patbind-ok</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=FTY____PATBIND-OK">Click for Patbind-ok in the Full Manual</a></h3>

<p><span class="tt"><a href="ACL2____B_A2.html">b*</a></span> binder for checking and propagating 
          error results of fixtype <span class="tt"><a href="FTY____RESULTERR.html">resulterr</a></span>.</p><p>This is somewhat similar to <span class="tt"><a href="ACL2____PATBIND-ER.html">ACL2::patbind-er</a></span>, 
     but it is for <a href="FTY____DEFRESULT.html">result types</a>.</p><p>It checks whether the value of the bound term is an error, 
     returning a slightly modified error if the check succeeds. 
     Otherwise, the binder proceeds with the rest of the computation. 
     The aforementioned modification of the error consists in 
     pushing the current function's name 
     onto the stack component of the error, 
     without (i.e. with <span class="v">nil</span> additional information; 
     this binder assumes that <span class="v">__function__</span> is bound to the function name, 
     which is automatically the case when using <span class="tt"><a href="ACL2____DEFINE.html">define</a></span>.</p><p>This binder is used as follows:</p><pre class="code">(<a href="ACL2____B_A2.html">b*</a> (...
     ((ok &lt;pattern&gt;) &lt;term&gt;)
     ...)
  ...)</pre><p>Note that the argument of <span class="v">(ok ...)</span> 
     may be a supported single-valued <span class="tt"><a href="ACL2____B_A2.html">b*</a></span> pattern, 
     e.g. <span class="v">(ok (<a href="COMMON-LISP____CONS.html">cons</a> x y))</span>.</p><p>In order to support such a pattern, 
     we generate an initial binding to a variable, 
     a test of whether it is an error or not, 
     and then a second binding of the pattern to the variable if not. 
     As done in other binders that come with <span class="tt"><a href="ACL2____B_A2.html">b*</a></span>, 
     we pick a name for the first variable 
     that is unlikely to occur in code.</p>
</body>
</html>
