<html>
<head>
<meta charset="UTF-8">
<title>*vl-1-bit-bufif0*</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014_____A2VL-1-BIT-BUFIF0_A2">Click for *vl-1-bit-bufif0* in the Full Manual</a></h3>

<p>Primitive conditional driver.</p><p>The Verilog meaning of this module is:</p> 
 
<pre class="code">module VL_1_BIT_BUFIF0 (out, data, ctrl);
   output out;
   input data;
   input ctrl;
   assign out = ctrl ? 1'bz : |data;
endmodule</pre> 
 
<p>VL takes this as a primitive.  The <a href="VL2014____GATE-ELIM.html">gate-elim</a> transform converts 
certain <span class="v">bufif0</span> gates into instances of this module.</p> 
 
<p>The corresponding <a href="ACL2____ESIM.html">esim</a> primitive is <a href="ACL2_____A2ESIM-BUFIF0_A2.html">ACL2::*esim-bufif0*</a>.</p> 
 
<p>We once tried to implement this primitive using <span class="v">~~data</span> instead of 
<span class="v">|data</span>, but we found that NCVerilog (incorrectly) canceled the double 
negation and could hence produce Z bits on the output.  The or-based definition 
above does not appear to have this problem.</p><p><b>Definition: </b>*vl-1-bit-bufif0*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a>
 *vl-1-bit-bufif0*
 (<a href="ACL2____B_A2.html">b*</a>
  ((name "VL_1_BIT_BUFIF0")
   (atts '(("VL_PRIMITIVE") ("VL_HANDS_OFF")))
   ((<a href="ACL2____MV.html">mv</a> out-expr
        out-port out-portdecl out-vardecl)
    (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "out" :vl-output))
   ((<a href="ACL2____MV.html">mv</a> data-expr
        data-port data-portdecl data-vardecl)
    (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "data" :vl-input))
   ((<a href="ACL2____MV.html">mv</a> ctrl-expr
        ctrl-port ctrl-portdecl ctrl-vardecl)
    (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "ctrl" :vl-input))
   (<a href="ACL2____ASSIGN.html">assign</a>
    (<a href="VL2014____MAKE-VL-ASSIGN.html">make-vl-assign</a>
         :lvalue out-expr
         :expr
         (<a href="VL2014____MAKE-VL-NONATOM.html">make-vl-nonatom</a>
              :op :vl-qmark
              :args (<a href="COMMON-LISP____LIST.html">list</a> ctrl-expr |*sized-1'bz*|
                          (<a href="VL2014____MAKE-VL-NONATOM.html">make-vl-nonatom</a> :op :vl-unary-bitor
                                           :args (<a href="COMMON-LISP____LIST.html">list</a> data-expr)
                                           :finalwidth 1
                                           :finaltype :vl-unsigned))
              :finalwidth 1
              :finaltype :vl-unsigned)
         :loc *vl-fakeloc*)))
  (<a href="ACL2____HONS-COPY.html">hons-copy</a>
       (<a href="VL2014____MAKE-VL-MODULE.html">make-vl-module</a>
            :name name
            :origname name
            :ports (<a href="COMMON-LISP____LIST.html">list</a> out-port data-port ctrl-port)
            :portdecls (<a href="COMMON-LISP____LIST.html">list</a> out-portdecl
                             data-portdecl ctrl-portdecl)
            :vardecls (<a href="COMMON-LISP____LIST.html">list</a> out-vardecl data-vardecl ctrl-vardecl)
            :assigns (<a href="COMMON-LISP____LIST.html">list</a> assign)
            :minloc *vl-fakeloc*
            :maxloc *vl-fakeloc*
            :atts atts
            :esim acl2::*esim-bufif0*))))</pre> 
 

</body>
</html>
