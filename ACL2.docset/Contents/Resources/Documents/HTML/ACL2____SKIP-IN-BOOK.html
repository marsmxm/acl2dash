<html>
<head>
<meta charset="UTF-8">
<title>Skip-in-book</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SKIP-IN-BOOK">Click for Skip-in-book in the Full Manual</a></h3>

<p>Skip a form when executing <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> or <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span></p><p>The utility <span class="v">skip-in-book</span> takes a single argument, which is a 
 form to be evaluated except during a call of <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> or <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span>.  Thus, by placing an expression <span class="v">(<a href="ACL2____SKIP-IN-BOOK.html">skip-in-book</a> &lt;form&gt;)</span> in a 
 book, say <span class="v">foo.lisp</span>, you are arranging that evaluation of <span class="v">&lt;form&gt;</span> is 
 skipped when certifying or including <span class="v">foo.lisp</span>.  However, <span class="v">&lt;form&gt;</span> will 
 be evaluated if you submit <span class="v">(<a href="ACL2____SKIP-IN-BOOK.html">skip-in-book</a> &lt;form&gt;)</span> to the top-level loop, 
 for example by evaluating <span class="v">(<a href="ACL2____LD.html">ld</a> "foo.lisp")</span>.</p> 
 
 <p>(Technically, the criterion for skipping the form is that either some book 
 is being certified or <span class="v">(<a href="ACL2____LD-SKIP-PROOFSP.html">ld-skip-proofsp</a> state)</span> is <span class="v">'include-book</span>.  The 
 latter holds when including a book, whether certified or not.)</p> 
 
 <p>To use this utility, you must both include the book in which it is defined 
 and then <i>install</i> it, as follows.</p> 
 
 <pre class="code">(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "kestrel/utilities/skip-in-book" :dir :system)
(<a href="ACL2____INSTALL-SKIP-IN-BOOK.html">install-skip-in-book</a>)</pre> 
 
 <p>Let us consider an example in which the contents of the book <span class="v">foo.lisp</span> 
 are as follows.</p> 
 
 <pre class="code">(<a href="COMMON-LISP____IN-PACKAGE.html">in-package</a> "ACL2")

(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "kestrel/utilities/skip-in-book" :dir :system)
(<a href="ACL2____INSTALL-SKIP-IN-BOOK.html">install-skip-in-book</a>)

(<a href="COMMON-LISP____DEFUN.html">defun</a> good-fn (x)
  (<a href="COMMON-LISP____CONS.html">cons</a> x x))

(<a href="ACL2____SKIP-IN-BOOK.html">skip-in-book</a>
 (<a href="COMMON-LISP____DEFUN.html">defun</a> bad-fn (x)
   (<a href="COMMON-LISP____CONS.html">cons</a> x x)))

(<a href="ACL2____SKIP-IN-BOOK.html">skip-in-book</a>
 (<a href="ACL2____SET-GUARD-CHECKING.html">set-guard-checking</a> nil))</pre> 
 
 <p>When you certify or include this book, the last two forms will be skipped, 
 and thus <span class="v">bad-fn</span> will not be defined and guard-checking will be unchanged. 
 But when you execute <span class="v">(<a href="ACL2____LD.html">ld</a> "foo.lisp")</span>, you will be defining <span class="v">bad-fn</span> 
 and also you will see that guard-checking has transitioned to <span class="v">nil</span>.</p>
</body>
</html>
