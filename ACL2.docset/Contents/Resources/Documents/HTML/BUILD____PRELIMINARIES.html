<html>
<head>
<meta charset="UTF-8">
<title>Preliminaries</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=BUILD____PRELIMINARIES">Click for Preliminaries in the Full Manual</a></h3>

<p>Where to find <span class="v">cert.pl</span>, how to set up your environment before 
using it, and the supporting software you'll need.</p><h3>Prerequisite Software</h3> 
 
<p>We assume that you have a basic, sensible Unix environment; Windows users 
should see <a href="BUILD____CERT-PL-ON-WINDOWS.html">cert-pl-on-windows</a>.</p> 
 
<p>We assume that you have <a href="http://www.gnu.org/software/make/" target="_blank"><nobr>GNU 
Make<img src="../Icon_External_Link.png" title="External link to http://www.gnu.org/software/make/"></nobr></a> installed and available as <span class="v">make</span> in your <span class="v">$PATH</span>.  Some 
operating systems (e.g., FreeBSD) use a non-GNU make by default.  You can check 
your copy by running <span class="v">make --version</span>; it should say something like "GNU 
Make 3.81."</p> 
 
<p>We assume you have <a href="http://www.perl.org/" target="_blank"><nobr>Perl<img src="../Icon_External_Link.png" title="External link to http://www.perl.org/"></nobr></a> installed, and 
that your <span class="v">perl</span> executable is in your <span class="v">$PATH</span>.</p> 
 
<p>We assume you have <a href="http://www.cs.utexas.edu/~moore/acl2/" target="_blank"><nobr>ACL2<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/~moore/acl2/"></nobr></a> 
or one of its variants like ACL2(p) or ACL2(r) installed, and that 
you know how to launch ACL2usually with a script named <span class="v">saved_acl2</span> 
or similar.</p> 
 
<p>We assume you have a copy of the ACL2 <a href="https://code.google.com/p/acl2-books/" target="_blank"><nobr>Community Books<img src="../Icon_External_Link.png" title="External link to https://code.google.com/p/acl2-books/"></nobr></a> for your 
version of ACL2; they are usually put in <span class="v">acl2/books</span>.</p> 
 
 
<h3>Adding <span class="v">cert.pl</span> to your <span class="v">$PATH</span>
</h3> 
 
<p>To make running <span class="v">cert.pl</span> more convenient, it's a good idea to have it 
accessible in your <span class="v">$PATH</span>.  The <span class="v">cert.pl</span> script and related tools like 
<span class="v">critpath.pl</span> and <span class="v">clean.pl</span> are found in the <span class="v">build</span> directory of the 
Community Books.</p> 
 
<ul> 
 
<li>We recommend that you edit your startup scripts (e.g., <span class="v">.bashrc</span> or 
similar) to add <span class="v">acl2/books/build</span> to your <span class="v">$PATH</span>.</li> 
 
<li>You could alternately set up symlinks to <span class="v">acl2/books/build/cert.pl</span> and 
the other scripts from a directory that is already in your path, for instance, 
<span class="v">~/bin</span> is commonly used for this.</li> 
 
</ul> 
 
<p>To test that this is working, you can run <span class="v">cert.pl --help</span>.  It should 
print a usage message, e.g.,:</p> 
 
<pre class="code">$ cert.pl --help

cert.pl: Automatic dependency analysis for certifying ACL2 books.

Usage:
perl cert.pl &lt;options, targets&gt;
...</pre> 
 
 
<h3>Helping <span class="v">cert.pl</span> find ACL2 and the community books</h3> 
 
<p>It is convenient for <span class="v">cert.pl</span> to "just know" where your copy of ACL2 
is located.</p> 
 
<ul> 
 
<li>We recommend that you configure your <span class="v">$PATH</span> so that running <span class="v">acl2</span> 
will invoke ACL2.  You could do this by adding a symlink to your 
<span class="v">saved_acl2</span> script, named <span class="v">acl2</span>, to a directory like <span class="v">~/bin</span>.</li> 
 
<li>Alternately, you may set the environment variable <span class="v">$ACL2</span> to point to 
your ACL2 executable.  For instance, you might add something like the following 
to your <span class="v">.bashrc</span> or similar: 
 
<pre class="code">export ACL2=/path/to/acl2/saved_acl2</pre> 
 
This takes precedence over an executable named <span class="v">acl2</span> in your <span class="v">$PATH</span>, if 
one exists.</li> 
 
</ul> 
 
<p>A third option is to tell <span class="v">cert.pl</span> explicitly which ACL2 you would like 
it to use, by using the <span class="v">--acl2</span> or <span class="v">-a</span> flag:</p> 
 
<pre class="code">$ cert.pl -a /path/to/acl2/saved_acl2 [...]</pre> 
 
<p>This takes precedence over both the environment variable and any <span class="v">acl2</span> 
in your <span class="v">$PATH</span>.</p> 
 
<p>To ensure that <span class="v">cert.pl</span> is properly detecting your copy of ACL2, you can 
run <span class="v">cert.pl</span> with no arguments.  The output should look something like 
this:</p> 
 
<pre class="code">$ cert.pl
ACL2 executable is /home/jared/acl2/saved_acl2
System books directory is /home/jared/acl2/books
...</pre> 
 
<p>Please check that <b>both</b> the ACL2 executable and your <span class="v">books</span> 
directory are correctly detected.  If the books directory is not correct, you 
may need to help <span class="v">cert.pl</span> find it by setting another environment variable, 
e.g.,</p> 
 
<pre class="code">export ACL2_SYSTEM_BOOKS=/home/jared/acl2/books</pre> 
 
<p>Alternatively, you can tell <span class="v">cert.pl</span> explicitly which books directory 
you would like it to use, by using the <span class="v">--acl2-books</span> or <span class="v">-b</span> flag:</p> 
 
<pre class="code">$ cert.pl -b /home/jared/acl2/books [...]</pre> 
 
<p>This takes precedence over the environment variable.</p> 
 
<p>At this point, <span class="v">cert.pl</span> should be configured properly and ready to 
use.</p> 
 
<p>Incidentally, if <span class="v">cert.pl</span> cannot determine the location of the books 
directory from one of the above two directives, it will first try to find a 
<span class="v">books</span> directory alongside the ACL2 executable.  If this fails, it will run 
the ACL2 executable and ask it for the value of the global variable 
<span class="v">system-books-dir</span>.  If the response it receives does not point to a 
directory that exists on the filesystem, <span class="v">cert.pl</span> finally chooses the 
parent directory of its own location.</p>
</body>
</html>
