<html>
<head>
<meta charset="UTF-8">
<title>Atj-post-translation-lift-loop-tests</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-POST-TRANSLATION-LIFT-LOOP-TESTS">Click for Atj-post-translation-lift-loop-tests in the Full Manual</a></h3>

<p>Post-translation step: 
          lifting to loop tests.</p><p>The <a href="JAVA____ATJ-POST-TRANSLATION-TAILREC-ELIMINATION.html">tail recursion elimination step</a> produces method bodies of the form <span class="v">while (true) { ... }</span>. 
     When the body of the <span class="v">while</span> is an <span class="v">if</span> 
     one of whose branches is a <span class="v">return</span>, 
     then it is possible to lift the <span class="v">if</span> tests to the loop test, 
     moving the <span class="v">return</span> after the loop.</p><p>More precisely, if the method body has the form</p><pre class="code">while (true) {
    if (&lt;test&gt;) {
        return &lt;expr&gt;;
    } else {
        ...
    }
}</pre><p>it can be turned into</p><pre class="code">while (!&lt;test&gt;) {
    ...
}
return &lt;expr&gt;;</pre><p>Simillarly, if the method body has the form</p><pre class="code">while (true) {
    if (&lt;test&gt;) {
        ....
    } else {
        return &lt;expr&gt;;
    }
}</pre><p>it can be turned into</p><pre class="code">while (&lt;test&gt;) {
    ...
}
return &lt;expr&gt;;</pre><p>This post-translation step performs these transformations, 
     which produce more idiomatic looping code. 
     It should be possible to extend the scope of this post-translation step, 
     e.g. to cases in which the <span class="v">return</span> is preceded by some statements.</p>
</body>
</html>
