<html>
<head>
<meta charset="UTF-8">
<title>Vl-maybe-parse-base-primary</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL____VL-MAYBE-PARSE-BASE-PRIMARY">Click for Vl-maybe-parse-base-primary in the Full Manual</a></h3>

<p>Match basic, atomic kinds of <span class="v">primary</span> expressions, such as 
<span class="v">primary_literal</span>, <span class="v">this</span>, <span class="v">$</span>, and <span class="v">null</span>, returns a <a href="VL____VL-EXPR-P.html">vl-expr-p</a>.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-maybe-parse-base-primary &amp;key (tokstream 'tokstream) 
                             (config 'config)) 
 
  → 
(mv errmsg? value new-tokstream)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">config</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-LOADCONFIG-P.html">vl-loadconfig-p</a> config)</span>.</font>
</dd> 
 
</dl></div> 
<p>In SystemVerilog-2012, we have:</p> 
 
<pre class="code">primary ::= primary_literal
          | 'this'
          | '$'
          | 'null'
          | ... other, more complex things ...

primary_literal ::= number
                  | time_literal
                  | unbased_unsized_literal
                  | string_literal

number ::= integral_number
         | real_number

integral_number ::= decimal_number
                  | octal_number
                  | binary_number
                  | hex_number</pre> 
 
<p>This is very similar to the <span class="v">primary</span> production in Verilog-2005:</p> 
 
<pre class="code">primary ::= number
          | string
          | ... other, more complex things ...

number ::= decimal_number
         | octal_number
         | binary_number
         | hex_number
         | real_number</pre> 
 
<p>We ignore the "other, more complex things" here, and just focus on the 
simple primaries.  Aside from some minor lexical differences at the tips which 
are handled by the <a href="VL____LEXER.html">lexer</a> (see for instance <a href="VL____LEX-STRINGS.html">lex-strings</a> and <a href="VL____LEX-NUMBERS.html">lex-numbers</a>) the main difference here is that SystemVerilog adds time 
literals, unbased unsized literals, <span class="v">this</span>, <span class="v">$</span>, and <span class="v">null</span>.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-maybe-parse-base-primary-fn</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 vl-maybe-parse-base-primary-fn
 (tokstream config)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (tokstream)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="VL____VL-LOADCONFIG-P.html">vl-loadconfig-p</a> config)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> config))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'vl-maybe-parse-base-primary))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="VL____SEQ.html">seq</a>
   tokstream
   (linestart := (<a href="VL____VL-LINESTART-INDENT.html">vl-linestart-indent</a>))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-inttoken)
    (int := (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
         (<a href="VL____MAKE-VL-LITERAL.html">make-vl-literal</a>
              :val (<a href="VL____VL-MAKE-GUTS-FROM-INTTOKEN.html">vl-make-guts-from-inttoken</a> int)
              :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil))))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-realtoken)
    (<a href="COMMON-LISP____REAL.html">real</a> := (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
     (<a href="ACL2____B_A2.html">b*</a>
        ((<a href="ACL2____VALUE.html">value</a> (<a href="VL____VL-ECHARLIST-_E3STRING.html">vl-echarlist-&gt;string</a> (<a href="VL____VL-REALTOKEN-_E3ETEXT.html">vl-realtoken-&gt;etext</a> real))))
        (<a href="VL____MAKE-VL-LITERAL.html">make-vl-literal</a>
             :val (<a href="VL____MAKE-VL-REAL.html">make-vl-real</a> :value value)
             :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil)))))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-stringtoken)
    (str := (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
     (<a href="ACL2____B_A2.html">b*</a>
        ((<a href="ACL2____VALUE.html">value</a> (<a href="VL____VL-STRINGTOKEN-_E3EXPANSION.html">vl-stringtoken-&gt;expansion</a> str)))
        (<a href="VL____MAKE-VL-LITERAL.html">make-vl-literal</a>
             :val (<a href="VL____MAKE-VL-STRING.html">make-vl-string</a> :value value)
             :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil)))))
   (when (<a href="COMMON-LISP____EQ.html">eq</a> (<a href="VL____VL-LOADCONFIG-_E3EDITION.html">vl-loadconfig-&gt;edition</a> config)
             :verilog-2005)
         (return nil))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-extinttoken)
    (ext := (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
     (<a href="ACL2____B_A2.html">b*</a>
        ((<a href="ACL2____VALUE.html">value</a> (<a href="VL____VL-EXTINTTOKEN-_E3VALUE.html">vl-extinttoken-&gt;value</a> ext)))
        (<a href="VL____MAKE-VL-LITERAL.html">make-vl-literal</a>
             :val (<a href="VL____MAKE-VL-EXTINT.html">make-vl-extint</a> :value value)
             :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil)))))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-timetoken)
    (time := (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
     (<a href="ACL2____B_A2.html">b*</a>
        (((<a href="VL____VL-TIMETOKEN.html">vl-timetoken</a> time) time))
        (<a href="VL____MAKE-VL-LITERAL.html">make-vl-literal</a>
             :val (<a href="VL____MAKE-VL-TIME.html">make-vl-time</a> :quantity time.quantity
                                :units time.units)
             :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil)))))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-kwd-null)
    (:= (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
     (<a href="ACL2____HONS-COPY.html">hons-copy</a>
        (<a href="VL____MAKE-VL-SPECIAL.html">make-vl-special</a>
             :key :vl-null
             :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil)))))
   (when
    (<a href="VL____VL-IS-TOKEN_F3.html">vl-is-token?</a> :vl-$)
    (:= (<a href="VL____VL-MATCH.html">vl-match</a>))
    (return
     (<a href="ACL2____HONS-COPY.html">hons-copy</a>
        (<a href="VL____MAKE-VL-SPECIAL.html">make-vl-special</a>
             :key :vl-$
             :atts (<a href="VL____VL-EXTEND-ATTS-WITH-LINESTART.html">vl-extend-atts-with-linestart</a> linestart nil)))))
   (return nil))))</pre> 
<p><b>Theorem: </b>vl-maybe-parse-base-primary-never-fails</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> vl-maybe-parse-base-primary-never-fails
        (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>))))</pre> 
<p><b>Theorem: </b>vl-maybe-parse-base-primary-result</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   vl-maybe-parse-base-primary-result
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 0 (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>)))
             (<a href="COMMON-LISP____AND.html">and</a> t))
        (<a href="VL____VL-MAYBE-EXPR-P.html">vl-maybe-expr-p</a> (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>)))))</pre> 
<p><b>Theorem: </b>vl-maybe-parse-base-primary-count-strong-on-value</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 vl-maybe-parse-base-primary-count-strong-on-value
 (<a href="COMMON-LISP____AND.html">and</a>
   (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> (vl-tokstream-measure
            :tokstream (<a href="ACL2____MV-NTH.html">mv-nth</a> 2 (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>)))
       (vl-tokstream-measure))
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="ACL2____MV-NTH.html">mv-nth</a> 1 (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>))
        (<a href="COMMON-LISP_____C3.html">&lt;</a> (vl-tokstream-measure
                :tokstream (<a href="ACL2____MV-NTH.html">mv-nth</a> 2 (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>)))
           (vl-tokstream-measure))))
 :rule-classes ((:rewrite) (:linear)))</pre> 
<p><b>Theorem: </b>tokens-nonempty-when-vl-maybe-parse-base-primary</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> tokens-nonempty-when-vl-maybe-parse-base-primary
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?errmsg val ?new-tokstream)
              (<a href="VL____VL-MAYBE-PARSE-BASE-PRIMARY.html">vl-maybe-parse-base-primary</a>)))
            (<a href="ACL2____IMPLIES.html">implies</a> val (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="VL____VL-TOKSTREAM-_E3TOKENS.html">vl-tokstream-&gt;tokens</a>)))))</pre> 

</body>
</html>
