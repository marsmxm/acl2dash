<html>
<head>
<meta charset="UTF-8">
<title>Vl-preprocess-loop</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL____VL-PREPROCESS-LOOP">Click for Vl-preprocess-loop in the Full Manual</a></h3>

<p>Main loop for the preprocessor.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-preprocess-loop echars n ppst state) 
  → 
(mv successp remainder ppst state)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">echars</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-ECHARLIST-P.html">vl-echarlist-p</a> echars)</span>.</font>
</dd> 
  <dd>
<span class="tt">n</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____NATP.html">natp</a> n)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">successp</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> successp)</span>.</font>
</dd> 
<dd>
<span class="tt">remainder</span> — <font color="#606060">Type <span class="v">(<a href="VL____VL-ECHARLIST-P.html">vl-echarlist-p</a> remainder)</span>.</font>
</dd> 
 
</dl></div> 
<p>We accumulate the transformed characters that are to be given to 
  the lexer into acc, in reverse order.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-preprocess-loop</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 vl-preprocess-loop (echars n ppst state)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="VL____PPST.html">ppst</a> state)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="VL____VL-ECHARLIST-P.html">vl-echarlist-p</a> echars) (<a href="ACL2____NATP.html">natp</a> n))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'vl-preprocess-loop))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   ((echars (<a href="VL____VL-ECHARLIST-FIX.html">vl-echarlist-fix</a> echars))
    ((when (<a href="COMMON-LISP____ATOM.html">atom</a> echars))
     (<a href="ACL2____MV.html">mv</a> t echars ppst state))
    (echar1 (<a href="COMMON-LISP____CAR.html">car</a> echars))
    (char1 (<a href="VL____VL-ECHAR-_E3CHAR.html">vl-echar-&gt;char</a> echar1))
    ((when (<a href="ACL2____ZP.html">zp</a> n))
     (<a href="COMMON-LISP____LET.html">let</a>
      ((<a href="VL____PPST.html">ppst</a>
        (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a>
         :msg
         "~a0: ran out of steps. Macro expansion or file ~
                           inclusion loop?"
         :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)))))
      (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
    ((when (<a href="COMMON-LISP____EQL.html">eql</a> char1 #\"))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> string prefix remainder)
           (<a href="VL____VL-READ-STRING.html">vl-read-string</a> echars
                           (<a href="VL____VL-LEXSTATE-INIT.html">vl-lexstate-init</a> (<a href="VL____VL-PPST-_E3CONFIG.html">vl-ppst-&gt;config</a>))))
          ((unless string)
           (<a href="ACL2____MV.html">mv</a> nil echars ppst state))
          (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-MAYBE-WRITE.html">vl-ppst-maybe-write</a> prefix)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQL.html">eql</a> char1 #\\))
     (<a href="ACL2____B_A2.html">b*</a>
      (((<a href="ACL2____MV.html">mv</a> name prefix remainder)
        (<a href="VL____VL-READ-ESCAPED-IDENTIFIER.html">vl-read-escaped-identifier</a> echars))
       ((unless name)
        (<a href="COMMON-LISP____LET.html">let</a>
         ((<a href="VL____PPST.html">ppst</a>
               (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a> :msg "~a0: stray backslash?"
                              :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)))))
         (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-MAYBE-WRITE.html">vl-ppst-maybe-write</a> prefix)))
      (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (acl2::and** (<a href="COMMON-LISP____EQL.html">eql</a> char1 #\/)
                        (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="COMMON-LISP____CDR.html">cdr</a> echars))
                        (<a href="COMMON-LISP____EQL.html">eql</a> (<a href="VL____VL-ECHAR-_E3CHAR.html">vl-echar-&gt;char</a> (<a href="COMMON-LISP____SECOND.html">second</a> echars))
                             #\/)))
     (<a href="COMMON-LISP____IF.html">if</a>
      (<a href="VL____VL-MATCHES-STRING-P.html">vl-matches-string-p</a> "@VL" (<a href="COMMON-LISP____CDDR.html">cddr</a> echars))
      (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> atts-text remainder)
            (<a href="VL____VL-ATVL-ATTS-TEXT.html">vl-atvl-atts-text</a> echars))
           (atts (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="VL____VL-ECHARLIST-FROM-STR.html">vl-echarlist-from-str</a> "(*")
                         atts-text
                         (<a href="VL____VL-ECHARLIST-FROM-STR.html">vl-echarlist-from-str</a> "*)"))))
          (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> (<a href="COMMON-LISP____APPEND.html">append</a> atts remainder)
                              (<a href="COMMON-LISP____-.html">-</a> n 1)
                              ppst state))
      (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> &amp; prefix remainder)
            (<a href="VL____VL-READ-UNTIL-LITERAL.html">vl-read-until-literal</a> *nls* (<a href="COMMON-LISP____CDDR.html">cddr</a> echars)))
           ((when (<a href="VL____VL-MATCHES-STRING-P.html">vl-matches-string-p</a> "+VL" prefix))
            (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="ACL2____REST-N.html">rest-n</a> 3 prefix) remainder)
                                (<a href="COMMON-LISP____-.html">-</a> n 1)
                                ppst state))
           (prefix (<a href="COMMON-LISP____LIST_A2.html">list*</a> (<a href="COMMON-LISP____FIRST.html">first</a> echars)
                          (<a href="COMMON-LISP____SECOND.html">second</a> echars)
                          prefix))
           (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-MAYBE-WRITE.html">vl-ppst-maybe-write</a> prefix)))
          (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state))))
    ((when (acl2::and** (<a href="COMMON-LISP____EQL.html">eql</a> char1 #\/)
                        (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="COMMON-LISP____CDR.html">cdr</a> echars))
                        (<a href="COMMON-LISP____EQL.html">eql</a> (<a href="VL____VL-ECHAR-_E3CHAR.html">vl-echar-&gt;char</a> (<a href="COMMON-LISP____SECOND.html">second</a> echars))
                             #\*)))
     (<a href="ACL2____B_A2.html">b*</a>
      (((<a href="ACL2____MV.html">mv</a> successp prefix remainder)
        (<a href="VL____VL-READ-THROUGH-LITERAL.html">vl-read-through-literal</a> "*/" (<a href="COMMON-LISP____CDDR.html">cddr</a> echars)))
       ((unless successp)
        (<a href="COMMON-LISP____LET.html">let</a>
         ((<a href="VL____PPST.html">ppst</a>
           (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a> :msg "~a0: block comment is never closed."
                          :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)))))
         (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
       ((when (<a href="VL____VL-MATCHES-STRING-P.html">vl-matches-string-p</a> "+VL" prefix))
        (<a href="ACL2____B_A2.html">b*</a> ((body (<a href="COMMON-LISP____BUTLAST.html">butlast</a> (<a href="ACL2____REST-N.html">rest-n</a> 3 prefix) 2)))
            (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> (<a href="COMMON-LISP____APPEND.html">append</a> body remainder)
                                (<a href="COMMON-LISP____-.html">-</a> n 1)
                                ppst state)))
       ((when (<a href="VL____VL-MATCHES-STRING-P.html">vl-matches-string-p</a> "@VL" prefix))
        (<a href="ACL2____B_A2.html">b*</a> ((body (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="VL____VL-ECHARLIST-FROM-STR.html">vl-echarlist-from-str</a> "(*")
                           (<a href="COMMON-LISP____BUTLAST.html">butlast</a> (<a href="ACL2____REST-N.html">rest-n</a> 3 prefix) 2)
                           (<a href="VL____VL-ECHARLIST-FROM-STR.html">vl-echarlist-from-str</a> "*)"))))
            (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> (<a href="COMMON-LISP____APPEND.html">append</a> body remainder)
                                (<a href="COMMON-LISP____-.html">-</a> n 1)
                                ppst state)))
       (prefix (<a href="COMMON-LISP____LIST_A2.html">list*</a> (<a href="COMMON-LISP____FIRST.html">first</a> echars)
                      (<a href="COMMON-LISP____SECOND.html">second</a> echars)
                      prefix))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-MAYBE-WRITE.html">vl-ppst-maybe-write</a> prefix)))
      (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((unless (<a href="COMMON-LISP____EQL.html">eql</a> char1 #\`))
     (<a href="ACL2____B_A2.html">b*</a> ((<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-MAYBE-WRITE1.html">vl-ppst-maybe-write1</a> (<a href="COMMON-LISP____CAR.html">car</a> echars))))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> (<a href="COMMON-LISP____CDR.html">cdr</a> echars)
                             n ppst state)))
    ((<a href="ACL2____MV.html">mv</a> &amp; remainder)
     (vl-read-while-whitespace (<a href="COMMON-LISP____CDR.html">cdr</a> echars)))
    ((<a href="ACL2____MV.html">mv</a> directive prefix remainder)
     (vl-read-identifier remainder))
    ((unless directive)
     (<a href="COMMON-LISP____LET.html">let</a>
        ((<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a> :msg "~a0: stray ` character."
                              :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)))))
        (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
    ((unless (<a href="VL____VL-IS-COMPILER-DIRECTIVE-P.html">vl-is-compiler-directive-p</a> directive))
     (<a href="ACL2____B_A2.html">b*</a>
      ((activep (<a href="VL____VL-PPST-_E3ACTIVEP.html">vl-ppst-&gt;activep</a>))
       (<a href="VL____PPST.html">ppst</a>
            (<a href="VL____VL-PPST-RECORD-DEF-USE.html">vl-ppst-record-def-use</a>
                 directive
                 (<a href="VL____MAKE-VL-DEF-CONTEXT.html">make-vl-def-context</a> :activep activep
                                      :loc (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1))))
       ((unless (<a href="VL____VL-PPST-_E3ACTIVEP.html">vl-ppst-&gt;activep</a>))
        (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state))
       ((<a href="ACL2____MV.html">mv</a> successp expansion ppst)
        (<a href="VL____VL-EXPAND-DEFINE.html">vl-expand-define</a> directive
                          remainder (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                          ppst))
       ((unless successp)
        (<a href="ACL2____MV.html">mv</a> nil expansion ppst state)))
      (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> expansion (<a href="COMMON-LISP____-.html">-</a> n 1)
                          ppst state)))
    ((when (<a href="COMMON-LISP____EQL.html">eql</a> (<a href="VL____VL-ECHAR-_E3CHAR.html">vl-echar-&gt;char</a> (<a href="COMMON-LISP____CAR.html">car</a> prefix)) #\\))
     (<a href="COMMON-LISP____LET.html">let</a>
      ((<a href="VL____PPST.html">ppst</a>
         (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a> :msg "~a0: we do not allow the use of \\~s1."
                        :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                                    directive))))
      (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
    ((when (acl2::or** (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "define")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "centaur_define")))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> successp remainder ppst)
           (<a href="VL____VL-PROCESS-DEFINE.html">vl-process-define</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                              remainder ppst))
          ((unless successp)
           (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "undef"))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> successp remainder ppst)
           (<a href="VL____VL-PROCESS-UNDEF.html">vl-process-undef</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                             remainder ppst))
          ((unless successp)
           (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (acl2::or** (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "ifdef")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "ifndef")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "elsif")))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> successp remainder ppst)
           (<a href="VL____VL-PROCESS-IFDEF.html">vl-process-ifdef</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                             directive remainder ppst))
          ((unless successp)
           (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "else"))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> successp ppst)
           (<a href="VL____VL-PROCESS-ELSE.html">vl-process-else</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                            ppst))
          ((unless successp)
           (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "endif"))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> successp ppst)
           (<a href="VL____VL-PROCESS-ENDIF.html">vl-process-endif</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                             remainder ppst))
          ((unless successp)
           (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "include"))
     (<a href="ACL2____B_A2.html">b*</a>
      (((unless (<a href="VL____VL-PPST-_E3ACTIVEP.html">vl-ppst-&gt;activep</a>))
        (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state))
       ((<a href="ACL2____MV.html">mv</a> &amp; include-line rest-of-file)
        (<a href="VL____VL-READ-UNTIL-LITERAL.html">vl-read-until-literal</a> *nls* remainder))
       (saved (<a href="VL____VL-SAVE-PPST.html">vl-save-ppst</a>))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-ACC.html">vl-ppst-update-acc</a> nil))
       ((<a href="ACL2____MV.html">mv</a> okp ?include-line-remainder ppst state)
        (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> include-line (<a href="COMMON-LISP____-.html">-</a> n 1)
                            ppst state))
       ((<a href="VL____VL-SAVED-PPST.html">vl-saved-ppst</a> post) (<a href="VL____VL-SAVE-PPST.html">vl-save-ppst</a>))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-RESTORE-PPST.html">vl-restore-ppst</a> saved))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-DEFINES.html">vl-ppst-update-defines</a> post.defines))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-FILEMAP.html">vl-ppst-update-filemap</a> post.filemap))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-ISKIPS.html">vl-ppst-update-iskips</a> post.iskips))
       ((unless okp)
        (<a href="COMMON-LISP____LET.html">let</a>
         ((<a href="VL____PPST.html">ppst</a>
           (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a>
             :msg
             "~a0: failed to preprocess rest of `include line: ~s1."
             :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                         include-line))))
         (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
       ((<a href="VL____VL-LOADCONFIG.html">vl-loadconfig</a> config)
        (<a href="VL____VL-PPST-_E3CONFIG.html">vl-ppst-&gt;config</a>))
       ((<a href="ACL2____MV.html">mv</a> filename &amp; rest-of-line ppst)
        (<a href="VL____VL-READ-INCLUDE.html">vl-read-include</a> (<a href="ACL2____REV.html">rev</a> post.acc) ppst))
       ((unless filename)
        (<a href="ACL2____MV.html">mv</a> nil echars ppst state))
       ((<a href="ACL2____MV.html">mv</a> realfile state)
        (<a href="ACL2____TIME_42.html">time$</a> (<a href="VL____VL-FIND-FILE.html">vl-find-file</a> filename (<a href="VL____VL-PPST-_E3IDCACHE.html">vl-ppst-&gt;idcache</a>)
                             state)
               :msg "~s0: (find ~s1: ~st sec, ~sa bytes)~%"
               :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-PPST-PAD.html">vl-ppst-pad</a>) filename)
               :mintime config.mintime))
       ((unless realfile)
        (<a href="COMMON-LISP____LET.html">let</a>
         ((<a href="VL____PPST.html">ppst</a>
           (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a>
            :msg
            "~a0: unable to find ~s1.  The include ~
                                 directories are ~&amp;2."
            :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                        filename config.include-dirs))))
         (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
       (controller (<a href="VL____VL-INCLUDESKIPS-CONTROLLER-LOOKUP.html">vl-includeskips-controller-lookup</a>
                        realfile (<a href="VL____VL-PPST-_E3ISKIPS.html">vl-ppst-&gt;iskips</a>)))
       ((when
         (acl2::and**
            controller
            (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="VL____VL-FIND-DEFINE.html">vl-find-define</a> controller (<a href="VL____VL-PPST-_E3DEFINES.html">vl-ppst-&gt;defines</a>)))))
        (<a href="ACL2____B_A2.html">b*</a> ((iskips (<a href="VL____VL-INCLUDESKIPS-RECORD-HIT.html">vl-includeskips-record-hit</a>
                          realfile (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                          (<a href="VL____VL-PPST-_E3ISKIPS.html">vl-ppst-&gt;iskips</a>)))
             (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-ISKIPS.html">vl-ppst-update-iskips</a> iskips)))
            (cw-unformatted (<a href="STR____CAT.html">cat</a> (<a href="VL____VL-PPST-PAD.html">vl-ppst-pad</a>)
                                 " (skip " realfile ")" *nls*))
            (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> rest-of-file (<a href="COMMON-LISP____-.html">-</a> n 1)
                                ppst state)))
       (<a href="VL____PPST.html">ppst</a>
        (<a href="VL____VL-MAYBE-PPST-WARN.html">vl-maybe-ppst-warn</a>
         :when controller
         :type :vl-warn-include-guard
         :msg
         "~a0: multiple include optimization failure: the ~
                              controlling define ~s1 is not currently ~
                              defined, so we will have to re-include ~s2."
         :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                     controller realfile)))
       (current-includes (<a href="VL____VL-PPST-_E3INCLUDES.html">vl-ppst-&gt;includes</a>))
       (<a href="VL____PPST.html">ppst</a>
         (<a href="VL____VL-PPST-UPDATE-INCLUDES.html">vl-ppst-update-includes</a> (<a href="COMMON-LISP____CONS.html">cons</a> realfile current-includes)))
       (pad (<a href="VL____VL-PPST-PAD.html">vl-ppst-pad</a>))
       (<a href="COMMON-LISP____-.html">-</a> (cw-unformatted (<a href="STR____CAT.html">cat</a> pad realfile *nls*)))
       ((<a href="ACL2____MV.html">mv</a> okp contents len state)
        (<a href="ACL2____TIME_42.html">time$</a> (<a href="VL____VL-READ-FILE.html">vl-read-file</a> (<a href="VL____STRING-FIX.html">string-fix</a> realfile))
               :msg "~s0 (read: ~st sec, ~sa bytes)~%"
               :args (<a href="COMMON-LISP____LIST.html">list</a> pad)
               :mintime config.mintime))
       ((unless okp)
        (<a href="COMMON-LISP____LET.html">let</a>
            ((<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a> :msg "~a0: unable to read ~s1."
                                  :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                                              realfile))))
            (<a href="ACL2____MV.html">mv</a> nil echars ppst state)))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-BYTES.html">vl-ppst-update-bytes</a> (<a href="COMMON-LISP_____B2.html">+</a> (<a href="VL____VL-PPST-_E3BYTES.html">vl-ppst-&gt;bytes</a>) len)))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-MAYBE-UPDATE-FILEMAP.html">vl-maybe-update-filemap</a> realfile contents ppst))
       (<a href="VL____PPST.html">ppst</a> (<a href="ACL2____B_A2.html">b*</a> ((iskips (<a href="VL____VL-INCLUDESKIPS-RECORD-MISS.html">vl-includeskips-record-miss</a>
                               realfile (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                               len (<a href="VL____VL-PPST-_E3ISKIPS.html">vl-ppst-&gt;iskips</a>))))
                 (<a href="VL____VL-PPST-UPDATE-ISKIPS.html">vl-ppst-update-iskips</a> iskips)))
       ((<a href="ACL2____MV.html">mv</a> contents ppst)
        (<a href="VL____VL-MULTIPLE-INCLUDE-BEGIN.html">vl-multiple-include-begin</a> realfile contents ppst))
       ((<a href="ACL2____MV.html">mv</a> okp remainder ppst state)
        (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> contents (<a href="COMMON-LISP____-.html">-</a> n 1)
                            ppst state))
       ((unless okp)
        (<a href="ACL2____MV.html">mv</a> okp remainder ppst state))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-INCLUDES.html">vl-ppst-update-includes</a> current-includes))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-UPDATE-ACC.html">vl-ppst-update-acc</a>
                  (<a href="COMMON-LISP____REVAPPEND.html">revappend</a> rest-of-line (<a href="VL____VL-PPST-_E3ACC.html">vl-ppst-&gt;acc</a>)))))
      (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> rest-of-file (<a href="COMMON-LISP____-.html">-</a> n 1)
                          ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "timescale"))
     (<a href="ACL2____B_A2.html">b*</a> ((<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-MAYBE-WRITE.html">vl-ppst-maybe-write</a> (<a href="COMMON-LISP____CONS.html">cons</a> echar1 prefix))))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "__FILE__"))
     (<a href="ACL2____B_A2.html">b*</a>
      (((unless (<a href="VL____VL-PPST-_E3ACTIVEP.html">vl-ppst-&gt;activep</a>))
        (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state))
       ((<a href="VL____VL-LOCATION.html">vl-location</a> loc)
        (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1))
       (quoted-escaped-filename-str
            (<a href="VL____VL-FILENAME-TO-STRING-LITERAL.html">vl-filename-to-string-literal</a> loc.filename))
       (quoted-escaped-filename-echars
            (<a href="VL____VL-CHANGE-ECHARLIST-LOCATIONS.html">vl-change-echarlist-locations</a>
                 (<a href="VL____VL-ECHARLIST-FROM-STR.html">vl-echarlist-from-str</a> quoted-escaped-filename-str)
                 loc))
       (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-WRITE.html">vl-ppst-write</a> quoted-escaped-filename-echars)))
      (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "__LINE__"))
     (<a href="ACL2____B_A2.html">b*</a> (((unless (<a href="VL____VL-PPST-_E3ACTIVEP.html">vl-ppst-&gt;activep</a>))
           (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state))
          ((<a href="VL____VL-LOCATION.html">vl-location</a> loc)
           (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1))
          (line-str (natstr loc.line))
          (line-echars (<a href="VL____VL-CHANGE-ECHARLIST-LOCATIONS.html">vl-change-echarlist-locations</a>
                            (<a href="VL____VL-ECHARLIST-FROM-STR.html">vl-echarlist-from-str</a> line-str)
                            loc))
          (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-WRITE.html">vl-ppst-write</a> line-echars)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    ((when (acl2::or** (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "celldefine")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "endcelldefine")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "resetall")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "protect")
                       (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "endprotect")))
     (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state))
    ((when (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> directive "default_nettype")
                (<a href="COMMON-LISP____NOT.html">not</a> (<a href="VL____VL-PPST-_E3ACTIVEP.html">vl-ppst-&gt;activep</a>))))
     (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> &amp; ?prefix remainder)
           (<a href="VL____VL-READ-UNTIL-LITERAL.html">vl-read-until-literal</a> *nls* remainder)))
         (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> remainder n ppst state)))
    (<a href="VL____PPST.html">ppst</a> (<a href="VL____VL-PPST-FATAL.html">vl-ppst-fatal</a> :msg "~a0: we do not support `~s1."
                         :args (<a href="COMMON-LISP____LIST.html">list</a> (<a href="VL____VL-ECHAR-_E3LOC.html">vl-echar-&gt;loc</a> echar1)
                                     directive))))
   (<a href="ACL2____MV.html">mv</a> nil echars ppst state))))</pre> 
<p><b>Theorem: </b>booleanp-of-vl-preprocess-loop.successp</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> booleanp-of-vl-preprocess-loop.successp
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?successp ?remainder ?ppst acl2::?state)
              (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> echars n ppst state)))
            (<a href="ACL2____BOOLEANP.html">booleanp</a> successp))
        :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>vl-echarlist-p-of-vl-preprocess-loop.remainder</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> vl-echarlist-p-of-vl-preprocess-loop.remainder
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?successp ?remainder ?ppst acl2::?state)
              (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> echars n ppst state)))
            (<a href="VL____VL-ECHARLIST-P.html">vl-echarlist-p</a> remainder))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>state-p1-of-vl-preprocess-loop</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> state-p1-of-vl-preprocess-loop
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____FORCE.html">force</a> (state-p1 state))
                 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?successp ?echars ?ppst state)
                       (<a href="VL____VL-PREPROCESS-LOOP.html">vl-preprocess-loop</a> echars n ppst state)))
                     (state-p1 state))))</pre> 

</body>
</html>
