<html>
<head>
<meta charset="UTF-8">
<title>Er-progn</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____ER-PROGN">Click for Er-progn in the Full Manual</a></h3>

<p>Perform a sequence of state-changing ``error triples''</p><pre class="code">Example:
(<a href="ACL2____ER-PROGN.html">er-progn</a> (check-good-foo-p (<a href="ACL2____F-GET-GLOBAL.html">f-get-global</a> 'my-foo state) state)
          (<a href="ACL2____VALUE.html">value</a> (<a href="COMMON-LISP_____A2.html">*</a> (<a href="ACL2____F-GET-GLOBAL.html">f-get-global</a> 'my-foo state)
                    (<a href="ACL2____F-GET-GLOBAL.html">f-get-global</a> 'bar state))))</pre> 
 
 <p>This sequencing primitive is only useful when programming with <a href="ACL2____STATE.html">state</a>, something that very few users will probably want to do.  See <a href="ACL2____STATE.html">state</a>.</p> 
 
 <p><span class="v">Er-progn</span> is used much the way that <span class="tt"><a href="COMMON-LISP____PROGN.html">progn</a></span> is used in Common 
 Lisp, except that it expects each form within it to evaluate to an <a href="ACL2____ERROR-TRIPLE.html">error-triple</a> of the form <span class="v">(<a href="ACL2____MV.html">mv</a> erp val state)</span>.  The first such form, if 
 any, that evaluates to such a triple where <span class="v">erp</span> is not <span class="v">nil</span> yields the 
 error triple returned by the <span class="v">er-progn</span>.  If there is no such form, then 
 the <span class="v">er-progn</span> form returns the value of the last form.</p> 
 
 <pre class="code">General Form:
(<a href="ACL2____ER-PROGN.html">er-progn</a> &lt;expr1&gt; ... &lt;exprk&gt;)</pre> 
 
 <p>where each <span class="v">&lt;expri&gt;</span> is an expression that evaluates to an error triple 
 (see <a href="ACL2____PROGRAMMING-WITH-STATE.html">programming-with-state</a>).  The above form is essentially equivalent 
 to the following (``essentially'' because in fact, care is taken to avoid 
 variable capture).</p> 
 
 <pre class="code">(<a href="ACL2____MV-LET.html">mv-let</a> (erp val state)
        &lt;expr1&gt;
        (<a href="COMMON-LISP____COND.html">cond</a> (erp (<a href="ACL2____MV.html">mv</a> erp val state))
              (t (<a href="ACL2____MV-LET.html">mv-let</a> (erp val state)
                         &lt;expr2&gt;
                         (<a href="COMMON-LISP____COND.html">cond</a> (erp (<a href="ACL2____MV.html">mv</a> erp val state))
                               (t ...
                                      (<a href="ACL2____MV-LET.html">mv-let</a> (erp val state)
                                              &lt;expr{k-1}&gt;
                                              (<a href="COMMON-LISP____COND.html">cond</a> (erp (<a href="ACL2____MV.html">mv</a> erp val state))
                                                    (t &lt;exprk&gt;)))))))))</pre>
</body>
</html>
