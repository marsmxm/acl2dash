<html>
<head>
<meta charset="UTF-8">
<title>Add-var-to-var-renaming</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=YUL____ADD-VAR-TO-VAR-RENAMING">Click for Add-var-to-var-renaming in the Full Manual</a></h3>

<p>Add a variable to a variable renaming list.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(add-var-to-var-renaming old new ren) → new-ren</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">old</span> — <font color="#606060">Guard <span class="v">(<a href="YUL____IDENTIFIERP.html">identifierp</a> old)</span>.</font>
</dd> 
  <dd>
<span class="tt">new</span> — <font color="#606060">Guard <span class="v">(<a href="YUL____IDENTIFIERP.html">identifierp</a> new)</span>.</font>
</dd> 
  <dd>
<span class="tt">ren</span> — <font color="#606060">Guard <span class="v">(<a href="YUL____RENAMINGP.html">renamingp</a> ren)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">new-ren</span> — <font color="#606060">Type <span class="v">(<a href="YUL____RENAMING-RESULTP.html">renaming-resultp</a> new-ren)</span>.</font>
</dd> 
 
</dl></div> 
<p>We check that the old variable is not already a key in the alist, 
     and that the new variable is not already a value in the alist. 
     This is always the case when processing statically safe code, 
     because variables are addded to the renaming list as they get in scope, 
     and the static safety checks ensure that 
     only variables not in scope are added to the scope. 
     In fact, by checking this, 
     we are checking that the code does not shadow variables.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>add-var-to-var-renaming</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> add-var-to-var-renaming (old new ren)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____IDENTIFIERP.html">identifierp</a> old)
                                   (<a href="YUL____IDENTIFIERP.html">identifierp</a> new)
                                   (<a href="YUL____RENAMINGP.html">renamingp</a> ren))))
       (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'add-var-to-var-renaming))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
            (<a href="ACL2____B_A2.html">b*</a> ((old (<a href="YUL____IDENTIFIER-FIX.html">identifier-fix</a> old))
                 (new (<a href="YUL____IDENTIFIER-FIX.html">identifier-fix</a> new))
                 (<a href="COMMON-LISP____LIST.html">list</a> (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren))
                 ((when (<a href="ACL2____MEMBER-EQUAL.html">member-equal</a> old (<a href="ACL2____STRIP-CARS.html">strip-cars</a> list)))
                  (<a href="FTY____ERR.html">err</a> (<a href="COMMON-LISP____LIST.html">list</a> :old-var-already-in-scope
                             old new (<a href="YUL____RENAMING-FIX.html">renaming-fix</a> ren))))
                 ((when (<a href="ACL2____MEMBER-EQUAL.html">member-equal</a> new (<a href="ACL2____STRIP-CDRS.html">strip-cdrs</a> list)))
                  (<a href="FTY____ERR.html">err</a> (<a href="COMMON-LISP____LIST.html">list</a> :new-var-already-in-scope
                             old new (<a href="YUL____RENAMING-FIX.html">renaming-fix</a> ren)))))
                (<a href="YUL____RENAMING.html">renaming</a> (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old new) list)))))</pre> 
<p><b>Theorem: </b>renaming-resultp-of-add-var-to-var-renaming</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> renaming-resultp-of-add-var-to-var-renaming
        (<a href="ACL2____B_A2.html">b*</a> ((new-ren (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)))
            (<a href="YUL____RENAMING-RESULTP.html">renaming-resultp</a> new-ren))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>subsetp-equal-of-add-var-to-var-renaming</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> subsetp-equal-of-add-var-to-var-renaming
        (<a href="ACL2____B_A2.html">b*</a> ((ren1 (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)))
            (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> ren1))
                     (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren)
                                    (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren1)))))</pre> 
<p><b>Theorem: </b>renaming-old/new-of-add-var-to-var-renaming</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 renaming-old/new-of-add-var-to-var-renaming
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____IDENTIFIERP.html">identifierp</a> old-var)
       (<a href="YUL____IDENTIFIERP.html">identifierp</a> new-var))
  (<a href="ACL2____B_A2.html">b*</a> ((ren1 (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old-var new-var ren)))
      (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> ren1))
               (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____RENAMING-OLD.html">renaming-old</a> ren1)
                           (<a href="SET____INSERT.html">insert</a> old-var (<a href="YUL____RENAMING-OLD.html">renaming-old</a> ren)))
                    (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____RENAMING-NEW.html">renaming-new</a> ren1)
                           (<a href="SET____INSERT.html">insert</a> new-var (<a href="YUL____RENAMING-NEW.html">renaming-new</a> ren))))))))</pre> 
<p><b>Theorem: </b>var-renamevar-when-add-var-to-var-renaming</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     var-renamevar-when-add-var-to-var-renaming
     (<a href="ACL2____B_A2.html">b*</a> ((ren1 (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)))
         (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> ren1))
                  (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____VAR-RENAMEVAR.html">var-renamevar</a> old new ren1))))))</pre> 
<p><b>Theorem: </b>var-renamevar-of-add-var-to-var-renaming-when-var-renamevar</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   var-renamevar-of-add-var-to-var-renaming-when-var-renamevar
   (<a href="ACL2____B_A2.html">b*</a> ((ren1 (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old1 new1 ren)))
       (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> ren1))
                     (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____VAR-RENAMEVAR.html">var-renamevar</a> old new ren))))
                (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____VAR-RENAMEVAR.html">var-renamevar</a> old new ren1))))))</pre> 
<p><b>Theorem: </b>add-var-to-var-renaming-of-identifier-fix-old</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> add-var-to-var-renaming-of-identifier-fix-old
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> (<a href="YUL____IDENTIFIER-FIX.html">identifier-fix</a> old)
                                        new ren)
               (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)))</pre> 
<p><b>Theorem: </b>add-var-to-var-renaming-identifier-equiv-congruence-on-old</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     add-var-to-var-renaming-identifier-equiv-congruence-on-old
     (<a href="ACL2____IMPLIES.html">implies</a> (<a href="YUL____IDENTIFIER-EQUIV.html">identifier-equiv</a> old old-equiv)
              (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)
                     (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old-equiv new ren)))
     :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>add-var-to-var-renaming-of-identifier-fix-new</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> add-var-to-var-renaming-of-identifier-fix-new
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old (<a href="YUL____IDENTIFIER-FIX.html">identifier-fix</a> new)
                                        ren)
               (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)))</pre> 
<p><b>Theorem: </b>add-var-to-var-renaming-identifier-equiv-congruence-on-new</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     add-var-to-var-renaming-identifier-equiv-congruence-on-new
     (<a href="ACL2____IMPLIES.html">implies</a> (<a href="YUL____IDENTIFIER-EQUIV.html">identifier-equiv</a> new new-equiv)
              (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)
                     (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new-equiv ren)))
     :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>add-var-to-var-renaming-of-renaming-fix-ren</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> add-var-to-var-renaming-of-renaming-fix-ren
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new (<a href="YUL____RENAMING-FIX.html">renaming-fix</a> ren))
               (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)))</pre> 
<p><b>Theorem: </b>add-var-to-var-renaming-renaming-equiv-congruence-on-ren</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
     add-var-to-var-renaming-renaming-equiv-congruence-on-ren
     (<a href="ACL2____IMPLIES.html">implies</a> (<a href="YUL____RENAMING-EQUIV.html">renaming-equiv</a> ren ren-equiv)
              (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren)
                     (<a href="YUL____ADD-VAR-TO-VAR-RENAMING.html">add-var-to-var-renaming</a> old new ren-equiv)))
     :rule-classes :congruence)</pre> 

</body>
</html>
