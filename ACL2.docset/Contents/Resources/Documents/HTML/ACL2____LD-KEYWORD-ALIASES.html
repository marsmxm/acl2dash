<html>
<head>
<meta charset="UTF-8">
<title>Ld-keyword-aliases</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____LD-KEYWORD-ALIASES">Click for Ld-keyword-aliases in the Full Manual</a></h3>

<p>Abbreviation of some keyword commands</p><pre class="code">Examples:
(<a href="ACL2____SET-LD-KEYWORD-ALIASES.html">set-ld-keyword-aliases</a> '((:q 0 q-fn)
                          (:e 0 exit-acl2-macro))
                        state)
(<a href="ACL2____LD-KEYWORD-ALIASES.html">ld-keyword-aliases</a> state) ; current value of the ld-keyword-aliases table</pre> 
 
 <p><span class="v">Ld-keyword-aliases</span> is the name of a ACL2 table (see <a href="ACL2____TABLE.html">table</a>) and 
 also the name of a function of <span class="v">state</span> that returns the value of this 
 table.  That value must be an alist, each element of which is of the form 
 <span class="v">(:keyword n fn)</span>, where <span class="v">:keyword</span> is a keyword, <span class="v">n</span> is a 
 nonnegative integer, and <span class="v">fn</span> is a function symbol of arity <span class="v">n</span>, a macro 
 symbol, or a <span class="v">lambda</span> expression of arity <span class="v">n</span>.  When <span class="v">keyword</span> is 
 typed as an <span class="tt"><a href="ACL2____LD.html">ld</a></span> command, <span class="v">n</span> more forms are read, <span class="v">x1, ..., xn</span>, 
 and the form <span class="v">(fn 'x1 ... 'xn)</span> is then evaluated.  The initial value of 
 the <span class="v">ld-keyword-aliases</span> <a href="ACL2____TABLE.html">table</a> is <span class="v">nil</span>.</p> 
 
 <p>ACL2 provides functions to modify the <span class="v">ld-keyword-aliases</span> table, as 
 follows.</p> 
 
 <blockquote> 
 
 <p><span class="v">(<a href="ACL2____SET-LD-KEYWORD-ALIASES.html">Set-ld-keyword-aliases</a> val state)</span>: sets the table to <span class="v">val</span>, which 
 must be a legal alist as described above.  This is an event that may go into a 
 book (see <a href="ACL2____EVENTS.html">events</a>), but its effect will be <a href="ACL2____LOCAL.html">local</a> to that 
 book.</p> 
 
 <p><span class="v">Set-ld-keyword-aliases!</span> is the same as <span class="v">set-ld-keyword-aliases</span>, 
 except that its effect is not <a href="ACL2____LOCAL.html">local</a>.  Indeed, the form 
 <span class="v">(<a href="ACL2____SET-LD-KEYWORD-ALIASES.html">set-ld-keyword-aliases</a> val state)</span> is equivalent to the form <span class="v">(<a href="ACL2____LOCAL.html">local</a>
 (<a href="ACL2____SET-LD-KEYWORD-ALIASES_12.html">set-ld-keyword-aliases!</a> val state)</span>.</p> 
 
 <p><span class="v">(<a href="ACL2____ADD-LD-KEYWORD-ALIAS.html">Add-ld-keyword-alias</a> key val state)</span>: modifies the table by binding 
 the keyword <span class="v">key</span> to <span class="v">val</span>, which must be a legal value as described 
 above.  This is an event that may go into a book (see <a href="ACL2____EVENTS.html">events</a>), but its 
 effect will be <a href="ACL2____LOCAL.html">local</a> to that book.</p> 
 
 <p><span class="v">Add-ld-keyword-alias!</span> is the same as <span class="v">add-ld-keyword-alias</span>, except 
 that its effect is not <a href="ACL2____LOCAL.html">local</a>.  Indeed, the form 
 <span class="v">(<a href="ACL2____ADD-LD-KEYWORD-ALIAS.html">add-ld-keyword-alias</a> key val state)</span> is equivalent to the form <span class="v">(<a href="ACL2____LOCAL.html">local</a>
 (<a href="ACL2____ADD-LD-KEYWORD-ALIAS_12.html">add-ld-keyword-alias!</a> key val state)</span>.</p> 
 
 </blockquote> 
 
 <p>Consider the first example above:</p> 
 
 <pre class="code">(<a href="ACL2____SET-LD-KEYWORD-ALIASES.html">set-ld-keyword-aliases</a> '((:q 0 q-fn)
                          (:e 0 exit-acl2-macro))
                        state)</pre> 
 
 <p>With this event, <span class="v">:</span><span class="tt"><a href="ACL2____Q.html">q</a></span> is redefined to have the effect of 
 executing <span class="v">(q-fn)</span>, so for example if you have defined <span class="v">q-fn</span> with</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFMACRO.html">defmacro</a> q-fn ()
  '(<a href="ACL2____ER.html">er</a> soft 'q "You un-bound :q and now we have a soft error."))</pre> 
 
 <p>then <span class="v">:</span><span class="tt"><a href="ACL2____Q.html">q</a></span> will cause an error, and if you have defined</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFMACRO.html">defmacro</a> exit-acl2-macro () '(exit-ld state))</pre> 
 
 <p>then <span class="v">:e</span> will cause the effect (it so happens) that <span class="v">:</span><span class="tt"><a href="ACL2____Q.html">q</a></span> 
 normally has.  If you prefer <span class="v">:e</span> to <span class="v">:</span><span class="tt"><a href="ACL2____Q.html">q</a></span> for exiting the ACL2 
 loop, you might even want to put such definitions of <span class="v">q-fn</span> and 
 <span class="v">exit-acl2-macro</span> together with the <span class="v">set-ld-keyword-aliases</span> form above 
 into your <span class="v">"acl2-customization.lsp"</span> file; see <a href="ACL2____ACL2-CUSTOMIZATION.html">ACL2-customization</a>.</p> 
 
 <p>The general-purpose ACL2 read-eval-print loop, <span class="tt"><a href="ACL2____LD.html">ld</a></span>, reads forms from 
 <span class="tt"><a href="ACL2____STANDARD-OI.html">standard-oi</a></span>, evaluates them and prints the result to <span class="tt"><a href="ACL2____STANDARD-CO.html">standard-co</a></span>.  Note that the ACL2 top-level loop (see <span class="tt"><a href="ACL2____LP.html">lp</a></span>) results from 
 an invocation of <span class="tt"><a href="ACL2____LD.html">ld</a></span>.</p> 
 
 <p>However, there are various flags that control <span class="tt"><a href="ACL2____LD.html">ld</a></span>'s behavior and 
 <span class="v">ld-keyword-aliases</span> is one of them.  <span class="v">Ld-keyword-aliases</span> affects how 
 keyword commands are parsed.  Generally speaking, <span class="tt"><a href="ACL2____LD.html">ld</a></span>'s command 
 interpreter reads ``<span class="v">:fn x1 ... xn</span>'' as ``<span class="v">(fn 'x1 ... 'xn)</span>'' when 
 <span class="v">:fn</span> is a keyword and <span class="v">fn</span> is the name of an <span class="v">n</span>-ary function; see 
 <a href="ACL2____KEYWORD-COMMANDS.html">keyword-commands</a>.  But this parse is overridden, as described above, 
 for the keywords bound in the <span class="v">ld-keyword-aliases</span> <a href="ACL2____TABLE.html">table</a>.</p>
</body>
</html>
