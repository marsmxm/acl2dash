<html>
<head>
<meta charset="UTF-8">
<title>Sharp-u-reader</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SHARP-U-READER">Click for Sharp-u-reader in the Full Manual</a></h3>

<p>Allow underscore characters in numbers</p><pre class="code">Example:

ACL2 !&gt;#ub1000_1000_1000_
2184
ACL2 !&gt;#b100010001000
2184
ACL2 !&gt;#uo1_1
9
ACL2 !&gt;#o11
9
ACL2 !&gt;#u34_5
345
ACL2 !&gt;#u345
345
ACL2 !&gt;345
345
ACL2 !&gt;#ux12_a
298
ACL2 !&gt;#ux12a
298
ACL2 !&gt;#u x12a
298
ACL2 !&gt;#x12a
298
ACL2 !&gt;#u123_456/7_919
123456/7919
ACL2 !&gt;</pre> 
 
 <p>The ACL2 reader supports the use of <span class="v">#ub</span>, <span class="v">#uo</span>, and <span class="v">#ux</span> where 
 one would otherwise write <span class="v">#b</span>, <span class="v">#o</span>, and <span class="v">#x</span>, respectively (for 
 binary, octal, and hexadecimal numerals), but where underscore characters 
 (`<span class="v">_</span>') are allowed but ignored.  Also supported is the prefix <span class="v">#u</span> in 
 front of a an expression that is a decimal numeral except that underscore 
 characters are allowed but ignored.</p> 
 
 <p>The precise specification of <span class="v">#u</span> is as follows.  The ACL2 reader reads 
 one expression after the <span class="v">#u</span>.  If the result is a number, then that number 
 is returned by the reader.  Otherwise the result must be a symbol.  Let <span class="v">N</span> 
 be the <span class="tt"><a href="COMMON-LISP____SYMBOL-NAME.html">symbol-name</a></span> of the symbol; thus <span class="v">N</span> is a string.  If <span class="v">N</span> 
 begins with one of the characters `<span class="v">B</span>', `<span class="v">O</span>', or `<span class="v">X</span>', then first 
 obtain a string <span class="v">S1</span> by prefixing <span class="v">N</span> with the character, `<span class="v">#</span>'; 
 otherwise let <span class="v">S1</span> be <span class="v">N</span>.  Next, remove all underscore characters 
 `<span class="v">_</span>' from <span class="v">S1</span>, obtaining <span class="v">S2</span>.  The result is obtained by applying 
 the ACL2 reader to <span class="v">S2</span>; that result must be a number, or else an error 
 occurs.</p>
</body>
</html>
