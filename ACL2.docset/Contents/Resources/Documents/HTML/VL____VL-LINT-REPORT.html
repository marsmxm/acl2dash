<html>
<head>
<meta charset="UTF-8">
<title>Vl-lint-report</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL____VL-LINT-REPORT">Click for Vl-lint-report in the Full Manual</a></h3>

<p></p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-lint-report config loadresult lintresult state) → state</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">config</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-LINTCONFIG-P.html">vl-lintconfig-p</a> config)</span>.</font>
</dd> 
  <dd>
<span class="tt">loadresult</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-LOADRESULT-P.html">vl-loadresult-p</a> loadresult)</span>.</font>
</dd> 
  <dd>
<span class="tt">lintresult</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-LINTRESULT-P.html">vl-lintresult-p</a> lintresult)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">state</span> — <font color="#606060">Type <span class="v">(state-p1 state)</span>, given <span class="v">(state-p1 state)</span>.</font>
</dd> 
 
</dl></div> 
 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-lint-report</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 vl-lint-report
 (config loadresult lintresult state)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____STATE.html">state</a>)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="VL____VL-LINTCONFIG-P.html">vl-lintconfig-p</a> config)
                             (<a href="VL____VL-LOADRESULT-P.html">vl-loadresult-p</a> loadresult)
                             (<a href="VL____VL-LINTRESULT-P.html">vl-lintresult-p</a> lintresult))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'vl-lint-report))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="VL____VL-LINTRESULT.html">vl-lintresult</a> lintresult))
    ((<a href="VL____VL-LOADRESULT.html">vl-loadresult</a> loadresult))
    ((<a href="VL____VL-LINTCONFIG.html">vl-lintconfig</a> config))
    (reportcard lintresult.reportcard)
    (suppressed (<a href="VL____VL-REPORTCARD-KEEP-SUPPRESSED.html">vl-reportcard-keep-suppressed</a> reportcard))
    (reportcard (<a href="VL____VL-REPORTCARD-REMOVE-SUPPRESSED.html">vl-reportcard-remove-suppressed</a> reportcard))
    (sd-probs lintresult.sd-probs)
    ((<a href="ACL2____MV.html">mv</a> major minor)
     (cwtime (<a href="VL____SD-FILTER-PROBLEMS.html">sd-filter-problems</a> sd-probs nil nil)))
    (major (<a href="COMMON-LISP____REVERSE.html">reverse</a> major))
    (minor (<a href="COMMON-LISP____REVERSE.html">reverse</a> minor))
    (<a href="COMMON-LISP____-.html">-</a> (<a href="ACL2____CW.html">cw</a> "~%vl-lint: saving results...~%~%"))
    (othertypes
         (<a href="SET____DIFFERENCE.html">difference</a> (<a href="SET____MERGESORT.html">mergesort</a> (<a href="VL____VL-REPORTCARD-TYPES.html">vl-reportcard-types</a> reportcard))
                     (<a href="SET____MERGESORT.html">mergesort</a> (<a href="COMMON-LISP____APPEND.html">append</a> *warnings-covered*
                                        *warnings-ignored*))))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
      "vl-basic.txt"
      (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
      (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-basic.txt"
                              "Basic" *basic-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
      "vl-trunc.txt"
      (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
      (<a href="VL____VL-PRINT.html">vl-print</a>
       "
NOTE: see the bottom of this file for an explanation of what these warnings
mean and how to avoid them.

")
      (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-trunc.txt" "Truncation/Extension"
                              *trunc-warnings* reportcard)
      (<a href="VL____VL-PRINT.html">vl-print</a>
       "

UNDERSTANDING THESE WARNINGS.

1. VL-WARN-TRUNCATION warnings are issued when the left-hand side of an
assignment statement is not as wide as the right-hand side.

False positives here can typically be suppressed by using part-selects to make
the intended truncations explicit.  For instance:

    wire [47:0] foo ;
    wire [63:0] bar ;

    assign foo = bar ;        // implicit truncation, causes warning
    assign foo = bar[47:0] ;  // explicit truncation, no warning

    assign foo = condition ? bar : 0 ;      // implicit truncation, causes warning
    assign foo = condition ? bar[47:0] : 0; // explicit truncation, no warning


2. VL-WARN-EXTENSION warnings are the opposite: they are issued when the
left-hand side is wider than the right-hand side would have been on its own.

False-positives can again typically be suppressed by explicitly concatenting in
zeroes, or by using part-selects to cut the left-hand side to the right size.
For instance:

    wire [47:0] foo ;
    wire [63:0] bar ;

    assign bar = foo ;             // implicit extension, causes warning
    assign bar = { 16'b0, foo } ;  // explicit extension, no warning
    assign bar[47:0] = foo;        // no extension, no warning


Note that we consider certain truncation and extension warnings to be \"minor\"
and do not report them here.  Such warnings are unlikely to be a problem, but
you can see \"vl-trunc-minor.txt\" to review them.")))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
        "vl-fussy.txt"
        (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
        (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-fussy.txt" "Fussy Size Warnings"
                                *fussy-size-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a> (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
                "vl-fussy-minor.txt"
                (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
                (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-fussy-minor.txt"
                                        "Minor Fussy Size Warnings"
                                        *fussy-size-minor-warnings*
                                        reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
          "vl-lucid.txt"
          (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
          (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-lucid.txt" "Lucidity Checking"
                                  *lucid-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a>
         (<a href="VL____WITH-PS-FILE.html">with-ps-file</a> "vl-lucid-vars.txt"
                       (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
                       (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a>
                            "vl-lucid-vars.txt" "Lucidity Checking"
                            *lucid-variable-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
         "vl-sv-use-set.txt"
         (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
         (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-sv-use-set.txt"
                                 "SV Use/Set Checking"
                                 *sv-use-set-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
      "vl-eliminated-mods.txt"
      (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
      (<a href="VL____VL-PRINT.html">vl-print</a>
       "
Note: These modules were eliminated because they were never instantiated anywhere in the top module's hierarchy.
")
      (<a href="VL____VL-PRINT-ELIMINATED-DESCS.html">vl-print-eliminated-descs</a> lintresult.design
                                 lintresult.design-orig)))
    (<a href="ACL2____STATE.html">state</a>
       (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____NOT.html">not</a> major)
           (<a href="ACL2____PROGN_42.html">progn$</a> (<a href="ACL2____CW.html">cw</a> "; No Skip-Detect Warnings.~%")
                   state)
           (<a href="ACL2____PROGN_42.html">progn$</a> (<a href="ACL2____CW.html">cw</a> "vl-skipdet.txt: ~x0 Skip-Detect Warnings.~%"
                       (<a href="ACL2____LEN.html">len</a> major))
                   (<a href="VL____WITH-PS-FILE.html">with-ps-file</a> "vl-skipdet.txt"
                                 (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
                                 (<a href="VL____VL-CW.html">vl-cw</a> "Skip-Detect Warnings.~%~%")
                                 (<a href="VL____SD-PP-PROBLEMLIST-LONG.html">sd-pp-problemlist-long</a> major)))))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
      "vl-trunc-minor.txt"
      (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
      (<a href="VL____VL-PRINT.html">vl-print</a>
       "
NOTE: see the bottom of this file for an explanation of what these warnings
mean and how to avoid them.

")
      (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-trunc-minor.txt"
                              "Minor Truncation/Extension"
                              *trunc-minor-warnings* reportcard)
      (<a href="VL____VL-PRINT.html">vl-print</a>
       "

UNDERSTANDING THESE WARNINGS.

1.  VL-WARN-TRUNCATION-32 warnings are generated for any assignments that are
being truncated and whose right-hand sides are 32-bits wide.  This is a minor
warning because it typically arises from assignments where plain integers are
involved, e.g., if foo and bar are 10 bits wide, then a truncation-32 warning
will be generated for:

    assign foo = bar ^ 5;

This is because \"5\" has an implementation-dependent width (of at least 32
bits), and in VL-Lint we treat it as being 32-bits wide.  So, the above
describes a 32-bit XOR that is then truncated down to 10 bits.  Fixing these
warnings is usually easy: just explicitly specify the sizes of the numbers
involved, e.g., a \"corrected\" version might be:

    assign foo = bar ^ 10'd 5;

This is generally a good idea since it avoids any implementation-dependent
sizing (which can occasionally affect the results of expressions).


2.  VL-WARN-EXTENSION-MINOR warnings are generated for any assignments where
the width of the left-hand side is used to size the expression, and where the
right-hand side involves only addition operations.  For instance, given:

    wire [9:0] foo;
    wire [9:0] bar;
    wire [9:0] sum;
    wire carry;

Then an assignment like this:

    assign { carry, sum } = foo + bar;

would result in a minor extension warning.  These warnings are typically quite
minor since you frequently want to get the carry out of a sum.  But you could
suppress them by writing something like this:

    Variant 1: assign {carry, sum} = {1'b0,foo} + bar;
    Variant 2: assign {carry, sum} = foo + bar + 11'b0;

or similar, to make explicit on the right-hand side that you want an 11-bit
wide addition instead of a 10-bit wide addition.")))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="COMMON-LISP____IF.html">if</a>
      (<a href="COMMON-LISP____NOT.html">not</a> minor)
      (<a href="ACL2____PROG2_42.html">prog2$</a> (<a href="ACL2____CW.html">cw</a> "; No Minor Skip-Detect Warnings.~%")
              state)
      (<a href="ACL2____PROG2_42.html">prog2$</a>
       (<a href="ACL2____CW.html">cw</a> "vl-skipdet-minor.txt: ~x0 Minor Skip-Detect Warnings.~%"
           (<a href="ACL2____LEN.html">len</a> minor))
       (<a href="VL____WITH-PS-FILE.html">with-ps-file</a> "vl-skipdet-minor.txt"
                     (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
                     (<a href="VL____VL-CW.html">vl-cw</a> "Minor Skip-Detect Warnings.~%~%")
                     (<a href="VL____SD-PP-PROBLEMLIST-LONG.html">sd-pp-problemlist-long</a> minor)))))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
       "vl-smells.txt"
       (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
       (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-smells.txt" "Code-Smell Warnings"
                               *smell-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
        "vl-smells-minor.txt"
        (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
        (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-smells-minor.txt"
                                "Minor Code-Smell Warnings"
                                *smell-minor-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
         "vl-same-ports.txt"
         (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
         (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-same-ports.txt"
                                 "Same-ports Warnings"
                                 *same-ports-warnings* reportcard)))
    (<a href="ACL2____STATE.html">state</a> (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
                "vl-same-ports-minor.txt"
                (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
                (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-same-ports-minor.txt"
                                        "Minor same-ports Warnings"
                                        *same-ports-minor-warnings*
                                        reportcard)))
    (<a href="ACL2____STATE.html">state</a>
     (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
         "vl-other.txt"
         (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 68)
         (<a href="VL____VL-LINT-PRINT-WARNINGS.html">vl-lint-print-warnings</a> "vl-other.txt" "Other/Unclassified"
                                 othertypes reportcard)))
    (<a href="ACL2____STATE.html">state</a>
         (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
              "vl-suppressed.txt"
              (<a href="VL____VL-PS-UPDATE-AUTOWRAP-COL.html">vl-ps-update-autowrap-col</a> 58)
              (<a href="VL____VL-LINT-PRINT-ALL-WARNINGS.html">vl-lint-print-all-warnings</a> "vl-suppressed.txt"
                                          "suppressed" suppressed)))
    (<a href="COMMON-LISP____-.html">-</a> (<a href="ACL2____CW.html">cw</a> "~%"))
    (<a href="ACL2____STATE.html">state</a>
       (cwtime
            (<a href="VL____WITH-PS-FILE.html">with-ps-file</a> "vl-warnings.json"
                          (<a href="VL____VL-PRINT.html">vl-print</a> "{\"warnings\":")
                          (<a href="VL____VL-JP-REPORTCARD.html">vl-jp-reportcard</a> reportcard
                                            :no-html config.no-html)
                          (<a href="VL____VL-PRINT.html">vl-print</a> ",\"locations\":")
                          (<a href="VL____VL-JP-DESIGN-LOCATIONS.html">vl-jp-design-locations</a> lintresult.design)
                          (<a href="VL____VL-PRINTLN.html">vl-println</a> "}"))
            :name write-warnings-json))
    (<a href="ACL2____STATE.html">state</a>
       (cwtime
            (<a href="VL____WITH-PS-FILE.html">with-ps-file</a> "vl-locations.json"
                          (<a href="VL____VL-PRINT.html">vl-print</a> "{\"locations\":")
                          (<a href="VL____VL-JP-DESIGN-LOCATIONS.html">vl-jp-design-locations</a> lintresult.design)
                          (<a href="VL____VL-PRINTLN.html">vl-println</a> "}"))
            :name write-locations-json))
    (<a href="ACL2____STATE.html">state</a>
      (cwtime (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
                   "vl-ifdefs.txt"
                   (vl-print-ifdef-report-main loadresult.ifdefmap))
              :name write-ifdef-report))
    (<a href="ACL2____STATE.html">state</a>
     (cwtime
         (<a href="VL____WITH-PS-FILE.html">with-ps-file</a>
              "vl-ifdef-usage.json"
              (vl-jp-definfo loadresult.defines
                             loadresult.ifdefmap loadresult.defmap))
         :name write-ifdef-usage.json))
    (<a href="ACL2____STATE.html">state</a>
       (cwtime
            (<a href="VL____WITH-PS-FILE.html">with-ps-file</a> "vl-warnings-suppressed.json"
                          (<a href="VL____VL-PRINT.html">vl-print</a> "{\"warnings\":")
                          (<a href="VL____VL-JP-REPORTCARD.html">vl-jp-reportcard</a> suppressed)
                          (<a href="VL____VL-PRINT.html">vl-print</a> ",\"locations\":")
                          (<a href="VL____VL-JP-DESIGN-LOCATIONS.html">vl-jp-design-locations</a> lintresult.design)
                          (<a href="VL____VL-PRINTLN.html">vl-println</a> "}"))
            :name write-warnings-json)))
   state)))</pre> 
<p><b>Theorem: </b>state-p1-of-vl-lint-report</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 state-p1-of-vl-lint-report
 (<a href="ACL2____IMPLIES.html">implies</a>
   (state-p1 state)
   (<a href="ACL2____B_A2.html">b*</a> ((<a href="ACL2____STATE.html">state</a> (<a href="VL____VL-LINT-REPORT.html">vl-lint-report</a> config loadresult lintresult state)))
       (state-p1 state)))
 :rule-classes :rewrite)</pre> 

</body>
</html>
