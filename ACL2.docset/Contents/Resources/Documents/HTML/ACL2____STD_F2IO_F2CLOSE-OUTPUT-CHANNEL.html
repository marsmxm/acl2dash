<html>
<head>
<meta charset="UTF-8">
<title>Std/io/close-output-channel</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____STD_F2IO_F2CLOSE-OUTPUT-CHANNEL">Click for Std/io/close-output-channel in the Full Manual</a></h3>

<p>Close an output channel.</p><p><b>Signature</b>: <span class="tt">(close-output-channel channel state-state)</span> returns 
<span class="v">state</span>.</p> 
 
<ul> 
 
<li>
<span class="v">channel</span> is a symbol that must refer to a currently open output 
channel; see <a href="ACL2____OPEN-OUTPUT-CHANNEL.html">open-output-channel</a>.</li> 
 
<li>
<span class="v">state</span> is the ACL2 <a href="ACL2____STATE.html">state</a>.</li> 
 
</ul> 
 
<p>This is a <a href="ACL2____LOGIC.html">logic</a>-mode function, but its logical definition is tricky; 
see <a href="ACL2____LOGICAL-STORY-OF-IO.html">logical-story-of-io</a>.  The main logical consequence is that 
<span class="v">channel</span> will no longer be an open output channel, and hence can no longer 
be written to or closed.</p> 
 
<p>Under the hood, we close the raw Lisp stream associated with <span class="v">channel</span>. 
This typically involves flushing the buffers associated with the file (i.e., 
actually writing your output to disk).  It is generally necessary to close 
output channels when you are done with them to avoid resource leaks.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Theorem: </b>state-p1-of-close-output-channel-free</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> state-p1-of-close-output-channel-free
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (open-output-channel-p1 channel type state)
                      (state-p1 state))
                 (state-p1 (<a href="ACL2____CLOSE-OUTPUT-CHANNEL.html">close-output-channel</a> channel state))))</pre> 
<p><b>Theorem: </b>state-p1-of-close-output-channel-types</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> state-p1-of-close-output-channel-types
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____OR.html">or</a> (open-output-channel-p1 channel
                                                  :byte state)
                          (open-output-channel-p1 channel
                                                  :object state)
                          (open-output-channel-p1 channel
                                                  :character state))
                      (state-p1 state))
                 (state-p1 (<a href="ACL2____CLOSE-OUTPUT-CHANNEL.html">close-output-channel</a> channel state))))</pre> 
<p><b>Theorem: </b>state-p1-of-close-output-channel-of-open</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 state-p1-of-close-output-channel-of-open
 (<a href="ACL2____IMPLIES.html">implies</a>
     (<a href="COMMON-LISP____AND.html">and</a> (open-output-channel-p1
               (<a href="ACL2____MV-NTH.html">mv-nth</a> 0
                       (<a href="ACL2____OPEN-OUTPUT-CHANNEL.html">open-output-channel</a> fname type state1))
               type state)
          (state-p1 state))
     (state-p1 (<a href="ACL2____CLOSE-OUTPUT-CHANNEL.html">close-output-channel</a>
                    (<a href="ACL2____MV-NTH.html">mv-nth</a> 0
                            (<a href="ACL2____OPEN-OUTPUT-CHANNEL.html">open-output-channel</a> fname type state1))
                    state))))</pre> 

</body>
</html>
