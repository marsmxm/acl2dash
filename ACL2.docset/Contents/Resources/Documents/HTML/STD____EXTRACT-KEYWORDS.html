<html>
<head>
<meta charset="UTF-8">
<title>Extract-keywords</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=STD____EXTRACT-KEYWORDS">Click for Extract-keywords in the Full Manual</a></h3>

<p>Extract legal keyword/value pairs from an argument list.</p><p>If a keyword occurs as a singleton list in legal-kwds, it may have 
mulitple occurrences in the args, and the result stored in the kwd-alist will 
be a list of the arguments to the occurrences.  For example:</p> 
<pre class="code">(<a href="STD____EXTRACT-KEYWORDS.html">extract-keywords</a> 'foo '((:bar)) '(:bar x :bar y) nil)</pre> 
<p>produces <span class="v">((:bar y x))</span> as its keyword alist result.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>extract-keywords</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 extract-keywords
 (<a href="ACL2____CTX.html">ctx</a> legal-kwds args kwd-alist)
 "Returns (<a href="ACL2____MV.html">mv</a> kwd-alist other-args)"
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="STD____LEGAL-KWDS-P.html">legal-kwds-p</a> legal-kwds)
                             (<a href="ACL2____ALISTP.html">alistp</a> kwd-alist))))
 (<a href="ACL2____B_A2.html">b*</a>
    ((__function__ 'extract-keywords)
     ((when (<a href="COMMON-LISP____ATOM.html">atom</a> args)) (<a href="ACL2____MV.html">mv</a> kwd-alist args))
     (arg1 (<a href="COMMON-LISP____FIRST.html">first</a> args))
     ((unless (<a href="COMMON-LISP____KEYWORDP.html">keywordp</a> arg1))
      (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> kwd-alist other-args)
            (<a href="STD____EXTRACT-KEYWORDS.html">extract-keywords</a> ctx legal-kwds (<a href="COMMON-LISP____CDR.html">cdr</a> args)
                              kwd-alist)))
          (<a href="ACL2____MV.html">mv</a> kwd-alist (<a href="COMMON-LISP____CONS.html">cons</a> arg1 other-args))))
     (legality (<a href="STD____KEYWORD-LEGALITY.html">keyword-legality</a> arg1 legal-kwds))
     ((unless legality)
      (<a href="ACL2____RAISE.html">raise</a> (<a href="COMMON-LISP____CONCATENATE.html">concatenate</a> 'string
                          "~x0: invalid keyword ~x1."
                          (<a href="COMMON-LISP____IF.html">if</a> legal-kwds "  Valid keywords: ~&amp;2."
                              "  No keywords are valid here."))
             ctx arg1 legal-kwds)
      (<a href="ACL2____MV.html">mv</a> nil nil))
     ((when (<a href="COMMON-LISP____ATOM.html">atom</a> (<a href="COMMON-LISP____REST.html">rest</a> args)))
      (<a href="ACL2____RAISE.html">raise</a> "~x0: keyword ~x1 has no argument."
             ctx arg1)
      (<a href="ACL2____MV.html">mv</a> nil nil))
     ((when (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQ.html">eq</a> legality :multiple))
                 (<a href="COMMON-LISP____ASSOC.html">assoc</a> arg1 kwd-alist)))
      (<a href="ACL2____RAISE.html">raise</a> "~x0: multiple occurrences of keyword ~x1."
             ctx arg1)
      (<a href="ACL2____MV.html">mv</a> nil nil))
     (<a href="ACL2____VALUE.html">value</a> (<a href="COMMON-LISP____SECOND.html">second</a> args))
     (kwd-alist (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQ.html">eq</a> legality :multiple)
                    (<a href="COMMON-LISP____ACONS.html">acons</a> arg1
                           (<a href="COMMON-LISP____CONS.html">cons</a> value (<a href="COMMON-LISP____CDR.html">cdr</a> (<a href="COMMON-LISP____ASSOC.html">assoc</a> arg1 kwd-alist)))
                           (<a href="ACL2____REMOVE1-ASSOC.html">remove1-assoc</a> arg1 kwd-alist))
                    (<a href="COMMON-LISP____ACONS.html">acons</a> arg1 value kwd-alist))))
    (<a href="STD____EXTRACT-KEYWORDS.html">extract-keywords</a> ctx legal-kwds (<a href="COMMON-LISP____CDDR.html">cddr</a> args)
                      kwd-alist)))</pre> 

</body>
</html>
