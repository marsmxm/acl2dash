<html>
<head>
<meta charset="UTF-8">
<title>Practice-formulating-strong-rules-5</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____PRACTICE-FORMULATING-STRONG-RULES-5">Click for Practice-formulating-strong-rules-5 in the Full Manual</a></h3>

<p>Rules suggested by <span class="v">(<a href="COMMON-LISP____SUBSETP.html">SUBSETP</a> (FOO A) (<a href="COMMON-LISP____APPEND.html">APPEND</a> (BAR B) (MUM C)))</span></p><p>What rules come to mind when looking at the following subterm of a 
 Key Checkpoint?  Think of <i>strong</i> rules (see <a href="ACL2____STRONG-REWRITE-RULES.html">strong-rewrite-rules</a>).</p> 
 
 <pre class="code">(<a href="COMMON-LISP____SUBSETP.html">SUBSETP</a> (FOO A) (<a href="COMMON-LISP____APPEND.html">APPEND</a> (BAR B) (MUM C)))</pre> 
 
 <p>When is <span class="v">x</span> a subset of <span class="v">(<a href="COMMON-LISP____APPEND.html">append</a> y z)</span>?  Clearly it is if <span class="v">x</span> is a 
 subset of <span class="v">y</span> or <span class="v">x</span> is a subset of <span class="v">z</span>.  We could write that:</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> subsetp-append-2-weak
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x y)
               (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x z))
           (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x (<a href="COMMON-LISP____APPEND.html">append</a> y z))))</pre> 
 
 <p>The rule generated from this is: ``if you ever encounter (an instance of) 
 <span class="v">(<a href="COMMON-LISP____SUBSETP.html">SUBSETP</a> x (<a href="COMMON-LISP____APPEND.html">APPEND</a> y z))</span>, backchain to the <span class="v">or</span> above and try to 
 establish it.  If you can establish it, replace the target by <span class="v">T</span>.''</p> 
 
 <p>This does not fully characterize the situation though.  For example, <span class="v">'(1
 2 3 4)</span> is a subset of <span class="v">(<a href="COMMON-LISP____APPEND.html">append</a> '(1 3) '(2 4))</span> without being a subset of 
 either argument of the <span class="v">append</span>.</p> 
 
 <p>However, no obvious equivalence comes to mind â€” indeed, to express 
 any of the ideas floating around here requires defining and introducing more 
 functions, which is not recommended unless those functions are already in the 
 problem.</p> 
 
 <p>For example, if you defined the concept of ``<span class="v">set-minus</span>'' so that 
 <span class="v">(set-minus x y)</span> consists of those elements of <span class="v">x</span> not in <span class="v">y</span>, then 
 you could prove:</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> subset-append-2-strong-but-messy
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x (<a href="COMMON-LISP____APPEND.html">append</a> y z))
         (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> (set-minus x z) y)
              (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> (set-minus x y) z))))</pre> 
 
 <p>But this rewrite rule would ``trade'' <span class="v">append</span> away and introduce 
 <span class="v">set-minus</span>.  That might be a good strategy if <span class="v">set-minus</span> were already 
 in the problem.  But if it were not, it might not be.  We wouldn't recommend 
 this rule unless it were helpful in normalizing the expressions in the 
 problem.</p> 
 
 <p>We recommend sticking with the weak version of the rule,</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> subsetp-append-2-weak
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x y)
               (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x z))
           (<a href="COMMON-LISP____SUBSETP.html">subsetp</a> x (<a href="COMMON-LISP____APPEND.html">append</a> y z)))).</pre> 
 
 <p>This illustrates the fact that sometimes there is no strong version of a 
 rule!</p> 
 
 <p>Use your browser's <b>Back Button</b> now to return to <a href="ACL2____PRACTICE-FORMULATING-STRONG-RULES.html">practice-formulating-strong-rules</a>.</p>
</body>
</html>
