<html>
<head>
<meta charset="UTF-8">
<title>Reader</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____READER">Click for Reader in the Full Manual</a></h3>

<p>Reading expressions in the ACL2 read-eval-print loop</p><p>The ACL2 read-eval-print loop reads expressions much like they are 
 read in any Common Lisp read-eval-print loop.  For example, you may use the 
 single tick symbol (<span class="tt">'</span>) for <span class="v">quote</span> and also the backquote symbol 
 (<span class="tt">`</span>) with its escapes, comma (<span class="tt">,</span>) and 
 comma-atsign (<span class="tt">,@</span>).  See any Common Lisp reference or tutorial.</p> 
 
 <p>ACL2-specific reader macros include its reading of expressions in a 
 specified package (using <span class="v">#!</span> — see <a href="ACL2____SHARP-BANG-READER.html">sharp-bang-reader</a>), its 
 restriction of read-time evaluation to constants introduced by <span class="tt"><a href="ACL2____DEFCONST.html">defconst</a></span> (using <span class="v">#.</span> — see <a href="ACL2____SHARP-DOT-READER.html">sharp-dot-reader</a>), and the ability 
 to put underscores in numeric constants (using <span class="v">#u</span> — see <a href="ACL2____SHARP-U-READER.html">sharp-u-reader</a>).</p> 
 
 <p>See <a href="ACL2____SET-IPRINT.html">set-iprint</a> for how to make ACL2 print expressions like 
 <span class="v">#@2#</span> that can be read back in.</p> 
 
 <p>Strictly speaking, there is nothing special about how the reader handles 
 <a href="COMMON-LISP____KEYWORD.html">keyword</a>s in the input.  But see <a href="ACL2____KEYWORD-COMMANDS.html">keyword-commands</a> for how ACL2 
 may interpret a top-level keyword command.</p> 
 
 <p>We conclude this topic with a log that illustrates features discussed 
 above.  Comments of the form <span class="tt">{{..}}</span> have been inserted manually.</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____DEFCONST.html">defconst</a> *c* (<a href="COMMON-LISP_____B2.html">+</a> 3 4))

Summary
Form:  ( DEFCONST *C* ...)
Rules: NIL
Time:  0.00 seconds (prove: 0.00, print: 0.00, other: 0.00)
 *C*
ACL2 !&gt;'(a #.*c* 17)
;{{See :doc sharp-dot-reader.
;  Notice that #.*c* is read as the value of *c*, thus,
;  as 7 rather than as (<a href="COMMON-LISP_____B2.html">+</a> 3 4).}}
(A 7 17)
ACL2 !&gt;'(a #.(<a href="COMMON-LISP_____B2.html">+</a> 5 6) 17)
;{{But this is not legal in ACL2, as #. must be followed by
;  a known constant symbol.}}

***********************************************
************ ABORTING from raw Lisp ***********
********** (see :DOC raw-lisp-error) **********
Error:  ACL2 supports #. syntax only for #.*a*, where *a* has been
defined by DEFCONST.  Thus the form #.(<a href="COMMON-LISP_____B2.html">+</a> 5 6) is illegal.
***********************************************

;{{Additional output here has been omitted in this log.}}
ACL2 !&gt;(<a href="ACL2____DEFPKG.html">defpkg</a> "FOO" nil)

Summary
Form:  ( DEFPKG "FOO" ...)
Rules: NIL
Time:  0.00 seconds (prove: 0.00, print: 0.00, other: 0.00)
 "FOO"
ACL2 !&gt;#!foo'(a b c)
;{{See :doc sharp-bang-reader.  The prefix "#!foo" causes
;  the s-expression after it to be read into the "FOO" package.}}
(FOO::A FOO::B FOO::C)
ACL2 !&gt;#x100a
;{{As in Common Lisp, "#x" causes the digits after it to be read in hex.}}
4106
ACL2 !&gt;#ux10_0a
;{{The "#u" prefix allows underscores in the numeral after it.  Those
;  underscores are ignored, but can improve readability.}}
4106
ACL2 !&gt;(<a href="ACL2____SET-IPRINT.html">set-iprint</a> t)
;{{See :DOC set-print.  This causes "#@1#" below to be printed.}}

ACL2 Observation in SET-IPRINT:  Iprinting has been enabled.
ACL2 !&gt;(<a href="ACL2____SET-EVISC-TUPLE.html">set-evisc-tuple</a> (<a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> 3   ; print-level
                                     4   ; print-length
                                     nil ; alist
                                     nil ; hiding-cars
                                     )
                        :sites :ld)
;{{Abbreviate the printing of top-level evaluation results.
;  See :doc set-evisc-tuple.}}
 (:LD)
ACL2 !&gt;(<a href="COMMON-LISP____MAKE-LIST.html">make-list</a> 10)
(NIL NIL NIL NIL . #@1#)
ACL2 !&gt;'#@1#
;{{Note that the reader replaces #@1# with the value that was stored there.}}
(NIL NIL NIL NIL . #@2#)
ACL2 !&gt;(<a href="ACL2____WITHOUT-EVISC.html">without-evisc</a> '(NIL NIL NIL NIL . #@1#))
;{{See :doc without-evisc.}}
(NIL NIL NIL NIL NIL NIL NIL NIL NIL NIL)
ACL2 !&gt;(<a href="ACL2____SET-EVISC-TUPLE.html">set-evisc-tuple</a> nil :sites :ld)
 (:LD)
ACL2 !&gt;(<a href="COMMON-LISP____LET.html">let</a> ((x '(3 4)))
         `(a b ,x c))
;{{As in Common Lisp, backquote can be escaped by comma.}}
(A B (3 4) C)
ACL2 !&gt;(<a href="COMMON-LISP____LET.html">let</a> ((x '(3 4)))
         `(a b ,@x c))
;{{As in Common Lisp, backquote can be escaped by comma-atsign, which
;  splices its value into the list.}}
(A B 3 4 C)
ACL2 !&gt;</pre>
</body>
</html>
