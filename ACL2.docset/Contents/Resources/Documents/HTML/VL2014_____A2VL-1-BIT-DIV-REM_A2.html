<html>
<head>
<meta charset="UTF-8">
<title>*vl-1-bit-div-rem*</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014_____A2VL-1-BIT-DIV-REM_A2">Click for *vl-1-bit-div-rem* in the Full Manual</a></h3>

<p>One-bit division and remainder.</p><p>This module exactly implements the Verilog semantics for one-bit 
division and remainder.</p> 
 
<p>Dividing one-bit wires isn't a very useful thing to do.  Division by zero is 
generally an error (in Verilog it produces X), and division by one is just a 
copy.  But, if for some reason we do see a <span class="v">/</span> and <span class="v">%</span> operator being 
applied to single-bit wires, we still need to implement it <i>somehow</i>.</p> 
 
<p>The actual definition of this module is pretty weird and I don't think it's 
really worth studying.  I basically just piled on X detection stuff until it 
matched the Verilog semantics.</p><p><b>Definition: </b>*vl-1-bit-div-rem*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a>
 *vl-1-bit-div-rem*
 (<a href="ACL2____B_A2.html">b*</a>
    ((name (<a href="ACL2____HONS-COPY.html">hons-copy</a> "VL_1_BIT_DIV_REM"))
     ((<a href="ACL2____MV.html">mv</a> q-expr q-port q-portdecl q-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "quotient" :vl-output))
     ((<a href="ACL2____MV.html">mv</a> r-expr r-port r-portdecl r-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "remainder" :vl-output))
     ((<a href="ACL2____MV.html">mv</a> e-expr e-port e-portdecl e-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "dividend" :vl-input))
     ((<a href="ACL2____MV.html">mv</a> d-expr d-port d-portdecl d-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKPORT.html">vl-primitive-mkport</a> "divisor" :vl-input))
     ((<a href="ACL2____MV.html">mv</a> xwire-expr xwire-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "xwire"))
     (xwire-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-x* "xdriver" xwire-expr))
     ((<a href="ACL2____MV.html">mv</a> d~-expr d~-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "divisor_bar"))
     ((<a href="ACL2____MV.html">mv</a> dx-expr dx-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "divisor_x"))
     ((<a href="ACL2____MV.html">mv</a> df-expr df-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "divisor_fix"))
     (d~-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-not* "dx1" d~-expr d-expr))
     (dx-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-and*
                              "dx2" dx-expr d~-expr xwire-expr))
     (df-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-or*
                              "dx3" df-expr d-expr dx-expr))
     ((<a href="ACL2____MV.html">mv</a> xa-expr xa-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "xa"))
     ((<a href="ACL2____MV.html">mv</a> xb-expr xb-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "xb"))
     (xa-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-xor*
                              "x1" xa-expr e-expr e-expr))
     (xb-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-xor*
                              "x2" xb-expr df-expr df-expr))
     (r-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-xor*
                             "x3" r-expr xa-expr xb-expr))
     ((<a href="ACL2____MV.html">mv</a> qm-expr qm-vardecl)
      (<a href="VL2014____VL-PRIMITIVE-MKWIRE.html">vl-primitive-mkwire</a> "qmain"))
     (qm-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-and*
                              "q1" qm-expr e-expr df-expr))
     (q-inst (<a href="VL2014____VL-SIMPLE-INST.html">vl-simple-inst</a> *vl-1-bit-xor*
                             "q2" q-expr r-expr qm-expr)))
    (<a href="ACL2____HONS-COPY.html">hons-copy</a>
         (<a href="VL2014____MAKE-VL-MODULE.html">make-vl-module</a>
              :name name
              :origname name
              :ports (<a href="COMMON-LISP____LIST.html">list</a> q-port r-port e-port d-port)
              :portdecls (<a href="COMMON-LISP____LIST.html">list</a> q-portdecl
                               r-portdecl e-portdecl d-portdecl)
              :vardecls (<a href="COMMON-LISP____LIST.html">list</a> q-vardecl r-vardecl
                              e-vardecl d-vardecl xwire-vardecl
                              d~-vardecl dx-vardecl df-vardecl
                              xa-vardecl xb-vardecl qm-vardecl)
              :modinsts (<a href="COMMON-LISP____LIST.html">list</a> xwire-inst d~-inst dx-inst df-inst
                              xa-inst xb-inst r-inst qm-inst q-inst)
              :minloc *vl-fakeloc*
              :maxloc *vl-fakeloc*))))</pre> 
 

</body>
</html>
