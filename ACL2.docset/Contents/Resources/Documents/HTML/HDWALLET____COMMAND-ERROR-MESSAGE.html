<html>
<head>
<meta charset="UTF-8">
<title>Command-error-message</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=HDWALLET____COMMAND-ERROR-MESSAGE">Click for Command-error-message in the Full Manual</a></h3>

<p>Turn a command error into a user-oriented message.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(command-error-message command error) → msg</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">command</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> command)</span>.</font>
</dd> 
  <dd>
<span class="tt">error</span> — <font color="#606060">Guard <span class="v">(<a href="HDWALLET____COMMAND-ERROR-P.html">command-error-p</a> error)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">msg</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____MSGP.html">msgp</a> msg)</span>.</font>
</dd> 
 
</dl></div> 
<p>The message consists of two parts:</p><ol>
<li>A heading that indicates that an error has occurred, 
      and the command in which it occurred (if applicable).</li>
<li>A body that describes the error that occurred. 
      This is separated by a blank line from the heading.</li>
</ol> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>command-error-message</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 command-error-message (command error)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> command)
                             (<a href="HDWALLET____COMMAND-ERROR-P.html">command-error-p</a> error))))
 (<a href="ACL2____B_A2.html">b*</a>
  ((heading-core
        (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____MEMBER-EQUAL.html">member-equal</a> command
                          (<a href="COMMON-LISP____LIST.html">list</a> *command-name-init-from-entropy*
                                *command-name-init-from-mnemonic*
                                *command-name-sign*
                                *command-name-next-key*))
            (<a href="ACL2____MSG.html">msg</a> "Error in command '~s0':" command)
            (<a href="ACL2____MSG.html">msg</a> "Error:")))
   (heading (<a href="ACL2____MSG.html">msg</a> "~@0~%~%" heading-core))
   (body-core
    (<a href="HDWALLET____COMMAND-ERROR-CASE.html">command-error-case</a>
     error
     :malformed-mnemonic
     (<a href="ACL2____MSG.html">msg</a>
      "The supplied mnemonic argument is impossibly long: ~
                it consists of ~x0 characters."
      (<a href="COMMON-LISP____LENGTH.html">length</a> error.mnemonic))
     :malformed-passphrase
     (<a href="ACL2____MSG.html">msg</a>
      "The supplied passphrase argument is impossibly long: ~
                it consists of ~x0 characters."
      (<a href="COMMON-LISP____LENGTH.html">length</a> error.passphrase))
     :malformed-entropy
     (<a href="ACL2____MSG.html">msg</a>
      "The entropy argument must be a sequence of ~
                32, 40, 48, 56, or 64 hexadecimal digits without spaces ~
                (forming a sequence of 16, 20, 24, 28, or 32 bytes).
                The supplied entropy argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.entropy)
     :malformed-nonce
     (<a href="ACL2____MSG.html">msg</a>
      "The nonce argument must be a sequence of ~
                decimal digits without spaces that form a 256-bit number. ~
                The supplied nonce argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.nonce)
     :malformed-gas-price
     (<a href="ACL2____MSG.html">msg</a>
      "The gas price argument must be a sequence of ~
                decimal digits without spaces that forms a 256-bit number. ~
                The supplied gas price argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.gas-price)
     :malformed-gas-limit
     (<a href="ACL2____MSG.html">msg</a>
      "The gas limit argument must be a sequence of ~
                decimal digits without spaces that forms a 256-bit number. ~
                The supplied gas limit argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.gas-limit)
     :malformed-to
     (<a href="ACL2____MSG.html">msg</a>
      "The recipient argument must be a sequence of ~
                40 hexadecimal digits without spaces ~
                (forming a sequence of 20 bytes).
                The supplied recipient argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.to)
     :malformed-value
     (<a href="ACL2____MSG.html">msg</a>
      "The value argument must be a sequence of ~
                decimal digits without spaces that form a 256-bit number. ~
                The supplied value argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.value)
     :malformed-data
     (<a href="ACL2____MSG.html">msg</a>
      "The data argument must be a sequence of ~
                an even number of hexadecimal digits without spaces ~
                (forming a sequence of bytes of half the length). ~
                The supplied data argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.data)
     :malformed-address-key-index
     (<a href="ACL2____MSG.html">msg</a>
      "The address key index argument must be a sequence of ~
                decimal digits without spaces that form a number. ~
                The supplied address key index argument~%~%~
                ~s0~s1~%~%~
                does not have that form."
      "  " error.address-key-index)
     :address-key-index-too-large
     (<a href="ACL2____MSG.html">msg</a>
      "The address key index argument ~x0 ~
                must denote an existing key, ~
                i.e. it must be a number between ~
                0 (inclusive) and ~x1 (exclusive), ~
                where ~x1 is the number of address key indices used so far."
      error.address-key-index error.limit)
     :address-key-index-skipped
     (<a href="ACL2____MSG.html">msg</a>
      "The address key index argument ~x0 ~
                must denote an existing key, ~
                but the derivation of the address key with that index failed ~
                and therefore the key with that index was skipped."
      error.address-key-index)
     :root-key-derivation-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The derivation of the root key from the seed ~
                failed, and therefore the wallet cannot be initialized. ~
                This is rare, but not impossible.
                Try initializing the wallet again with different inputs, ~
                perhaps just a different passphrase: ~
                this will generally produce a different seed.")
     :purpose-key-derivation-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The derivation of the purpose key from the root key ~
                failed, and therefore the wallet cannot be initialized. ~
                This is rare, but not impossible.
                Try initializing the wallet again with different inputs, ~
                perhaps just a different passphrase: ~
                this will generally produce a different seed ~
                and therefore a different ~
                root key.")
     :coin-type-key-derivation-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The derivation of the coin type key from the purpose key ~
                failed, and therefore the wallet cannot be initialized. ~
                This is rare, but not impossible.
                Try initializing the wallet again with different inputs, ~
                perhaps just a different passphrase: ~
                this will generally produce a different seed ~
                and therefore a different ~
                root key and purpose key.")
     :account-key-derivation-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The derivation of the account key from the coin type key ~
                failed, and therefore the wallet cannot be initialized. ~
                This is rare, but not impossible.
                Try initializing the wallet again with different inputs, ~
                perhaps just a different passphrase: ~
                this will generally produce a different seed ~
                and therefore a different ~
                root key, purpose key, and coin type key.")
     :external-chain-key-derivation-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The derivation of the external chain key from the account key ~
                failed, and therefore the wallet cannot be initialized. ~
                This is rare, but not impossible.
                Try initializing the wallet again with different inputs, ~
                perhaps just a different passphrase: ~
                this will generally produce a different seed ~
                and therefore a different ~
                root key, purpose key, coin type key, and account key.")
     :address-key-derivation-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The derivation of the address key with index ~x0 failed. ~
                This is rare, but not impossible.
                This address key index will be marked as skipped.
                Run this command again to attempt to derive an address key ~
                with the next index."
      error.address-key-index)
     :address-key-index-limit
     (<a href="ACL2____MSG.html">msg</a>
      "A very large number of address keys ~
                has already been generated in this wallet, ~
                reaching the maximum address key index ~x0. ~
                Therefore, it is not possible to generate another key, ~
                because its index would exceed the maximum. ~
                Try creating an additional wallet."
      (<a href="COMMON-LISP____1-.html">1-</a> (<a href="COMMON-LISP____EXPT.html">expt</a> 2 31)))
     :pretransaction-rlp-fail
     (<a href="ACL2____MSG.html">msg</a>
      "An impossibly large transaction is being created for signing. ~
                It is so large that it cannot be RLP-encoded, ~
                which is required in order to sign it.")
     :transaction-sign-fail
     (<a href="ACL2____MSG.html">msg</a>
      "The ECDSA signature of the transaction failed. ~
                This is rare but not impossible. ~
                Since this wallet uses a deterministic ECDSA, ~
                attempting to create the same transaction will fail again. ~
                Try instead varying slightly ~
                some non-critical components of the transaction, ~
                such as the gas limit.")
     :transaction-rlp-fail
     (<a href="ACL2____MSG.html">msg</a>
      "An impossibly large signed transaction has been created. ~
                It is so large that it cannot be RLP-encoded, ~
                which is required in order to send it to the Ethereum network.")
     :state-file-untestable
     (<a href="ACL2____MSG.html">msg</a>
      "A failure occurred while attempting to check ~
                whether a file with the wallet state exists. ~
                This is out of the wallet's control. ~
                Make sure that the directory (<a href="COMMON-LISP____AND.html">and</a> file, if it exists) ~
                are accessible to the user who is running the wallet: ~
                the path of the file is '~s0'."
      *stat-filepath*)
     :state-file-absent
     (<a href="ACL2____MSG.html">msg</a>
      "No file with the wallet state was found at the path '~s0'. ~
                This command requires that file to exist, ~
                i.e. that the wallet has already been initialized."
      *stat-filepath*)
     :state-file-present
     (<a href="ACL2____MSG.html">msg</a>
      "A file with the wallet state was found at the path '~s0'. ~
                This command will overwrite that file. ~
                If that is intended, separately remove the file ~
                and try this command again."
      *stat-filepath*)
     :state-file-not-regular
     (<a href="ACL2____MSG.html">msg</a>
      "The path '~s0' to the wallet state exists in the file system, ~
                but it does not refer to a regular file. ~
                The file system entity at that path
                may have been modified from outside the wallet. ~
                Re-create the file by re-initializing the wallet ~
                from the original mnemonic and passphrase."
      *stat-filepath*)
     :state-file-malformed
     (<a href="ACL2____MSG.html">msg</a>
      "The file at the path '~s0' does not contain ~
                a well-formed wallet state. ~
                The file may have been modified from outside the wallet. ~
                Re-create the file by re-initializing the wallet ~
                from the original mnemonic and passphrase."
      *stat-filepath*)
     :wrong-number-of-arguments
     (<a href="ACL2____MSG.html">msg</a>
      "This command requires ~x0 arguments,
                but ~x1 arguments were supplied instead."
      error.required error.given)
     :wrong-command
     (<a href="ACL2____MSG.html">msg</a>
      "The supplied command '~s0' is not among the wallet commands. ~
                The wallet commands are '~s1', '~s2', '~s3', and '~s4'."
      command *command-name-init-from-entropy*
      *command-name-init-from-mnemonic*
      *command-name-sign*
      *command-name-next-key*)
     :no-command
     (<a href="ACL2____MSG.html">msg</a>
      "No command was supplied to the wallet. ~
                The wallet commands are '~s0', '~s1', '~s2', and '~s3'."
      *command-name-init-from-entropy*
      *command-name-init-from-mnemonic*
      *command-name-sign*
      *command-name-next-key*)))
   (body (<a href="ACL2____MSG.html">msg</a> "~@0~%~%" body-core)))
  (<a href="ACL2____MSG.html">msg</a> "~@0~@1" heading body)))</pre> 
<p><b>Theorem: </b>msgp-of-command-error-message</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> msgp-of-command-error-message
        (<a href="ACL2____B_A2.html">b*</a> ((<a href="ACL2____MSG.html">msg</a> (<a href="HDWALLET____COMMAND-ERROR-MESSAGE.html">command-error-message</a> command error)))
            (<a href="ACL2____MSGP.html">msgp</a> msg))
        :rule-classes :rewrite)</pre> 

</body>
</html>
