<html>
<head>
<meta charset="UTF-8">
<title>Def-universal-equiv</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____DEF-UNIVERSAL-EQUIV">Click for Def-universal-equiv in the Full Manual</a></h3>

<p>A macro for defining universally quantified equivalence relations.</p><p>It is often useful to introduce equivalence relations such as:</p> 
 
<blockquote> 
<i>A === B when for every possible element E, A and B agree on E.</i> 
</blockquote> 
 
<p>For some particular notion of what <i>agree</i> means.  This macro gives you 
a quick way to introduce such a relation, using <a href="ACL2____DEFUN-SK.html">defun-sk</a>, and then 
automatically prove that it is an equivalence relation.  For instance, an 
equivalence such as:</p> 
 
<pre class="code">(<a href="ACL2____DEFUN-SK.html">defun-sk</a> foo-equiv (a b)
  (<a href="ACL2____FORALL.html">forall</a> (x y z)
          (<a href="COMMON-LISP____AND.html">and</a> (bar-equiv (foo a x y)
                          (foo b x y))
               (baz-equiv (fa a z)
                          (fa b z)))))</pre> 
 
<p>Can be introduced using:</p> 
 
<pre class="code">(<a href="ACL2____DEF-UNIVERSAL-EQUIV.html">def-universal-equiv</a> foo-equiv (a b)
  :qvars (x y z)
  :equivs ((bar-equiv (foo a x y))
           (baz-equiv (fa a z))))</pre> 
 
<p>When called with <span class="v">:defquant t</span>, we use <a href="ACL2____DEFQUANT.html">defquant</a> instead of <a href="ACL2____DEFUN-SK.html">defun-sk</a>.  This requires that the WITNESS-CP book be included.</p> 
 
<p>Note that <span class="v">:qvars</span> may be omitted, in which case there is no 
quantifier (<a href="ACL2____DEFUN-SK.html">defun-sk</a>) introduced.  This can be used as a shortcut to 
prove that a fixing function induces an equivalence relation, e.g.,</p> 
 
<pre class="code">(<a href="ACL2____DEF-UNIVERSAL-EQUIV.html">def-universal-equiv</a> gfix-equiv
  :equiv-terms ((<a href="COMMON-LISP____EQUAL.html">equal</a> (gfix x))))</pre> 
<p>produces</p> 
<pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> gfix-equiv (x y)
 (<a href="COMMON-LISP____EQUAL.html">equal</a> (gfix x) (gfix y)))

(<a href="ACL2____DEFEQUIV.html">defequiv</a> gfix-equiv)</pre> 
 
<p>(with appropriate hints to ensure that the <span class="v">defequiv</span> succeeds).</p> 
 

</body>
</html>
