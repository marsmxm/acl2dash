<html>
<head>
<meta charset="UTF-8">
<title>Vl-fmt</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL____VL-FMT">Click for Vl-fmt in the Full Manual</a></h3>

<p>Print format strings with support for Verilog constructs.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-fmt x alist &amp;key (ps 'ps))  ps</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">x</span>  <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> x)</span>.</font>
</dd> 
  <dd>
<span class="tt">alist</span>  <font color="#606060">Guard <span class="v">(<a href="ACL2____ALISTP.html">alistp</a> alist)</span>.</font>
</dd> 
 
</dl></div> 
<p><span class="tt">(vl-fmt x alist &amp;key (ps 'ps))</span> extends the basic <a href="VL____FORMATTED-PRINTING.html">formatted-printing</a> routine, 
<a href="VL____VL-BASIC-FMT.html">vl-basic-fmt</a>, with new directives for more conveniently printing Verilog 
modules.  In particular, while <span class="v">vl-basic-fmt</span> only supports a small set of 
directives like <span class="v">~|</span>, <span class="v">~%</span>, <span class="v">~x0</span>, and <span class="v">~s0</span>, <span class="v">vl-fmt</span> 
additionally supports <span class="v">~a</span> and <span class="v">~m</span>, which are convenient when we want to 
tell the user about some parse-tree construct.</p> 
 
<p>Although <span class="v">vl-basic-fmt</span> does not yet implement many ACL2 directives, we 
might imagine wanting to support its other directives.  So we have kept our 
directives separate from those mentioned in <span class="v">:doc fmt</span>.</p> 
 
<p>The more complicated directives, namely <span class="v">~a</span>, <span class="v">~m</span>, and <span class="v">~w</span>, are 
handled by attachments.  The following description pertains to the default 
implementation of those directives, provided by the book 
"centaur/vl/mlib/fmt".  A simpler version is provided in 
"centaur/vl/util/fmt-base".</p> 
 
<dl> 
 
<dt>
<b>~a</b>, the "(almost) anything directive"</dt> 
 
<dd>This directive can handle most Verilog constructs and is our preferred way 
to print things in warning messages.  It understands how to pretty-print: 
 
<ul> 
 
 <li>
<a href="VL____VL-LOCATION-P.html">locations</a>,</li> 
 
 <li>
<a href="VL____VL-EXPR-P.html">expressions</a> (and automatically 
prefers to print "original expressions" rather than "simplified 
expressions"),</li> 
 
 <li>
<a href="VL____VL-RANGE-P.html">ranges</a>,</li> 
 
 <li>
<a href="VL____VL-STMT-P.html">statements</a>,</li> 
 
 <li>
<a href="VL____VL-PLAINARG-P.html">plain</a> or <a href="VL____VL-NAMEDARG-P.html">named</a> arguments,</li> 
 
 <li>
<a href="VL____VL-CONTEXT-P.html">contexts</a>,</li> 
 
 <li>any <a href="VL____VL-MODELEMENT-P.html">module element</a>,</li> 
 
 <li>or even a whole <a href="VL____VL-MODULE-P.html">module</a> (for which 
it only prints the name of the module, perhaps with links).</li> 
 
</ul> 
 
Because this directive is intended for warning messages, it only prints short 
summaries of any contexts and module elements.  On the other hand, it prints 
expressions, ranges, statements, and arguments "in full".</dd> 
 
<dt>
<b>~m</b>, the "module name directive"</dt> 
 
<dd>The corresponding argument should be a string that is the name of a module, 
but can also be an entire module.  In html mode, a link to this module will be 
printed.</dd> 
 
<dt>
<b>~w</b>, the "wire name directive"</dt> 
 
<dd>The corresponding argument should be a string that is the name of something 
in the module's namespace, for instance wire names.  But this can also be used 
for names of module instances, gate instances, parameters, etc.  In html mode, 
a link to this module element will be printed.</dd> 
 
</dl> 
 
<p>The <b>~l</b> directive is deprecated and is now a synonym for ~a.  It was 
formerly the "location directive" and printed a location.</p>
</body>
</html>
