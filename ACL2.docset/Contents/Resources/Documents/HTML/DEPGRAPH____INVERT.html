<html>
<head>
<meta charset="UTF-8">
<title>Invert</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=DEPGRAPH____INVERT">Click for Invert in the Full Manual</a></h3>

<p>Invert a dependency graph.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(invert graph) → inverted-graph</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">graph</span> — Alist that binds nodes to the list of nodes they (directly) depend on.</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">inverted-graph</span> — <b>Fast</b> alist that binds nodes to the list of nodes 
                   that (directly) depend on them.</dd> 
 
</dl></div> 
<p>See the discussion of graph representation in <a href="DEPGRAPH____DEPGRAPH.html">depgraph</a>. 
This basically changes the directions of arrows in the graph.  For instance, if 
our original graph was:</p> 
 
<pre class="code">A -----&gt;  B ---&gt; C        ((A . (B))
          |      |         (B . (C D))
          |      |         (C . (D))
          v      |         (D . NIL))
          D &lt;----+</pre> 
 
<p>Then inverting the graph just changes the directions of all the arrows, 
e.g., we would have:</p> 
 
<pre class="code">A &lt;-----  B &lt;--- C        ((A . NIL)
          ^      ^         (B . (A))
          |      |         (C . (B))
          |      |         (D . (C B)))
          D -----+</pre> 
 
<p>We are careful to ensure that every node is bound in the resulting graph, 
e.g., we'll have a binding for <span class="v">A</span> even though it is a leaf node.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>invert</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 invert (graph)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t))
 (<a href="COMMON-LISP____LET.html">let</a>
   ((__function__ 'invert))
   (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
   (<a href="ACL2____B_A2.html">b*</a> ((nodes (<a href="ACL2____ALIST-KEYS.html">alist-keys</a> graph))
        (acc (<a href="ACL2____MAKE-FAST-ALIST.html">make-fast-alist</a> (<a href="ACL2____PAIRLIS_42.html">pairlis$</a> nodes nil)))
        (acc (<a href="ACL2____WITH-FAST-ALIST.html">with-fast-alist</a> graph
                              (<a href="DEPGRAPH____INVERT-OUTER-LOOP.html">invert-outer-loop</a> nodes graph acc))))
       (<a href="ACL2____FAST-ALIST-CLEAN.html">fast-alist-clean</a> acc))))</pre> 
<p><b>Theorem: </b>invert-correct</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> invert-correct
        (<a href="ACL2____IFF.html">iff</a> (<a href="COMMON-LISP____MEMBER.html">member</a> parent
                     (<a href="COMMON-LISP____CDR.html">cdr</a> (<a href="ACL2____HONS-ASSOC-EQUAL.html">hons-assoc-equal</a> child (<a href="DEPGRAPH____INVERT.html">invert</a> graph))))
             (<a href="COMMON-LISP____MEMBER.html">member</a> child
                     (<a href="COMMON-LISP____CDR.html">cdr</a> (<a href="ACL2____HONS-ASSOC-EQUAL.html">hons-assoc-equal</a> parent graph)))))</pre> 

</body>
</html>
