<html>
<head>
<meta charset="UTF-8">
<title>Defobject-process-init-term</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=C____DEFOBJECT-PROCESS-INIT-TERM">Click for Defobject-process-init-term in the Full Manual</a></h3>

<p>Process a term that is an element of the list <span class="v">:init</span>.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(defobject-process-init-term term elemtype ctx state) 
  → 
(mv erp expr state)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">elemtype</span> — <font color="#606060">Guard <span class="v">(<a href="C____TYPEP.html">typep</a> elemtype)</span>.</font>
</dd> 
  <dd>
<span class="tt">ctx</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____CTXP.html">ctxp</a> ctx)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">expr</span> — An <span class="tt"><a href="C____EXPRP.html">exprp</a></span>.</dd> 
 
</dl></div> 
<p>We translate the term. 
     We check whether it has the form required in the user documentation, 
     and whether it has the right type. 
     We return the expression represented by the term, 
     if all the checks succeed.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>defobject-process-init-term</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 defobject-process-init-term
 (term elemtype ctx state)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____STATE.html">state</a>)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="C____TYPEP.html">typep</a> elemtype) (<a href="ACL2____CTXP.html">ctxp</a> ctx))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'defobject-process-init-term))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____ER.html">er</a> (<a href="COMMON-LISP____LIST.html">list</a> term stobjs-out))
     (<a href="ACL2____ENSURE-VALUE-IS-UNTRANSLATED-TERM_42.html">acl2::ensure-value-is-untranslated-term$</a>
          term
          (<a href="ACL2____MSG.html">msg</a> "The initializer term ~x0" term)
          t (<a href="C____IRR-EXPR.html">irr-expr</a>)))
    ((unless (<a href="COMMON-LISP____EQUAL.html">equal</a> stobjs-out (<a href="COMMON-LISP____LIST.html">list</a> nil)))
     (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a>
      ctx t (<a href="C____IRR-EXPR.html">irr-expr</a>)
      "The initializer term ~x0 must return ~
                   a single non-stobj value, ~
                   but it returns ~x1 instead."
      term stobjs-out))
    ((<a href="ACL2____MV.html">mv</a> erp (<a href="COMMON-LISP____LIST.html">list</a> expr type) state)
     (<a href="C____DEFOBJECT-TERM-TO-EXPR.html">defobject-term-to-expr</a> term ctx state))
    ((when erp) (<a href="ACL2____MV.html">mv</a> erp (<a href="C____IRR-EXPR.html">irr-expr</a>) state))
    ((unless (<a href="COMMON-LISP____EQUAL.html">equal</a> type elemtype))
     (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a>
      ctx t (<a href="C____IRR-EXPR.html">irr-expr</a>)
      "The initializer term ~x0 has type ~x1, ~
                   which does not match the element type ~x2 of the array."
      term type elemtype)))
   (<a href="ACL2____VALUE.html">acl2::value</a> expr))))</pre> 

</body>
</html>
