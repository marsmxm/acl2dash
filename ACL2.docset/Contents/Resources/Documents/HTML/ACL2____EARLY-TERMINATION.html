<html>
<head>
<meta charset="UTF-8">
<title>Early-termination</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____EARLY-TERMINATION">Click for Early-termination in the Full Manual</a></h3>

<p>Early termination for <span class="tt"><a href="ACL2____PAND.html">pand</a></span> and <span class="tt"><a href="ACL2____POR.html">por</a></span>.</p><p>This <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a> topic relates to the experimental 
 extension of ACL2 supporting parallel execution and proof; see <a href="ACL2____PARALLELISM.html">parallelism</a>.</p> 
 
 <p>The evaluation of <span class="v">(<a href="COMMON-LISP____AND.html">and</a> expr1 expr2)</span> returns <span class="v">nil</span> if <span class="v">expr1</span> 
 evaluates to <span class="v">nil</span>, avoiding the evaluation of <span class="v">expr2</span>.  More generally, 
 the evaluation of <span class="v">(<a href="COMMON-LISP____AND.html">and</a> expr1 expr2 ... exprk)</span> terminates with a return 
 value of <span class="v">nil</span> as soon as any <span class="v">expri</span> evaluates to <span class="v">nil</span> â€” no 
 <span class="v">exprj</span> is evaluated in this case for <span class="v">j &gt; i</span>.  This so-called ``lazy 
 evaluation'' of <span class="tt"><a href="COMMON-LISP____AND.html">and</a></span> terms can thus save some computation; roughly 
 speaking, the smaller the <span class="v">i</span>, the more computation is saved.</p> 
 
 <p>If the above call of <span class="tt"><a href="COMMON-LISP____AND.html">and</a></span> is replaced by its parallel version, 
 <span class="tt"><a href="ACL2____PAND.html">pand</a></span>, then there can be even more opportunity for skipping work.  The 
 arguments to <span class="tt"><a href="ACL2____PAND.html">pand</a></span> can be evaluated in parallel, in which case the 
 first such evaluation that returns with a value of <span class="v">nil</span>, if any, causes 
 the remaining such evaluations to abort.</p> 
 
 <p>Consider the following functions that compute whether a tree is valid (see 
 <a href="ACL2____GRANULARITY.html">granularity</a> for a discussion of the granularity form).</p> 
 
 <pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> valid-tip (x)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t))
  (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____EQ.html">eq</a> x 'A)
      (<a href="COMMON-LISP____EQ.html">eq</a> x 'T)
      (<a href="COMMON-LISP____EQ.html">eq</a> x 'C)
      (<a href="COMMON-LISP____EQ.html">eq</a> x 'G)))

(<a href="COMMON-LISP____DEFUN.html">defun</a> pvalid-tree (x depth)
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="ACL2____NATP.html">natp</a> depth)))
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____ATOM.html">atom</a> x)
      (valid-tip x)
    (<a href="ACL2____PAND.html">pand</a> (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____GRANULARITY.html">granularity</a> (<a href="COMMON-LISP_____C3.html">&lt;</a> depth 10)))
          (pvalid-tree (<a href="COMMON-LISP____CAR.html">car</a> x) (<a href="COMMON-LISP____1_B2.html">1+</a> depth))
          (pvalid-tree (<a href="COMMON-LISP____CDR.html">cdr</a> x) (<a href="COMMON-LISP____1_B2.html">1+</a> depth)))))</pre> 
 
 <p>We would like to stop execution as soon as any tip is found to be invalid. 
 So, when computing the conjunction of terms by using <span class="tt"><a href="ACL2____PAND.html">pand</a></span>, once one of 
 those terms evaluates to <span class="v">nil</span>, the computations for the other terms are 
 aborted and the <span class="tt"><a href="ACL2____PAND.html">pand</a></span> call returns <span class="v">nil</span>.  By using <span class="tt"><a href="ACL2____PAND.html">pand</a></span>, we 
 can in principle attain a speedup factor greater than the number of available 
 cores.</p> 
 
 <p>The concept of early termination also applies to <span class="tt"><a href="ACL2____POR.html">por</a></span>, except that 
 early termination occurs when an argument evaluates to non-<span class="v">nil</span>.</p>
</body>
</html>
