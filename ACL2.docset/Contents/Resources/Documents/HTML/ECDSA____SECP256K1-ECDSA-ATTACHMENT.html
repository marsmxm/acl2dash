<html>
<head>
<meta charset="UTF-8">
<title>Secp256k1-ecdsa-attachment</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ECDSA____SECP256K1-ECDSA-ATTACHMENT">Click for Secp256k1-ecdsa-attachment in the Full Manual</a></h3>

<p>Executable attachment for the <a href="ECDSA____SECP256K1-ECDSA-INTERFACE.html">ECDSA interface for the curve secp256k1</a>.</p><p>We define a wrapper of 
     the secp256k1 deterministic signature definition with public key recovery, 
     and attach the wrapper to the constrained function. 
     The wrapper serves to 
     use the fixtypes for byte lists and to fix all the inputs 
     and convert bytes to bits as required by the signature definition.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>secp256k1-sign-det-rec-wrapper</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> secp256k1-sign-det-rec-wrapper
       (hash key small-x? small-s?)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____BYTE-LISTP.html">byte-listp</a> hash)
                                   (<a href="ECURVE____SECP256K1-PRIV-KEY-P.html">secp256k1-priv-key-p</a> key)
                                   (<a href="ACL2____BOOLEANP.html">booleanp</a> small-x?)
                                   (<a href="ACL2____BOOLEANP.html">booleanp</a> small-s?))))
       (<a href="COMMON-LISP____LET.html">let</a> ((acl2::__function__ 'secp256k1-sign-det-rec-wrapper))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> acl2::__function__))
            (<a href="ACL2____B_A2.html">b*</a> ((key (<a href="ACL2____MBE.html">mbe</a> :logic (<a href="ECURVE____SECP256K1-PRIV-KEY-FIX.html">secp256k1-priv-key-fix</a> key)
                           :exec key))
                 (small-x? (<a href="ACL2____MBE.html">mbe</a> :logic (<a href="ACL2____BOOL-FIX.html">bool-fix</a> small-x?)
                                :exec small-x?))
                 (small-s? (<a href="ACL2____MBE.html">mbe</a> :logic (<a href="ACL2____BOOL-FIX.html">bool-fix</a> small-s?)
                                :exec small-s?))
                 (hash-bits (<a href="ACL2____BEBYTES_D3_E3BITS.html">bebytes=&gt;bits</a> hash))
                 ((<a href="ACL2____MV.html">mv</a> error? x-index y-even? r s)
                  (<a href="ECDSA____ECDSA-SIGN-DETERMINISTIC-PREHASHED.html">ecdsa-sign-deterministic-prehashed</a>
                       hash-bits key small-x? small-s?))
                 ((when error?) (<a href="ACL2____MV.html">mv</a> t 0 nil 0 0)))
                (<a href="ACL2____MV.html">mv</a> nil x-index y-even? r s))))</pre> 
<p><b>Theorem: </b>booleanp-of-secp256k1-sign-det-rec-wrapper.error?</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 booleanp-of-secp256k1-sign-det-rec-wrapper.error?
 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?error? ?x-index ?y-even? ?r ?s)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))
     (<a href="ACL2____BOOLEANP.html">booleanp</a> error?))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>natp-of-secp256k1-sign-det-rec-wrapper.x-index</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 natp-of-secp256k1-sign-det-rec-wrapper.x-index
 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?error? ?x-index ?y-even? ?r ?s)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))
     (<a href="ACL2____NATP.html">natp</a> x-index))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>booleanp-of-secp256k1-sign-det-rec-wrapper.y-even?</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 booleanp-of-secp256k1-sign-det-rec-wrapper.y-even?
 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?error? ?x-index ?y-even? ?r ?s)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))
     (<a href="ACL2____BOOLEANP.html">booleanp</a> y-even?))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>secp256k1-fieldp-of-secp256k1-sign-det-rec-wrapper.r</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-fieldp-of-secp256k1-sign-det-rec-wrapper.r
 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?error? ?x-index ?y-even? ?r ?s)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))
     (<a href="ECURVE____SECP256K1-FIELDP.html">secp256k1-fieldp</a> r))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>secp256k1-fieldp-of-secp256k1-sign-det-rec-wrapper.s</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-fieldp-of-secp256k1-sign-det-rec-wrapper.s
 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?error? ?x-index ?y-even? ?r ?s)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))
     (<a href="ECURVE____SECP256K1-FIELDP.html">secp256k1-fieldp</a> s))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-of-byte-list-fix-hash</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  secp256k1-sign-det-rec-wrapper-of-byte-list-fix-hash
  (<a href="COMMON-LISP____EQUAL.html">equal</a>
       (secp256k1-sign-det-rec-wrapper (<a href="ACL2____BYTE-LIST-FIX.html">byte-list-fix</a> hash)
                                       key small-x? small-s?)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-byte-list-equiv-congruence-on-hash</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-sign-det-rec-wrapper-byte-list-equiv-congruence-on-hash
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="ACL2____BYTE-LIST-EQUIV.html">byte-list-equiv</a> hash hash-equiv)
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)
         (secp256k1-sign-det-rec-wrapper
              hash-equiv key small-x? small-s?)))
 :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-of-secp256k1-priv-key-fix-key</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-sign-det-rec-wrapper-of-secp256k1-priv-key-fix-key
 (<a href="COMMON-LISP____EQUAL.html">equal</a>
   (secp256k1-sign-det-rec-wrapper hash (<a href="ECURVE____SECP256K1-PRIV-KEY-FIX.html">secp256k1-priv-key-fix</a> key)
                                   small-x? small-s?)
   (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-secp256k1-priv-key-equiv-congruence-on-key</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-sign-det-rec-wrapper-secp256k1-priv-key-equiv-congruence-on-key
 (<a href="ACL2____IMPLIES.html">implies</a>
  (secp256k1-priv-key-equiv key key-equiv)
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)
         (secp256k1-sign-det-rec-wrapper
              hash key-equiv small-x? small-s?)))
 :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-of-bool-fix-small-x?</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  secp256k1-sign-det-rec-wrapper-of-bool-fix-small-x?
  (<a href="COMMON-LISP____EQUAL.html">equal</a>
       (secp256k1-sign-det-rec-wrapper hash key (<a href="ACL2____BOOL-FIX.html">bool-fix</a> small-x?)
                                       small-s?)
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-iff-congruence-on-small-x?</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-sign-det-rec-wrapper-iff-congruence-on-small-x?
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="ACL2____IFF.html">iff</a> small-x? small-x?-equiv)
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)
         (secp256k1-sign-det-rec-wrapper
              hash key small-x?-equiv small-s?)))
 :rule-classes :congruence)</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-of-bool-fix-small-s?</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  secp256k1-sign-det-rec-wrapper-of-bool-fix-small-s?
  (<a href="COMMON-LISP____EQUAL.html">equal</a>
       (secp256k1-sign-det-rec-wrapper
            hash key small-x? (<a href="ACL2____BOOL-FIX.html">bool-fix</a> small-s?))
       (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)))</pre> 
<p><b>Theorem: </b>secp256k1-sign-det-rec-wrapper-iff-congruence-on-small-s?</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 secp256k1-sign-det-rec-wrapper-iff-congruence-on-small-s?
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="ACL2____IFF.html">iff</a> small-s? small-s?-equiv)
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (secp256k1-sign-det-rec-wrapper hash key small-x? small-s?)
         (secp256k1-sign-det-rec-wrapper
              hash key small-x? small-s?-equiv)))
 :rule-classes :congruence)</pre> 

</body>
</html>
