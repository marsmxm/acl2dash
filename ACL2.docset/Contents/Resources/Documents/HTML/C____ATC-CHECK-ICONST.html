<html>
<head>
<meta charset="UTF-8">
<title>Atc-check-iconst</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=C____ATC-CHECK-ICONST">Click for Atc-check-iconst in the Full Manual</a></h3>

<p>Check if a term represents an integer constant.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atc-check-iconst term ctx state) → (mv erp val state)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">term</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> term)</span>.</font>
</dd> 
  <dd>
<span class="tt">ctx</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____CTXP.html">ctxp</a> ctx)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">val</span> — <font color="#606060">Type <span class="v">(tuple (yes/no booleanp) (<a href="C____CONST.html">const</a> iconstp) (out-type typep) val)</span>.</font>
</dd> 
 
</dl></div> 
<p>If the term is a call of a function <span class="v">&lt;type&gt;-&lt;base&gt;-const</span> 
     on a quoted integer constant, 
     we return the C integer constant represented by this call. 
     We also return the C integer type of the constant.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>atc-check-iconst</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 atc-check-iconst (term ctx state)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____STATE.html">state</a>)))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____PSEUDO-TERMP.html">pseudo-termp</a> term) (<a href="ACL2____CTXP.html">ctxp</a> ctx))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'atc-check-iconst))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   (((acl2::fun (no))
     (<a href="COMMON-LISP____LIST.html">list</a> nil (<a href="C____IRR-ICONST.html">irr-iconst</a>) (<a href="C____IRR-TYPE.html">irr-type</a>)))
    ((unless (<a href="ACL2____PSEUDO-TERM-CASE.html">pseudo-term-case</a> term :fncall))
     (<a href="ACL2____VALUE.html">acl2::value</a> (no)))
    ((<a href="ACL2____PSEUDO-TERM-FNCALL.html">pseudo-term-fncall</a> term) term)
    ((<a href="ACL2____MV.html">mv</a> okp type base const)
     (<a href="C____ATC-CHECK-SYMBOL-3PART.html">atc-check-symbol-3part</a> term.fn))
    ((unless (<a href="COMMON-LISP____AND.html">and</a> okp
                  (<a href="ACL2____MEMBER-EQ.html">member-eq</a> type
                             '(<a href="C____SINT.html">sint</a> uint slong ulong sllong ullong))
                  (<a href="ACL2____MEMBER-EQ.html">member-eq</a> base '(dec oct hex))
                  (<a href="COMMON-LISP____EQ.html">eq</a> const 'const)))
     (<a href="ACL2____VALUE.html">acl2::value</a> (no)))
    ((unless (list-lenp 1 term.args))
     (<a href="ACL2____RAISE.html">raise</a> "Internal error: ~x0 not applied to 1 argument."
            term)
     (<a href="ACL2____VALUE.html">acl2::value</a> (no)))
    (arg (<a href="COMMON-LISP____FIRST.html">first</a> term.args))
    ((unless (<a href="ACL2____PSEUDO-TERM-CASE.html">pseudo-term-case</a> arg :quote))
     (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a>
      ctx t (no)
      "The function ~x0 must be applied to a quoted constant, ~
                   but it is applied to ~x1 instead."
      term.fn arg))
    (val (<a href="ACL2____PSEUDO-TERM-QUOTE-_E3VAL.html">pseudo-term-quote-&gt;val</a> arg))
    ((unless (<a href="ACL2____NATP.html">natp</a> val))
     (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a>
      ctx t (no)
      "The function ~x0 ~
                   must be applied to a quoted natural number, ~
                   but it is applied to ~x1 instead. ~
                   Since this is required by the guard of ~x0, ~
                   this call is unreachable under the guard."
      term.fn val))
    (inrangep (<a href="COMMON-LISP____CASE.html">case</a> type (<a href="C____SINT.html">sint</a> (<a href="C____SINT-INTEGERP.html">sint-integerp</a> val))
                    (<a href="C____UINT.html">uint</a> (<a href="C____UINT-INTEGERP.html">uint-integerp</a> val))
                    (<a href="C____SLONG.html">slong</a> (<a href="C____SLONG-INTEGERP.html">slong-integerp</a> val))
                    (<a href="C____ULONG.html">ulong</a> (<a href="C____ULONG-INTEGERP.html">ulong-integerp</a> val))
                    (<a href="C____SLLONG.html">sllong</a> (<a href="C____SLLONG-INTEGERP.html">sllong-integerp</a> val))
                    (<a href="C____ULLONG.html">ullong</a> (<a href="C____ULLONG-INTEGERP.html">ullong-integerp</a> val))
                    (t (<a href="ACL2____IMPOSSIBLE.html">impossible</a>))))
    ((unless inrangep)
     (<a href="ACL2____ER-SOFT_B2.html">er-soft+</a>
      ctx t (no)
      "The function ~x0
                   must be applied to a quoted natural number ~
                   representable in the C type corresponding to ~x1, ~
                   but it is applied to ~x2 instead."
      term.fn type val))
    (base (<a href="COMMON-LISP____CASE.html">case</a> base (dec (<a href="C____ICONST-BASE-DEC.html">iconst-base-dec</a>))
                (oct (<a href="C____ICONST-BASE-OCT.html">iconst-base-oct</a>))
                (hex (<a href="C____ICONST-BASE-HEX.html">iconst-base-hex</a>))
                (t (<a href="ACL2____IMPOSSIBLE.html">impossible</a>))))
    ((<a href="ACL2____MV.html">mv</a> const type)
     (<a href="COMMON-LISP____CASE.html">case</a> type
           (<a href="C____SINT.html">sint</a> (<a href="ACL2____MV.html">mv</a> (<a href="C____MAKE-ICONST.html">make-iconst</a> :value val
                                  :base base
                                  :unsignedp nil
                                  :length (<a href="C____ICONST-LENGTH-NONE.html">iconst-length-none</a>))
                     (<a href="C____TYPE-SINT.html">type-sint</a>)))
           (<a href="C____UINT.html">uint</a> (<a href="ACL2____MV.html">mv</a> (<a href="C____MAKE-ICONST.html">make-iconst</a> :value val
                                  :base base
                                  :unsignedp t
                                  :length (<a href="C____ICONST-LENGTH-NONE.html">iconst-length-none</a>))
                     (<a href="C____TYPE-UINT.html">type-uint</a>)))
           (<a href="C____SLONG.html">slong</a> (<a href="ACL2____MV.html">mv</a> (<a href="C____MAKE-ICONST.html">make-iconst</a> :value val
                                   :base base
                                   :unsignedp nil
                                   :length (<a href="C____ICONST-LENGTH-LONG.html">iconst-length-long</a>))
                      (<a href="C____TYPE-SLONG.html">type-slong</a>)))
           (<a href="C____ULONG.html">ulong</a> (<a href="ACL2____MV.html">mv</a> (<a href="C____MAKE-ICONST.html">make-iconst</a> :value val
                                   :base base
                                   :unsignedp t
                                   :length (<a href="C____ICONST-LENGTH-LONG.html">iconst-length-long</a>))
                      (<a href="C____TYPE-ULONG.html">type-ulong</a>)))
           (<a href="C____SLLONG.html">sllong</a> (<a href="ACL2____MV.html">mv</a> (<a href="C____MAKE-ICONST.html">make-iconst</a> :value val
                                    :base base
                                    :unsignedp nil
                                    :length (<a href="C____ICONST-LENGTH-LLONG.html">iconst-length-llong</a>))
                       (<a href="C____TYPE-SLLONG.html">type-sllong</a>)))
           (<a href="C____ULLONG.html">ullong</a> (<a href="ACL2____MV.html">mv</a> (<a href="C____MAKE-ICONST.html">make-iconst</a> :value val
                                    :base base
                                    :unsignedp t
                                    :length (<a href="C____ICONST-LENGTH-LLONG.html">iconst-length-llong</a>))
                       (<a href="C____TYPE-ULLONG.html">type-ullong</a>)))
           (t (<a href="ACL2____MV.html">mv</a> (<a href="ACL2____IMPOSSIBLE.html">impossible</a>) (<a href="ACL2____IMPOSSIBLE.html">impossible</a>))))))
   (<a href="ACL2____VALUE.html">acl2::value</a> (<a href="COMMON-LISP____LIST.html">list</a> t const type)))))</pre> 
<p><b>Theorem: </b>return-type-of-atc-check-iconst.val</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> return-type-of-atc-check-iconst.val
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?erp ?val acl2::?state)
              (<a href="C____ATC-CHECK-ICONST.html">atc-check-iconst</a> term ctx state)))
            (tuple (yes/no booleanp)
                   (<a href="C____CONST.html">const</a> iconstp)
                   (out-type typep)
                   val))
        :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>typeset-of-atc-check-iconst</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> typeset-of-atc-check-iconst
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?erp ?val acl2::?state)
              (<a href="C____ATC-CHECK-ICONST.html">atc-check-iconst</a> term ctx state)))
            (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____CONSP.html">consp</a> val) (<a href="ACL2____TRUE-LISTP.html">true-listp</a> val)))
        :rule-classes :type-prescription)</pre> 

</body>
</html>
