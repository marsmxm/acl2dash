<html>
<head>
<meta charset="UTF-8">
<title>Forcing-round</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____FORCING-ROUND">Click for Forcing-round in the Full Manual</a></h3>

<p>A section of a proof dealing with <a href="ACL2____FORCE.html">force</a>d assumptions</p><p>If ACL2 ``<a href="ACL2____FORCE.html">force</a>s'' some hypothesis of some rule to be true, 
 it is obliged later to prove the hypothesis.  See <a href="ACL2____FORCE.html">force</a>.  ACL2 delays 
 the consideration of <a href="ACL2____FORCE.html">force</a>d hypotheses until the main goal has been 
 proved.  It then undertakes a new round of proofs in which the main goal is 
 essentially the conjunction of all hypotheses <a href="ACL2____FORCE.html">force</a>d in the preceding 
 proof.  Call this round of proofs the ``Forcing Round.''  Additional 
 hypotheses may be <a href="ACL2____FORCE.html">force</a>d by the proofs in the Forcing Round.  The 
 attempt to prove these hypotheses is delayed until the Forcing Round has been 
 successfully completed.  Then a new Forcing Round is undertaken to prove the 
 recently <a href="ACL2____FORCE.html">force</a>d hypotheses and this continues until no hypotheses are 
 <a href="ACL2____FORCE.html">force</a>d.  Thus, there is a succession of Forcing Rounds.</p> 
 
 <p>The Forcing Rounds are enumerated starting from 1.  The Goals and Subgoals 
 of a Forcing Round are printed with the round's number displayed in square 
 brackets.  Thus, <span class="v">"[1]Subgoal 1.3"</span> means that the goal in question is 
 Subgoal 1.3 of the 1st forcing round.  To supply a hint for use in the proof 
 of that subgoal, you should use the goal specifier <span class="v">"[1]Subgoal 1.3"</span>. 
 See <a href="ACL2____GOAL-SPEC.html">goal-spec</a>.</p> 
 
 <p>When a round is successfully completed — and for these purposes you 
 may think of the proof of the main goal as being the 0th forcing round — 
 the system collects all of the assumptions <a href="ACL2____FORCE.html">force</a>d by the just-completed 
 round.  Here, an assumption should be thought of as an implication, 
 <span class="v">(<a href="ACL2____IMPLIES.html">implies</a> context hyp)</span>, where context describes the context in which hyp 
 was assumed true.  Before undertaking the proofs of these assumptions, we try 
 to ``clean them up'' in an effort to reduce the amount of work required.  This 
 is often possible because the <a href="ACL2____FORCE.html">force</a>d assumptions are generated by the 
 same rule being applied repeatedly in a given context.</p> 
 
 <p>By delaying and collecting the <span class="v">forced</span> assumptions until the completion 
 of the ``main goal'' we gain two advantages.  First, the user gets 
 confirmation that the ``gist'' of the proof is complete and that all that 
 remains are ``technical details.''  Second, by delaying the proofs of the 
 <a href="ACL2____FORCE.html">force</a>d assumptions ACL2 can undertake the proof of each assumption only 
 once, no matter how many times it was <a href="ACL2____FORCE.html">force</a>d in the main goal.</p> 
 
 <p>In order to indicate which proof steps of the previous round were 
 responsible for which <a href="ACL2____FORCE.html">force</a>d assumptions, we print a sentence 
 explaining the origins of each newly <a href="ACL2____FORCE.html">force</a>d goal.  For example,</p> 
 
 <pre class="code">[1]Subgoal 1, below, will focus on
(GOOD-INPUTP (XTRANS I)),
which was forced in
 Subgoal 14, above,
  by applying (:REWRITE PRED-CRUNCHER) to
  (PRED (XTRANS I) I),
 and
 Subgoal 28, above,
  by applying (:REWRITE PRED-CRUNCHER) to
  (PRED (XTRANS I) I).</pre> 
 
 <p>In this entry, ``[1]Subgoal 1'' is the name of a goal which will be proved 
 in the next forcing round.  On the next line we display the <a href="ACL2____FORCE.html">force</a>d 
 hypothesis, call it <span class="v">x</span>, which is <span class="v">(good-inputp (xtrans i))</span> in this 
 example.  This term will be the conclusion of the new subgoal.  Since the new 
 subgoal will be printed in its entirety when its proof is undertaken, we do 
 not here exhibit the context in which <span class="v">x</span> was <a href="ACL2____FORCE.html">force</a>d.  The sentence 
 then lists (possibly a succession of) a goal name from the just-completed 
 round and some step in the proof of that goal that <a href="ACL2____FORCE.html">force</a>d <span class="v">x</span>.  In 
 the example above we see that Subgoals 14 and 28 of the just-completed proof 
 <a href="ACL2____FORCE.html">force</a>d <span class="v">(good-inputp (xtrans i))</span> by applying <span class="v">(:rewrite
 pred-cruncher)</span> to the term <span class="v">(pred (xtrans i) i)</span>.</p> 
 
 <p>If one were to inspect the theorem prover's description of the proof steps 
 applied to Subgoals 14 and 28 one would find the word ``<a href="ACL2____FORCE.html">force</a>d'' (or 
 sometimes ``forcibly'') occurring in the commentary.  Whenever you see that 
 word in the output, you know you will get a subsequent forcing round to deal 
 with the hypotheses <a href="ACL2____FORCE.html">force</a>d.  Similarly, if at the beginning of a 
 forcing round a <a href="ACL2____RUNE.html">rune</a> is blamed for causing a <a href="ACL2____FORCE.html">force</a> in some 
 subgoal, inspection of the commentary for that subgoal will reveal the word 
 ``<a href="ACL2____FORCE.html">force</a>d'' after the rule name blamed.</p> 
 
 <p>Most <a href="ACL2____FORCE.html">force</a>d hypotheses come from within the prover's simplifier. 
 When the simplifier encounters a hypothesis of the form <span class="v">(<a href="ACL2____FORCE.html">force</a> hyp)</span> it 
 first attempts to establish it by rewriting <span class="v">hyp</span> to, say, <span class="v">hyp'</span>.  If 
 the truth or falsity of <span class="v">hyp'</span> is known, forcing is not required. 
 Otherwise, the simplifier actually <a href="ACL2____FORCE.html">force</a>s <span class="v">hyp'</span>.  That is, the 
 <span class="v">x</span> mentioned above is <span class="v">hyp'</span>, not <span class="v">hyp</span>, when the <a href="ACL2____FORCE.html">force</a>d 
 subgoal was generated by the simplifier.</p> 
 
 <p>Once the system has printed out the origins of the newly <a href="ACL2____FORCE.html">force</a>d 
 goals, it proceeds to the next forcing round, where those goals are 
 individually displayed and attacked.</p> 
 
 <p>At the beginning of a forcing round, the <a href="ACL2____ENABLE.html">enable</a>d structure defaults 
 to the global <a href="ACL2____ENABLE.html">enable</a>d structure.  For example, suppose some <a href="ACL2____RUNE.html">rune</a>, <span class="v">rune</span>, is globally <a href="ACL2____ENABLE.html">enable</a>d.  Suppose in some event you <a href="ACL2____DISABLE.html">disable</a> the <a href="ACL2____RUNE.html">rune</a> at <span class="v">"Goal"</span> and successfully prove the goal but 
 <a href="ACL2____FORCE.html">force</a> <span class="v">"[1]Goal"</span>.  Then during the proof of <span class="v">"[1]Goal"</span>, 
 <a href="ACL2____RUNE.html">rune</a> is <a href="ACL2____ENABLE.html">enable</a>d ``again.''  The right way to think about this is 
 that the <a href="ACL2____RUNE.html">rune</a> is ``still'' <a href="ACL2____ENABLE.html">enable</a>d.  That is, it is <a href="ACL2____ENABLE.html">enable</a>d globally and each forcing round resumes with the global <a href="ACL2____ENABLE.html">enable</a>d structure.</p>
</body>
</html>
