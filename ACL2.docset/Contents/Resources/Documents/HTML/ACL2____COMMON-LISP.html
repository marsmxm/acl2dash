<html>
<head>
<meta charset="UTF-8">
<title>Common-lisp</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____COMMON-LISP">Click for Common-lisp in the Full Manual</a></h3>

<p>Relation to Common Lisp, including deviations from the spec</p><p>ACL2 is a logic, a theorem prover, and a programming language based 
 on Common Lisp.  A connection with Common Lisp is established with guards (see 
 <a href="ACL2____GUARD.html">guard</a>).</p> 
 
 <p>However, here we document potential deviations from Common Lisp semantics 
 even in the presence of verified guards.  Our view is that these deviations 
 are extremely unlikely to manifest; indeed, as of this writing we are unaware 
 of any cases in which these issues arise in practice.  However, we feel 
 obligated to acknowledge their possibility, which could result in surprises 
 during evaluation or even proof.</p> 
 
 <p>The Common Lisp spec allows certain predicates to return what it calls 
 ``generalized Booleans,'' which are really arbitrary values that are to be 
 viewed as either <span class="v">nil</span> or non-<span class="v">nil</span>.  However, in ACL2 these functions 
 are assumed to return <span class="v">nil</span> or <span class="v">t</span>.  For details, see <a href="ACL2____GENERALIZED-BOOLEANS.html">generalized-booleans</a>.</p> 
 
 <p>The execution of forms with <span class="v">:</span><span class="tt"><a href="ACL2____PROGRAM.html">program</a></span> mode functions can result 
 in calls of functions on arguments that do not satisfy their <a href="ACL2____GUARD.html">guard</a>s. 
 In practice, this simply causes hard Lisp errors.  But in principle one could 
 imagine a damaged Lisp image that operates incorrectly.  See <a href="ACL2____DEFUN-MODE-CAVEAT.html">defun-mode-caveat</a>.</p> 
 
 <p>The Common Lisp spec, specifically 
 Section <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_bbc.htm" target="_blank"><nobr>Section 3.2.2.3<img src="../Icon_External_Link.png" title="External link to http://www.lispworks.com/documentation/HyperSpec/Body/03_bbc.htm"></nobr></a> 
 of the <a href="http://www.lispworks.com/documentation/HyperSpec/Front" target="_blank"><nobr>Common Lisp Hyperspec<img src="../Icon_External_Link.png" title="External link to http://www.lispworks.com/documentation/HyperSpec/Front"></nobr></a>, 
 allows for undefined results when a function is ``multiply defined'' in a 
 compiled file.  ACL2 allows redundant <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>s in a book, and in general 
 <a href="ACL2____BOOKS.html">books</a> are compiled by <span class="v">certify-book</span> (but see <a href="ACL2____CERTIFY-BOOK.html">certify-book</a> 
 and see <a href="ACL2____COMPILATION.html">compilation</a> for how to control such compilation).  Moreover, 
 ACL2 provides a redefinition capability (see <a href="ACL2____LD-REDEFINITION-ACTION.html">ld-redefinition-action</a> and 
 see <a href="ACL2____REDEF.html">redef</a>), and the above section also allows for undefined results 
 when a function is defined in a compiled file and then redefined, 
 presumably (for example) because of inlining.</p>
</body>
</html>
