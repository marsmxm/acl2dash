<html>
<head>
<meta charset="UTF-8">
<title>Outer-local</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____OUTER-LOCAL">Click for Outer-local in the Full Manual</a></h3>

<p>Support for events that are local to the outer context.</p><p>Think of <span class="v">outer-local</span> as being like <span class="v">progn</span>, except that the 
events inside it are local to some encapsulate context above in which they are 
sitting.  Outer-local only works when paired with <span class="v">with-outer-locals</span>, which 
is essentially like <span class="v">(<a href="ACL2____ENCAPSULATE.html">encapsulate</a> nil ...)</span> except that it allows 
<span class="v">outer-local</span> events to work.</p> 
 
<p>Example:</p> 
<pre class="code">(with-outer-locals
  (<a href="COMMON-LISP____DEFUN.html">defun</a> exported-fn ...)
  (<a href="ACL2____LOCAL.html">local</a> (<a href="ACL2____DEFTHM.html">defthm</a> lemma ...))
  (<a href="ACL2____DEFTHM.html">defthm</a> exported-thm ...)
  (<a href="ACL2____OUTER-LOCAL.html">outer-local</a> :depth 1 (<a href="ACL2____DEFTHM.html">defthm</a> book-thm ...)))</pre> 
<p>produces, essentially:</p> 
<pre class="code">(<a href="ACL2____LOCAL.html">local</a>
 (<a href="ACL2____ENCAPSULATE.html">encapsulate</a> nil
   (<a href="COMMON-LISP____DEFUN.html">defun</a> exported-fn ...)
   (<a href="ACL2____LOCAL.html">local</a> (<a href="ACL2____DEFTHM.html">defthm</a> lemma ...))
   (<a href="ACL2____DEFTHM.html">defthm</a> exported-thm ...)
   (<a href="ACL2____DEFTHM.html">defthm</a> book-thm ...)))
(<a href="COMMON-LISP____DEFUN.html">defun</a> exported-fn ...)
(<a href="ACL2____DEFTHM.html">defthm</a> exported-thm ...))</pre> 
 
<p>Effectively, the event marked <span class="v">outer-local</span> is visible in book or 
encapsulate surrounding this with-outer-locals event, but local to that 
context.</p> 
 
<p>The <span class="v">:depth</span> argument to <span class="v">outer-local</span> is optional but must occur 
first if it is present.  It takes a positive integer, defaulting to 1.  There 
must be <span class="v">depth</span> nestings of <span class="v">with-outer-locals</span> surrounding each 
outer-local invocation in order for it to work as intended; in that case, the 
events inside the outer-local are local to the context <span class="v">depth</span> levels 
outside it.</p> 
 
<p>Note: IN-THEORY events inside outer-local probably won't act as you would 
like them to, at least in the presence of nonlocal IN-THEORY events.</p>
</body>
</html>
