<html>
<head>
<meta charset="UTF-8">
<title>Vl-expr-to-svex-untyped</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL____VL-EXPR-TO-SVEX-UNTYPED">Click for Vl-expr-to-svex-untyped in the Full Manual</a></h3>

<p>Convert an expression to svex, and return its datatype.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-expr-to-svex-untyped x ss scopes) 
  → 
(mv vttree svex type size)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">x</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-EXPR-P.html">vl-expr-p</a> x)</span>.</font>
</dd> 
  <dd>
<span class="tt">ss</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-SCOPESTACK-P.html">vl-scopestack-p</a> ss)</span>.</font>
</dd> 
  <dd>
<span class="tt">scopes</span> — <font color="#606060">Guard <span class="v">(<a href="VL____VL-ELABSCOPES-P.html">vl-elabscopes-p</a> scopes)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">vttree</span> — <font color="#606060">Type <span class="v">(<a href="COMMON-LISP____AND.html">and</a> (<a href="VL____VTTREE-P.html">vttree-p</a> vttree)
     (<a href="SV____SVARLIST-ADDR-P.html">sv::svarlist-addr-p</a>
          (sv::constraintlist-vars (<a href="VL____VTTREE-_E3CONSTRAINTS.html">vttree-&gt;constraints</a> vttree))))
</span>.</font>
</dd> 
<dd>
<span class="tt">svex</span> — <font color="#606060">Type <span class="v">(<a href="COMMON-LISP____AND.html">and</a> (<a href="SV____SVEX-P.html">sv::svex-p</a> svex) (<a href="SV____SVARLIST-ADDR-P.html">sv::svarlist-addr-p</a> (<a href="SV____SVEX-VARS.html">sv::svex-vars</a> svex)))</span>.</font>
</dd> 
<dd>
<span class="tt">type</span> — <font color="#606060">Type <span class="v">(<a href="COMMON-LISP____AND.html">and</a> (<a href="VL____VL-MAYBE-DATATYPE-P.html">vl-maybe-datatype-p</a> type)
     (<a href="ACL2____IMPLIES.html">implies</a> type (vl-datatype-resolved-p type)))
</span>.</font>
</dd> 
<dd>
<span class="tt">size</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____MAYBE-NATP.html">maybe-natp</a> size)</span>.</font>
</dd> 
 
</dl></div> 
<p>In some cases we need to convert an expression and also check what 
type it is returning.  For example, if the expression is the port connection of 
an instance array, we know the type of a single port but we don't know whether 
all instances' ports are receiving the whole expression, or whether the bits of 
the expression are being distributed across the instances.  To determine that, 
we need to get the type of the expression.</p> 
 
<p>We shouldn't care about the signedness of the return type here; when we only 
know the size of a vector expression, we just return a unsigned packed logic 
vector.</p> 
 

</body>
</html>
