<html>
<head>
<meta charset="UTF-8">
<title>Profile</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____PROFILE">Click for Profile in the Full Manual</a></h3>

<p>Turn on profiling for one function</p><p>NOTE: An alternative to this utility, which has significantly less 
 functionality but doesn't use <a href="ACL2____HONS-ENABLED.html">hons-enabled</a> features of ACL2, may be 
 found in community book <span class="v">books/misc/profiling.lisp</span>.  See <a href="ACL2____HONS-AND-MEMOIZATION.html">hons-and-memoization</a> for a general discussion of <a href="ACL2____MEMOIZATION.html">memoization</a>, on which 
 this <span class="v">profile</span> utility is built, and the related features of hash consing 
 and applicative hash tables.</p> 
 
 <p><span class="v">Profile</span> can be useful in Common Lisp debugging and performance 
 analysis, including examining the behavior of ACL2 functions.</p> 
 
 <pre class="code">Example:
(<a href="ACL2____PROFILE.html">profile</a> 'fn)       ; keep count of the calls of fn
(<a href="ACL2____PROFILE.html">profile</a> 'fn        ; as above, with some memoize options
         :trace t
         :forget t)
(<a href="ACL2____MEMSUM.html">memsum</a>) ; report statistics on calls of memoized functions (e.g., fn)
(<a href="ACL2____CLEAR-MEMOIZE-STATISTICS.html">clear-memoize-statistics</a>) ; clear memoization (<a href="COMMON-LISP____AND.html">and</a> profiling) statistics</pre> 
 
 <p>Evaluation of <span class="v">(<a href="ACL2____PROFILE.html">profile</a> 'fn)</span> redefines <span class="v">fn</span> so that a count will be 
 kept of the calls of FN.  The information recorded may be displayed, for 
 example, by invoking <span class="v">(</span><span class="tt"><a href="ACL2____MEMOIZE-SUMMARY.html">memoize-summary</a></span><span class="v">)</span> or (equivalently) 
 <span class="v">(<a href="ACL2____MEMSUM.html">memsum</a>)</span>.  If you wish to gather fresh statistics for the evaluation of a 
 top-level form, see <a href="ACL2____CLEAR-MEMOIZE-STATISTICS.html">clear-memoize-statistics</a>.</p> 
 
 <p><span class="v">Profile</span> is just a macro that calls <span class="tt"><a href="ACL2____MEMOIZE.html">memoize</a></span> to do its work. 
 <span class="v">Profile</span> gives the two keyword parameters <span class="v">:condition</span> and 
 <span class="v">:recursive</span> of <span class="tt"><a href="ACL2____MEMOIZE.html">memoize</a></span> the value <span class="v">nil</span>.  Other keyword 
 parameters for <span class="v">memoize</span>, which must not include <span class="v">:condition</span>, 
 <span class="v">:condition-fn</span>, or <span class="v">:recursive</span>, are passed through.  To eliminate 
 profiling, use <span class="tt"><a href="ACL2____UNMEMOIZE.html">unmemoize</a></span>; for example, to eliminate profiling for 
 function <span class="v">fn</span>, evaluate <span class="v">(<a href="ACL2____UNMEMOIZE.html">unmemoize</a> 'fn)</span>.</p> 
 
 <p>Functions <span class="tt"><a href="ACL2____PROFILE-ALL.html">profile-all</a></span> and <span class="tt"><a href="ACL2____PROFILE-ACL2.html">profile-ACL2</a></span> are available for 
 profiling all functions or all ACL2 functions, respectively.</p>
</body>
</html>
