<html>
<head>
<meta charset="UTF-8">
<title>Missing-functionality</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=STR____MISSING-FUNCTIONALITY">Click for Missing-functionality in the Full Manual</a></h3>

<p>Notes about some ACL2 pretty-printer settings that are not 
implemented in our <a href="STR____PRINTCONFIG-P.html">printconfig-p</a> objects.</p><h5>
<span class="v">print-escape</span> and <span class="v">print-readably</span>
</h5> 
 
<p>ACL2's take on print-readably:</p> 
<ul> 
 <li>it binds print-readably to nil by default</li> 
 <li>it offers set-print-readably</li> 
 <li>it binds it to nil in princ$</li> 
 <li>it consults it in needs-slashes -- along with print-escape</li> 
 <li>it formerly marked it as untouchable</li> 
</ul> 
 
<p>ACL2's take on print-escape</p> 
<ul> 
<li>PROVE binds it to T when #+write-arithmetic-goals... er, wtf?</li> 
<li>bound to t by default</li> 
<li>controllable with set-print-escape</li> 
<li>potentially important for princ$ that it be bound to nil</li> 
<li>consulted by needs-slashes -- along with print-readably</li> 
<li>bound in prin1$ to put |s on symbols</li> 
</ul> 
 
<p>CLHS regarding print-escape:</p> 
<ul> 
<li>If false, escape characters and package prefixes are not 
    output when expressions are printed</li> 
<li>if true, an attempt is made to print an expression in such a way 
    that it can be read back in to produce an equal expression. 
    but this is only a guideline.</li> 
</ul> 
 
<p>CLHS regarding print-readably:</p> 
<ul> 
<li>when true, special rules go into effect: 
    <ul> 
    <li>printing any object O1 produces a printed representation that, 
        when seen by the Lisp reader with the standard readtable in 
        effect, will produce an object O2 that is SIMILAR to O1.</li> 
    <li>printing proceeds as if *print-escape*, *print-array* and 
        *print-gensym* are true and as if *print-length*, *print-level*, 
        and *print-lines* are false.</li> 
    </ul>
</li> 
</ul> 
 
<p>After a lot of investigation and consideration, I don't think any of this is 
anything we should care about.  I can't imagine why someone would want to hide 
the package names for symbols from other packages.  The two options seem 
perhaps entirely redundant in the context of ACL2 where there aren't arrays and 
gensyms, so I don't know why ACL2 provides both.  At any rate, it seems much 
better to just drop this complicated nonsense and have the printer do something 
reasonable by default.</p> 
 
 
<h5>write-for-read</h5> 
 
<p>ACL2 also has another parameter named <span class="v">write-for-read</span>, which is somewhat 
similar to <span class="v">print-readably</span> but affects different things.</p> 
 
<p>It is used in <span class="v">fmt-tilde-s1</span> to decide whether to split up symbols after 
the soft margin.  This can be nice for keeping the proof long word wrapped in a 
nice style.  However, it can be troublesome for trying to copy/paste rule 
names.  It's also consulted in maybe-newline, which is used in <a href="ACL2____FMT.html">fmt</a> code. 
Functions like fmt1! and fmt!  and fms! bind it to true.</p> 
 
<p>None of that matters yet because, at least at the moment, I am only 
implementing PPR, not FMT, and all of that is FMT-level stuff.</p> 
 
<p><span class="v">write-for-read</span> also influences ACL2's <span class="v">spaces1</span> function.  When 
<span class="v">write-for-read</span> is disabled, it prints <span class="v">&lt;newline&gt;</span> sequences and then 
continues printing spaces on the next line.  I don't think this is a 
"feature" that I will miss, so I am not going to implement it.</p>
</body>
</html>
