<html>
<head>
<meta charset="UTF-8">
<title>Vl-string-findloc</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____VL-STRING-FINDLOC">Click for Vl-string-findloc in the Full Manual</a></h3>

<p>Traverse a string to determine the position of a <a href="VL2014____VL-LOCATION-P.html">vl-location-p</a>.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(vl-string-findloc x loc) → offset</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">x</span> — A string, which should contain the full contents of 
                        the file indicated by <span class="v">loc</span>.  Typically this is 
                        gotten from a <a href="VL2014____VL-FILEMAP-P.html">vl-filemap-p</a>.<br>    <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> x)</span>.</font>
</dd> 
  <dd>
<span class="tt">loc</span> — The location we're looking for.<br>    <font color="#606060">Guard <span class="v">(<a href="VL2014____VL-LOCATION-P.html">vl-location-p</a> loc)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">offset</span> — The position of this location as an offset into <span class="v">x</span>, or <span class="v">nil</span> 
           if the location is not found, e.g., because it refers to a 
           line/column number that are too large.<br>    <font color="#606060">Type <span class="v">(<a href="ACL2____MAYBE-NATP.html">maybe-natp</a> offset)</span>.</font>
</dd> 
 
</dl></div> 
 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>vl-string-findloc</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
     vl-string-findloc (x loc)
     (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____STRINGP.html">stringp</a> x) (<a href="VL2014____VL-LOCATION-P.html">vl-location-p</a> loc))))
     (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'vl-string-findloc))
          (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
          (<a href="ACL2____B_A2.html">b*</a> ((xl (<a href="COMMON-LISP____LENGTH.html">length</a> (<a href="VL2014____STRING-FIX.html">string-fix</a> x)))
               (tline (<a href="VL2014____VL-LOCATION-_E3LINE.html">vl-location-&gt;line</a> loc))
               (tcol (<a href="VL2014____VL-LOCATION-_E3COL.html">vl-location-&gt;col</a> loc)))
              (<a href="VL2014____VL-STRING-FINDLOC-AUX.html">vl-string-findloc-aux</a> x 0 xl 1 0 tline tcol))))</pre> 
<p><b>Theorem: </b>maybe-natp-of-vl-string-findloc</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> maybe-natp-of-vl-string-findloc
        (<a href="ACL2____B_A2.html">b*</a> ((offset (<a href="VL2014____VL-STRING-FINDLOC.html">vl-string-findloc</a> x loc)))
            (<a href="ACL2____MAYBE-NATP.html">maybe-natp</a> offset))
        :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>bounds-of-vl-string-findloc</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> bounds-of-vl-string-findloc
        (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> 0 (<a href="VL2014____VL-STRING-FINDLOC.html">vl-string-findloc</a> x loc))
             (<a href="COMMON-LISP_____C3_D3.html">&lt;=</a> (<a href="VL2014____VL-STRING-FINDLOC.html">vl-string-findloc</a> x loc)
                 (<a href="ACL2____LEN.html">len</a> (<a href="ACL2____EXPLODE.html">explode</a> x))))
        :rule-classes :linear)</pre> 

</body>
</html>
