<html>
<head>
<meta charset="UTF-8">
<title>Defsoft</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=SOFT____DEFSOFT">Click for Defsoft in the Full Manual</a></h3>

<p>Record an existing function as second-order.</p><h3>General Form</h3><pre class="code">(<a href="SOFT____DEFSOFT.html">defsoft</a> sofun)</pre><h3>Inputs</h3><p><span class="v">sofun</span></p><blockquote>
<p>A symbol, which must name an existing ACL2 function 
      that was introduced, at the lowest level, 
      via <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> or <span class="tt"><a href="ACL2____DEFCHOOSE.html">defchoose</a></span>. 
      The user may have used a higher-level event macro, 
      such as <span class="tt"><a href="ACL2____DEFINE.html">define</a></span> or <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span>, 
      but such macros eventually reduce to primitive ones like <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>.</p>
<p>The function must <a href="SOFT____FUNCTION-VARIABLE-DEPENDENCY.html">depend</a> on at least one <a href="SOFT____FUNCTION-VARIABLES.html">function variables</a>.</p>
<p>If the function is recursive, 
      its well-founded relation must be <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span>.</p>
<p>If the function is introduced (directly or indirectly) 
      via a <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span> with a universal quantifier 
      and a custom rewrite rule (i.e. neither <span class="v">:default</span> nor <span class="v">:direct</span>), 
      the function variables that (the formula of) the custom rule depends on 
      must be the same as the ones that the body of the function depends on.</p>
</blockquote><h3>Generated Events</h3><p>A table event that records <span class="v">sofun</span> as a second-order function, 
     along with the function variables that it depends on.</p><h3>Classification</h3><p>If <span class="v">sofun</span> is introduced via <span class="tt"><a href="ACL2____DEFCHOOSE.html">defchoose</a></span>, 
     it is called a `choice' second-order function.</p><p>Otherwise, <span class="v">sofun</span> is introduced via <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> 
     (see constraints above), and there are two cases.</p><p>If <span class="v">sofun</span> is introduced via <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span> 
     (which expands to <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>, 
     but it leaves a record in the ACL2 world), 
     it is called a `quantifier' second-order function.</p><p>Otherwise, <span class="v">sofun</span> is called a `plain' second-order function.</p><p>This classification is important because <span class="tt"><a href="SOFT____DEFUN-INST.html">defun-inst</a></span> treats 
     these different kinds of second-order functions differently.</p><h3>Related Macros</h3><p>While <span class="v">defsoft</span> may be useful 
     to make a function second-order after the fact, 
     one may often use macros like <span class="tt"><a href="SOFT____DEFUN2.html">defun2</a></span>, 
     which combine non-SOFT macros like <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> with <span class="v">defsoft</span>.</p>
</body>
</html>
