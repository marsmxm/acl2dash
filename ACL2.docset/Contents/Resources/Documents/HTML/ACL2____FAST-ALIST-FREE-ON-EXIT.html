<html>
<head>
<meta charset="UTF-8">
<title>Fast-alist-free-on-exit</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____FAST-ALIST-FREE-ON-EXIT">Click for Fast-alist-free-on-exit in the Full Manual</a></h3>

<p>Free a fast alist after the completion of some form.</p><p>Logically, <span class="v">(<a href="ACL2____FAST-ALIST-FREE-ON-EXIT.html">fast-alist-free-on-exit</a> alist form)</span> is the 
 identity and returns <span class="v">form</span>.  Also see <a href="ACL2____FAST-ALIST-FREE.html">fast-alist-free</a>.</p> 
 
 <p>Under the hood, this essentially expands to:</p> 
 
 <pre class="code">(prog1 form
       (<a href="ACL2____FAST-ALIST-FREE.html">fast-alist-free</a> alist))</pre> 
 
 <p>In other words, <span class="v">alist</span> is not freed immediately, but instead remains a 
 fast alist until the form completes.  This may be useful when you are writing 
 code that uses a fast alist but has many return points.</p> 
 
 <p>See also the macro <span class="v">fast-alists-free-on-exit</span> defined in the community 
 book <span class="v">"books/centaur/misc/hons-extra.lisp"</span>, which can be used to free 
 several alists.</p> 
 
 <p>The community book <span class="v">"books/centaur/misc/hons-extra.lisp"</span> extends the 
 <a href="ACL2____B_A2.html">b*</a> macro with the <span class="v">free-on-exit</span> pattern binder.  That is, after 
 executing <span class="v">(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "centaur/misc/hons-extra.lisp" :dir :system)</span>, 
 the form</p> 
 
 <pre class="code">(<a href="ACL2____B_A2.html">b*</a> (...
     ((free-on-exit a b c))
     ...)
  ...)</pre> 
 
 <p>causes <span class="v">a</span>, <span class="v">b</span>, and <span class="v">c</span> to be freed when the <span class="v">b*</span> completes, 
 but they remain fast alists until then.</p>
</body>
</html>
