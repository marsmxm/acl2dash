<html>
<head>
<meta charset="UTF-8">
<title>Defchar</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____DEFCHAR">Click for Defchar in the Full Manual</a></h3>

<p>Introduce lexing utilites from a character recognizer.</p><p><span class="v">Defchar</span> is a macro for quickly introducing character classes 
and functions to read them.</p> 
 
<h5>General Form</h5> 
 
<pre class="code">(<a href="VL2014____DEFCHAR.html">defchar</a> basename criteria
  [:prefix prefix]
  [:pkg pkg]
  [:parents parents]
  [:short short]
  [:long long])</pre> 
 
<h5>Example</h5> 
 
<pre class="code">(<a href="VL2014____DEFCHAR.html">defchar</a> whitespace
  (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____EQL.html">eql</a> x #Space)
      (<a href="COMMON-LISP____EQL.html">eql</a> x #Tab)
      (<a href="COMMON-LISP____EQL.html">eql</a> x #Page)
      (<a href="COMMON-LISP____EQL.html">eql</a> x #Newline)))</pre> 
 
<p>The <span class="v">basename</span>, <span class="v">prefix</span>, and <span class="v">pkg</span> are each symbols which 
influence the names of the new definitions and theorems we introduce.  In 
particular,</p> 
 
<ul> 
 
<li>The <span class="v">basename</span> is the name of the main part of the new character type 
you are introducing.</li> 
 
<li>The <span class="v">prefix</span> is prepended to the symbol names we generate, and defaults 
to the symbol <span class="v">'vl-</span>.  For instance, in the above example, the 
single-character recognizer will be named <span class="v">vl-whitespace-p</span>.</li> 
 
<li>The <span class="v">pkg</span> is used to control what package the new functions and theorems 
are defined in.  It defaults to <span class="v">'VL2014::foo</span>, so in the above example the 
symbols are introduced in the <span class="v">VL2014::</span> package.  </li> 
 
</ul> 
 
<p>Finally, the <span class="v">criteria</span> is some term about the variable <span class="v">x</span>.  You may 
assume that <span class="v">x</span> is an ordinary <span class="v">characterp</span>, and specify what kinds of 
characters you want using functions such as <span class="v">eql</span> and <span class="v">char&lt;=</span>.</p> 
 
<p>Calling this macro introduces the following functions:</p> 
 
<ul> 
 
<li>
<span class="v">(PKG::PREFIX-BASENAME-P X)</span>, recognizes those <span class="v">characterp</span>s which 
satsify <span class="v">criteria</span>,</li> 
 
<li>
<span class="v">(PKG::PREFIX-BASENAME-ECHAR-P X)</span>, recognizes those <a href="VL2014____VL-ECHAR-P.html">vl-echar-p</a>s 
whose character satisfies <span class="v">criteria</span>,</li> 
 
<li>
<span class="v">(PKG::PREFIX-BASENAME-LIST-P X)</span>, recognizes those 
<span class="v">character-listp</span>s where every character satisfies <span class="v">criteria</span>,</li> 
 
<li>
<span class="v">(PKG::PREFIX-READ-WHILE-BASENAME ECHARS)</span> splits <span class="v">echars</span> into a 
prefix and remainder, where <span class="v">prefix</span> is the longest leading list of 
characters that satisfy <span class="v">criteria</span>.</li> 
 
</ul> 
 
<p>It also introducs a number of theorems, enumerated in <a href="VL2014____VL-READ-WHILE-CTYPE.html">vl-read-while-ctype</a>.</p> 
 

</body>
</html>
