<html>
<head>
<meta charset="UTF-8">
<title>Grammar-parser-constraints-from-parsing</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ABNF____GRAMMAR-PARSER-CONSTRAINTS-FROM-PARSING">Click for Grammar-parser-constraints-from-parsing in the Full Manual</a></h3>

<p>Parsing constraint theorems for the parser of ABNF grammars.</p><p>If a parsing function succeeds, 
     the parsed input must satisfy certain constraints. 
     For example, if <span class="tt"><a href="ABNF____PARSE-ALPHA.html">parse-alpha</a></span> succeeds, 
     the input must be non-empty and start with (the ASCII code of) a letter. 
     As another example, if <span class="tt"><a href="ABNF____PARSE-COMMENT.html">parse-comment</a></span> succeeds, 
     the input must be non-empty 
     and start with (the ASCII code of) a semicolon.</p><p>The parsing constraint theorems below capture constraints of this kind.</p><h3>Usage</h3><p>These theorems are used, together with the <a href="ABNF____GRAMMAR-PARSER-CONSTRAINTS-FROM-TREE-MATCHING.html">tree matching constraint theorems</a>, to prove the <a href="ABNF____GRAMMAR-PARSER-DISAMBIGUATION.html">disambiguation theorems</a>,  which in turn are used to prove the <a href="ABNF____GRAMMAR-PARSER-COMPLETENESS.html">completeness theorems</a>.</p><p>The parsing constraint theorems have no rule classes. 
     They are used in the proofs of the disambiguation theorems 
     via <span class="v">:use</span> hints.</p><h3>Scope</h3><p>There are parsing constraint theorems 
     only for some of the parsing functions: 
     just the ones used to prove the disambiguation theorems. 
     Furthermore, each parsing constraint theorem only states necessary, 
     but generally not sufficient, 
     conditions for the success of the corresponding parsing function: 
     it states only the constraints used to prove the disambiguation theorems.</p><p>Most parsing constraint theorems state constraints 
     just on the first natural number of the input (the <span class="tt"><a href="COMMON-LISP____CAR.html">car</a></span>), 
     because most of the grammar is LL(1); 
     these constraints correspond to `first sets' 
     in LL(1) parsing theory. 
     A few parsing constraint theorems state additional constraints 
     on the second natural number of the input (the <span class="tt"><a href="COMMON-LISP____CADR.html">cadr</a></span>), 
     as needed for the LL(2) portions of the grammar.</p><h3>Proof Methods</h3><p>The proof of each parsing constraint theorem 
     uses the definition of the corresponding parsing function, 
     e.g. <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-ALPHA.html">constraints-from-parse-alpha</a></span> uses 
     the definition of <span class="tt"><a href="ABNF____PARSE-ALPHA.html">parse-alpha</a></span>. 
     In <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-REPETITION.html">constraints-from-parse-repetition</a></span>, 
     <span class="tt"><a href="ABNF____PARSE-REPETITION.html">parse-repetition</a></span> does not get expanded even if it is enabled 
     (presumably due to ACL2's heuristics for expanding recursive functions); 
     thus, we use an explcit <span class="v">:expand</span> hint in that theorem.</p><p>When a parsing function calls another parsing function 
     that has a parsing constraint theorem, 
     this theorem is used (via a <span class="v">:use</span> hint) 
     in the proof of the caller's parsing constraint theorem, 
     e.g. <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-IN-RANGE.html">constraints-from-parse-in-range</a></span> is used 
     in the proof of <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-ALPHA.html">constraints-from-parse-alpha</a></span> 
     twice, once for each call of <span class="tt"><a href="ABNF____PARSE-IN-RANGE.html">parse-in-range</a></span> in <span class="tt"><a href="ABNF____PARSE-ALPHA.html">parse-alpha</a></span>. 
     If instead the called parsing function 
     does not have a parsing constraint theorem, 
     the definition of the called parsing function is enabled 
     in the proof of the parsing constraint theorem of the caller, 
     e.g. the proof of <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-WSP_F2VCHAR.html">constraints-from-parse-wsp/vchar</a></span> 
     enables the definition of <span class="tt"><a href="ABNF____PARSE-VCHAR.html">parse-vchar</a></span>.</p><p>Since <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-ICHAR.html">constraints-from-parse-ichar</a></span> 
     and <span class="tt"><a href="ABNF____CONSTRAINTS-FROM-PARSE-ICHAR2.html">constraints-from-parse-ichar2</a></span> 
     state constraints with <span class="tt"><a href="ABNF____NAT-MATCH-INSENSITIVE-CHAR-P.html">nat-match-insensitive-char-p</a></span>, 
     and since those two theorems are used in the proofs 
     of many other parsing constraint theorems, 
     the proofs of the latter theorems 
     use the definition <span class="tt"><a href="ABNF____NAT-MATCH-INSENSITIVE-CHAR-P.html">nat-match-insensitive-char-p</a></span>. 
     To avoid enabling it explicitly in many theorems, 
     we enable <span class="tt"><a href="ABNF____NAT-MATCH-INSENSITIVE-CHAR-P.html">nat-match-insensitive-char-p</a></span> 
     just before the parsing constraint theorems 
     and we disable it just after.</p>
</body>
</html>
