<html>
<head>
<meta charset="UTF-8">
<title>Universal-time</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=OSLIB____UNIVERSAL-TIME">Click for Universal-time in the Full Manual</a></h3>

<p>Get the current timestamp as a natural number, specifically the 
number of seconds since 00:00 January 1, 1900 GMT.  Note well that this is 
<b>not</b> the Unix epoch.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(universal-time &amp;optional (state 'state)) → (mv seconds state)</pre></dt>
<dt>Returns</dt>
<dd>
<span class="tt">seconds</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____NATP.html">natp</a> seconds)</span>.</font>
</dd> 
<dd>
<span class="tt">state</span> — <font color="#606060">Type <span class="v">(state-p1 state)</span>, given <span class="v">(<a href="ACL2____FORCE.html">force</a> (state-p1 state))</span>.</font>
</dd> 
 
</dl></div> 
<p>In the logic this function reads from the ACL2 oracle, so there is 
no logical guarantee that it will return successive times.  (Indeed, the user 
could likely change their computer's clock so that it would report earlier 
times.)</p> 
 
<p>In the execution, we use Common Lisp's <span class="v">get-universal-time</span> function to 
figure out the current time in seconds since the start of 1900.</p> 
 
<p>This is, for whatever reason, a different starting date than the Unix 
epoch (which records time since the start of 1970).  You should therefore be 
careful if you need to compare this timestamp against those produced by 
external tools.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>universal-time-fn</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> universal-time-fn (<a href="ACL2____STATE.html">state</a>)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :stobjs (<a href="ACL2____STATE.html">state</a>)))
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t))
       (<a href="COMMON-LISP____LET.html">let</a> ((__function__ 'universal-time))
            (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
            (<a href="ACL2____B_A2.html">b*</a> ((<a href="COMMON-LISP____-.html">-</a> (<a href="ACL2____RAISE.html">raise</a> "Raw Lisp definition not installed?"))
                 ((<a href="ACL2____MV.html">mv</a> err val state)
                  (<a href="ACL2____READ-ACL2-ORACLE.html">read-acl2-oracle</a> state)))
                (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> err) (<a href="ACL2____NATP.html">natp</a> val))
                    (<a href="ACL2____MV.html">mv</a> val state)
                    (<a href="ACL2____MV.html">mv</a> 0 state)))))</pre> 
<p><b>Theorem: </b>natp-of-universal-time.seconds</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> natp-of-universal-time.seconds
        (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?seconds acl2::?state)
              (universal-time-fn state)))
            (<a href="ACL2____NATP.html">natp</a> seconds))
        :rule-classes :type-prescription)</pre> 
<p><b>Theorem: </b>state-p1-of-universal-time.state</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> state-p1-of-universal-time.state
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="ACL2____FORCE.html">force</a> (state-p1 state))
                 (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?seconds acl2::?state)
                       (universal-time-fn state)))
                     (state-p1 state)))
        :rule-classes :rewrite)</pre> 

</body>
</html>
