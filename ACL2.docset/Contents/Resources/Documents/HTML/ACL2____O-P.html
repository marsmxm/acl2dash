<html>
<head>
<meta charset="UTF-8">
<title>O-p</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____O-P">Click for O-p in the Full Manual</a></h3>

<p>A recognizer for the ordinals up to epsilon-0</p><p>Using the nonnegative integers and lists we can represent the 
 ordinals up to <span class="v">epsilon-0</span>. The ordinal representation used in ACL2 has 
 changed as of Version_2.8 from that of Nqthm-1992, courtesy of Pete Manolios 
 and Daron Vroon; additional discussion may be found in ``Ordinal Arithmetic in 
 ACL2'', <a href="http://www.cs.utexas.edu/users/moore/acl2/workshop-2003/" target="_blank"><nobr>proceedings of 
 ACL2 Workshop 2003<img src="../Icon_External_Link.png" title="External link to http://www.cs.utexas.edu/users/moore/acl2/workshop-2003/"></nobr></a>.  Previously, ACL2's notion of ordinal was very similar 
 to the development given in ``New Version of the Consistency Proof for 
 Elementary Number Theory'' in The Collected Papers of Gerhard Gentzen, 
 ed. M.E. Szabo, North-Holland Publishing Company, Amsterdam, 1969, pp 
 132-213.</p> 
 
 <p>The following essay is intended to provide intuition about ordinals.  The 
 truth, of course, lies simply in the ACL2 definitions of <span class="v">o-p</span> and <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span>.</p> 
 
 <p>Very intuitively, think of each non-zero natural number as by being denoted 
 by a series of the appropriate number of strokes, i.e.,</p> 
 
 <pre class="code">0             0
1             |
2             ||
3             |||
4             ||||
...           ...</pre> 
 
 <p>Then ``<span class="v">omega</span>,'' here written as <span class="v">w</span>, is the ordinal that might be 
 written as</p> 
 
 <pre class="code">w             |||||...,</pre> 
 
 <p>i.e., an infinite number of strokes.  Addition here is just concatenation. 
 Observe that adding one to the front of <span class="v">w</span> in the picture above produces 
 <span class="v">w</span> again, which gives rise to a standard definition of <span class="v">w</span>: <span class="v">w</span> is 
 the least ordinal such that adding another stroke at the beginning does not 
 change the ordinal.</p> 
 
 <p>We denote by <span class="v">w+w</span> or <span class="v">w*2</span> the ``<span class="v">doubly infinite</span>'' sequence 
 that we might write as follows.</p> 
 
 <pre class="code">w*2           |||||... |||||...</pre> 
 
 <p>One way to think of <span class="v">w*2</span> is that it is obtained by replacing each 
 stroke in <span class="v">2</span> <span class="v">(||)</span> by <span class="v">w</span>.  Thus, one can imagine <span class="v">w*3</span>, 
 <span class="v">w*4</span>, etc., which leads ultimately to the idea of ``<span class="v">w*w</span>,'' the 
 ordinal obtained by replacing each stroke in <span class="v">w</span> by <span class="v">w</span>.  This is also 
 written as ``<span class="v">omega</span> squared'' or <span class="v">w^2</span>, or:</p> 
 
 <pre class="code"> 2
w             |||||... |||||... |||||... |||||... |||||... ...</pre> 
 
 <p>We can analogously construct <span class="v">w^3</span> by replacing each stroke in <span class="v">w</span> by 
 <span class="v">w^2</span> (which, it turns out, is the same as replacing each stroke in 
 <span class="v">w^2</span> by <span class="v">w</span>).  That is, we can construct <span class="v">w^3</span> as <span class="v">w</span> copies of 
 <span class="v">w^2</span>,</p> 
 
 <pre class="code"> 3              2       2       2       2
w              w  ...  w  ...  w  ...  w ... ...</pre> 
 
 <p>Then we can construct <span class="v">w^4</span> as <span class="v">w</span> copies of <span class="v">w^3</span>, <span class="v">w^5</span> as 
 <span class="v">w</span> copies of <span class="v">w^4</span>, etc., ultimately suggesting <span class="v">w^w</span>.  We can then 
 stack <span class="v">omega</span>s, i.e., <span class="v">(w^w)^w</span> etc.  Consider the ``limit'' of all of 
 those stacks, which we might display as follows.</p> 
 
 <pre class="code">       .
      .
     .
    w
   w
  w
 w
w</pre> 
 
 <p>That is epsilon-0.</p> 
 
 <p>Below we begin listing some ordinals up to <span class="v">epsilon-0</span>; the reader can 
 fill in the gaps at his or her leisure.  We show in the left column the 
 conventional notation, using <span class="v">w</span> as ``<span class="v">omega</span>,'' and in the right column 
 the ACL2 object representing the corresponding ordinal.</p> 
 
 <pre class="code">ordinal            ACL2 representation

0                  0
1                  1
2                  2
3                  3
...                ...
w                 '((1 . 1) . 0)
w+1               '((1 . 1) . 1)
w+2               '((1 . 1) . 2)
...                ...
w*2               '((1 . 2) . 0)
(w*2)+1           '((1 . 2) . 1)
...                ...
w*3               '((1 . 3) . 0)
(w*3)+1           '((1 . 3) . 1)
...                ...

 2
w                 '((2 . 1) . 0)
...                ...

 2
w +w*4+3          '((2 . 1) (1 . 4) . 3)
...                ...

 3
w                 '((3 . 1) . 0)
...                ...

 w
w                 '((((1 . 1) . 0) . 1) . 0)
...                ...

 w  99
w +w  +w4+3       '((((1 . 1) . 0) . 1) (99 . 1) (1 . 4) . 3)
...                ...

  2
 w
w                 '((((2 . 1) . 0) . 1) . 0)

...                ...

  w
 w
w                 '((((((1 . 1) . 0) . 1) . 0) . 1) . 0)
...               ...</pre> 
 
 <p>Observe that the sequence of <span class="v">o-p</span>s starts with the natural numbers 
 (which are recognized by <span class="tt"><a href="ACL2____NATP.html">natp</a></span>). This is convenient because it means 
 that if a term, such as a measure expression for justifying a recursive 
 function (see <a href="ACL2____O_C3.html">o&lt;</a>) must produce an <span class="v">o-p</span>, it suffices for it to 
 produce a natural number.</p> 
 
 <p>The ordinals listed above are listed in ascending order.  This is the 
 ordering tested by <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span>.</p> 
 
 <p>The ``<span class="v">epsilon-0</span> ordinals'' of ACL2 are recognized by the recursively 
 defined function <span class="v">o-p</span>.  The base case of the recursion tells us that 
 natural numbers are <span class="v">epsilon-0</span> ordinals.  Otherwise, an <span class="v">epsilon-0</span> 
 ordinal is a list of <span class="tt"><a href="COMMON-LISP____CONS.html">cons</a></span> pairs whose final <span class="tt"><a href="COMMON-LISP____CDR.html">cdr</a></span> is a natural 
 number, <span class="v">((a1 . x1) (a2 . x2) ... (an . xn) . p)</span>.  This corresponds to the 
 ordinal <span class="v">(w^a1)x1 + (w^a2)x2 + ... + (w^an)xn + p</span>.  Each <span class="v">ai</span> is an 
 ordinal in the ACL2 representation that is not equal to 0.  The sequence of 
 the <span class="v">ai</span>'s is strictly decreasing (as defined by <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span>). Each <span class="v">xi</span> 
 is a positive integer (as recognized by <span class="tt"><a href="ACL2____POSP.html">posp</a></span>).</p> 
 
 <p>Note that infinite ordinals should generally be created using the ordinal 
 constructor, <span class="tt"><a href="ACL2____MAKE-ORD.html">make-ord</a></span>, rather than <span class="tt"><a href="COMMON-LISP____CONS.html">cons</a></span>. The functions <span class="tt"><a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a></span>, <span class="tt"><a href="ACL2____O-FIRST-COEFF.html">o-first-coeff</a></span>, and <span class="tt"><a href="ACL2____O-RST.html">o-rst</a></span> are ordinals 
 destructors.  Finally, the function <span class="tt"><a href="ACL2____O-FINP.html">o-finp</a></span> and the macro <span class="tt"><a href="ACL2____O-INFP.html">o-infp</a></span> tell whether an ordinal is finite or infinite, respectively.</p> 
 
 <p>The function <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> compares two <span class="v">epsilon-0</span> ordinals, <span class="v">x</span> and 
 <span class="v">y</span>.  If both are integers, <span class="v">(<a href="ACL2____O_C3.html">o&lt;</a> x y)</span> is just <span class="v">x&lt;y</span>.  If one is an 
 integer and the other is a <span class="tt"><a href="COMMON-LISP____CONS.html">cons</a></span>, the integer is the smaller. 
 Otherwise, <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> recursively compares the <span class="tt"><a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a></span>s of the 
 ordinals to determine which is smaller.  If they are the same, the <span class="tt"><a href="ACL2____O-FIRST-COEFF.html">o-first-coeff</a></span>s of the ordinals are compared.  If they are equal, the <span class="tt"><a href="ACL2____O-RST.html">o-rst</a></span>s of the ordinals are recursively compared.</p> 
 
 <p>Fundamental to ACL2 is the fact that <span class="tt"><a href="ACL2____O_C3.html">o&lt;</a></span> is well-founded on 
 <span class="v">epsilon-0</span> ordinals.  That is, there is no ``infinitely descending chain'' 
 of such ordinals.  See <a href="ACL2____PROOF-OF-WELL-FOUNDEDNESS.html">proof-of-well-foundedness</a>.</p> 
 
 <p><b>Function: </b>o-p</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> o-p (x)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t))
       (<a href="COMMON-LISP____IF.html">if</a> (<a href="ACL2____O-FINP.html">o-finp</a> x)
           (<a href="ACL2____NATP.html">natp</a> x)
           (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="COMMON-LISP____CAR.html">car</a> x))
                (<a href="ACL2____O-P.html">o-p</a> (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> x))
                (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQL.html">eql</a> 0 (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> x)))
                (<a href="ACL2____POSP.html">posp</a> (<a href="ACL2____O-FIRST-COEFF.html">o-first-coeff</a> x))
                (<a href="ACL2____O-P.html">o-p</a> (<a href="ACL2____O-RST.html">o-rst</a> x))
                (<a href="ACL2____O_C3.html">o&lt;</a> (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> (<a href="ACL2____O-RST.html">o-rst</a> x))
                    (<a href="ACL2____O-FIRST-EXPT.html">o-first-expt</a> x)))))</pre>
</body>
</html>
