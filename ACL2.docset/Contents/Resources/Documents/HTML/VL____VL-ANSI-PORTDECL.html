<html>
<head>
<meta charset="UTF-8">
<title>Vl-ansi-portdecl</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL____VL-ANSI-PORTDECL">Click for Vl-ansi-portdecl in the Full Manual</a></h3>

<p>Temporary representation for port declarations.</p><p>This is a product type introduced by <a href="FTY____DEFPROD.html">defprod</a>.</p> 
<h5>Fields</h5> 
<dl>
<dt>name — <a href="COMMON-LISP____STRINGP.html">stringp</a>
</dt> 
<dd>Name of the port</dd> 
 
<dt>loc — <a href="VL____VL-LOCATION.html">vl-location</a>
</dt> 
 
<dt>dir — <a href="VL____VL-MAYBE-DIRECTION.html">vl-maybe-direction</a>
</dt> 
<dd>Direction, if an explicit keyword was present.</dd> 
 
<dt>typename — <span class="tt">maybe-string</span>
</dt> 
<dd>The name of the type, if it was just a simple ID, or the name of 
              the interface, to be determined.</dd> 
 
<dt>type — <a href="VL____VL-MAYBE-DATATYPE.html">vl-maybe-datatype</a>
</dt> 
<dd>The datatype, if it was explicit</dd> 
 
<dt>pdims — <a href="VL____VL-DIMENSIONLIST.html">vl-dimensionlist</a>
</dt> 
<dd>Dimensions, if given and no explicit datatype</dd> 
 
<dt>udims — <a href="VL____VL-DIMENSIONLIST.html">vl-dimensionlist</a>
</dt> 
<dd>Dimensions from after the name</dd> 
 
<dt>nettype — <a href="VL____VL-MAYBE-NETTYPENAME.html">vl-maybe-nettypename</a>
</dt> 
<dd>Nettype, if present</dd> 
 
<dt>varp — <a href="ACL2____BOOLEANP.html">booleanp</a>
</dt> 
<dd>Indicates whether the var keyword was present.</dd> 
 
<dt>modport — <span class="tt">maybe-string</span>
</dt> 
<dd>Modport of the interface, if specified</dd> 
 
<dt>signedness — <a href="VL____VL-MAYBE-EXPRSIGN.html">vl-maybe-exprsign</a>
</dt> 
<dd>The signedness, if given, and if there is no explicit datatype)</dd> 
 
<dt>atts — <a href="VL____VL-ATTS.html">vl-atts</a>
</dt> 
 
</dl><p>Some constraints on the presence/absence of some of these fields:</p> 
<ul> 
<li>typename should imply no type, signedness, or pdims</li> 
<li>type should imply no signedness or pdims.</li> 
<li>modport should imply typename and not varp, dir, or nettype</li> 
</ul> 
 
<p>The reason we have these: Parsing ports is fairly ambiguous and there's a 
lot that needs to be fleshed out after we have a fuller picture of the design. 
The worst ambiguity is that there's no syntactic difference in an ANSI portlist 
between an interfaceport of interface foo, and a regular port of type foo (if 
it doesn't have an explicit direction, nettype, or <span class="v">var</span> keyword).  The only 
way to resolve these is to determine whether the interface/type name actually 
refers to an interface or a type.</p> 
 
<p>Another issue, with non-ANSI ports, is that a port declaration may have a 
corresponding net/variable declaration that contains different information 
about its type and nettype.  We resolve this later as well, cross-propagating 
the type information between the variable and port declarations.</p>
</body>
</html>
