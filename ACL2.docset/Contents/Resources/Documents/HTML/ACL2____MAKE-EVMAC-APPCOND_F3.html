<html>
<head>
<meta charset="UTF-8">
<title>Make-evmac-appcond?</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____MAKE-EVMAC-APPCOND_F3">Click for Make-evmac-appcond? in the Full Manual</a></h3>

<p>Conditionally construct an applicability condition.</p><p>Event macros sometimes have applicability conditions 
     that are present (i.e. that must be proved) 
     only under certain conditions on the inputs. 
     An example is the applicability conditions related to guards 
     in <a href="APT____APT.html">APT</a> transformations, 
     which are present only if guards must be verified.</p><p>This function provides a convenient way for event macros 
     to generate either <span class="v">nil</span> 
     or a singleton list of an applicability condition 
     with given <span class="v">:name</span> and <span class="v">:formula</span>, 
     based on whether the <span class="v">:when</span> input is <span class="v">nil</span> or not. 
     We treat the latter input as a boolean, but do not require it to be, 
     for greater flexibility (e.g. so that <span class="tt"><a href="COMMON-LISP____MEMBER.html">member</a></span> can be used); 
     its default is <span class="v">t</span>, i.e. generate the applicability condition 
     unless an explicit condition (which may hold or not) is given.</p><p>An event macro may generate all its applicability conditions 
     by <span class="tt"><a href="COMMON-LISP____APPEND.html">append</a></span>ing calls of this function.</p><p>Note that this macro expands into a non-strict <span class="tt"><a href="COMMON-LISP____AND.html">and</a></span> form, 
     so that the name and formula arguments are not evaluated 
     if the condition evaluates to <span class="v">nil</span>. 
     This is important if the evaluation of the name and formula 
     (most likely the formula, as the name is often just a keyword constant) 
     only makes sense (in particular, does not cause an error) 
     under the condition.</p><p><b>Macro: </b>make-evmac-appcond?</p><pre class="code">(<a href="COMMON-LISP____DEFMACRO.html">defmacro</a>
 make-evmac-appcond?
 (<a href="ACL2____NAME.html">name</a> formula &amp;key (when 't))
 (<a href="COMMON-LISP____CONS.html">cons</a>
  'and
  (<a href="COMMON-LISP____CONS.html">cons</a>
   when
   (<a href="COMMON-LISP____CONS.html">cons</a>
    (<a href="COMMON-LISP____CONS.html">cons</a>
     'list
     (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'make-evmac-appcond
                 (<a href="COMMON-LISP____CONS.html">cons</a> ':name
                       (<a href="COMMON-LISP____CONS.html">cons</a> name
                             (<a href="COMMON-LISP____CONS.html">cons</a> ':formula (<a href="COMMON-LISP____CONS.html">cons</a> formula 'nil)))))
           'nil))
    'nil))))</pre> 
 

</body>
</html>
