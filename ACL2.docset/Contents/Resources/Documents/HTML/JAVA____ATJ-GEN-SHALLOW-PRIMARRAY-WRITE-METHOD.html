<html>
<head>
<meta charset="UTF-8">
<title>Atj-gen-shallow-primarray-write-method</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-GEN-SHALLOW-PRIMARRAY-WRITE-METHOD">Click for Atj-gen-shallow-primarray-write-method in the Full Manual</a></h3>

<p>Generate a Java method to write a primitive array component.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-gen-shallow-primarray-write-method type) → method</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">type</span> — <font color="#606060">Guard <span class="v">(<a href="JAVA____PRIMITIVE-TYPEP.html">primitive-typep</a> type)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">method</span> — <font color="#606060">Type <span class="v">(<a href="JAVA____JMETHODP.html">jmethodp</a> method)</span>.</font>
</dd> 
 
</dl></div> 
<p>In the translation step from ACL2 to Java, 
     we turn calls of the ACL2 functions that model array writes 
     into calls of one of eight methods, one for each primitive type, 
     that destructively assign the array component and then return the array. 
     (Calls of these methods are then removed by post-translation.) 
     This function generates these methods, 
     which are private because only code in the main class 
     (including its nested classes) needs to call them.</p><p>The generated method has this form:</p><pre class="code">private static &lt;type&gt;[] &lt;name&gt;(&lt;type&gt;[] array,
                               int index,
                               &lt;type&gt; component) {
    array[index] = component;
    return array;
}</pre><p>where <span class="v">&lt;type&gt;</span> is the Java primitive type.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>atj-gen-shallow-primarray-write-method</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 atj-gen-shallow-primarray-write-method
 (<a href="COMMON-LISP____TYPE.html">type</a>)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="JAVA____PRIMITIVE-TYPEP.html">primitive-typep</a> type)))
 (<a href="COMMON-LISP____LET.html">let</a>
    ((__function__ 'atj-gen-shallow-primarray-write-method))
    (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
    (<a href="ACL2____B_A2.html">b*</a> ((method-name (<a href="JAVA____ATJ-PRIMARRAY-WRITE-METHOD-NAME.html">atj-primarray-write-method-name</a> type))
         (<a href="JAVA____ARRAY-TYPE.html">array-type</a> (<a href="JAVA____JTYPE-ARRAY.html">jtype-array</a> (<a href="JAVA____JTYPE-PRIM.html">jtype-prim</a> type)))
         (index-type (<a href="JAVA____JTYPE-INT.html">jtype-int</a>))
         (component-type (<a href="JAVA____JTYPE-PRIM.html">jtype-prim</a> type))
         (<a href="COMMON-LISP____ARRAY.html">array</a> "array")
         (index "index")
         (component "component")
         (array[index] (<a href="JAVA____JEXPR-ARRAY.html">jexpr-array</a> (<a href="JAVA____JEXPR-NAME.html">jexpr-name</a> array)
                                    (<a href="JAVA____JEXPR-NAME.html">jexpr-name</a> index)))
         (array[index]=component
              (<a href="JAVA____JBLOCK-ASG.html">jblock-asg</a> array[index] (<a href="JAVA____JEXPR-NAME.html">jexpr-name</a> component)))
         (return-array (<a href="JAVA____JBLOCK-RETURN.html">jblock-return</a> (<a href="JAVA____JEXPR-NAME.html">jexpr-name</a> array)))
         (method-body (<a href="COMMON-LISP____APPEND.html">append</a> array[index]=component return-array)))
        (<a href="JAVA____MAKE-JMETHOD.html">make-jmethod</a>
             :access (<a href="JAVA____JACCESS-PRIVATE.html">jaccess-private</a>)
             :abstract? nil
             :static? t
             :final? nil
             :synchronized? nil
             :native? nil
             :strictfp? nil
             :result (<a href="JAVA____JRESULT-TYPE.html">jresult-type</a> array-type)
             :name method-name
             :params (<a href="COMMON-LISP____LIST.html">list</a> (<a href="JAVA____JPARAM.html">jparam</a> nil array-type array)
                           (<a href="JAVA____JPARAM.html">jparam</a> nil index-type index)
                           (<a href="JAVA____JPARAM.html">jparam</a> nil component-type component))
             :throws nil
             :body method-body))))</pre> 
<p><b>Theorem: </b>jmethodp-of-atj-gen-shallow-primarray-write-method</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> jmethodp-of-atj-gen-shallow-primarray-write-method
        (<a href="ACL2____B_A2.html">b*</a> ((method (<a href="JAVA____ATJ-GEN-SHALLOW-PRIMARRAY-WRITE-METHOD.html">atj-gen-shallow-primarray-write-method</a> type)))
            (<a href="JAVA____JMETHODP.html">jmethodp</a> method))
        :rule-classes :rewrite)</pre> 

</body>
</html>
