<html>
<head>
<meta charset="UTF-8">
<title>Guard-quick-reference</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____GUARD-QUICK-REFERENCE">Click for Guard-quick-reference in the Full Manual</a></h3>

<p>Brief summary of guard checking and guard verification</p><p>For a careful introduction to guards, see <a href="ACL2____GUARD.html">guard</a>.</p> 
 
 <p><b>I. GUARD CHECKING DURING EXECUTION</b></p> 
 
 <p><i>Effect</i></p> 
 
 <p>Guards on definitions are checked at execution time (except for guards on 
 subsidiary calls of recursive or mutually recursive functions).</p> 
 
 <p><i>When does it happen</i></p> 
 
 <p>By default, guards are checked for all forms submitted at the top 
 level.</p> 
 
 <p><i>To disable</i><br> 
 
 <span class="v">:set-guard-checking nil</span> ; skip raw Lisp if there is a guard violation 
 <span class="v">:set-guard-checking :none</span> ; skip guard checking entirely</p> 
 
 <p><i>To (re-)enable</i><br> 
 
 <span class="v">:set-guard-checking t</span></p> 
 
 <p>See <a href="ACL2____SET-GUARD-CHECKING.html">set-guard-checking</a> for more options.</p> 
 
 <p><b>II. GUARD VERIFICATION</b></p> 
 
 <p><i>Effect</i></p> 
 
 <p>A proof is attempted of the obligations arising from the guards of 
 subsidiary functions in a <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>, <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span>, or <span class="tt"><a href="ACL2____DEFAXIOM.html">defaxiom</a></span> 
 event.  In the case of a <span class="v">defun</span>, the guard itself is also verified (under 
 an implicit guard of <span class="v">t</span>).</p> 
 
 <p><i>When does it happen</i></p> 
 
 <p>Only names of defined functions, <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span>s, and <span class="tt"><a href="ACL2____DEFAXIOM.html">defaxiom</a></span>s are 
 subject to guard verification.  Guard verification may occur when functions 
 are defined (using <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>), but it requires an explicit call of <span class="tt"><a href="ACL2____VERIFY-GUARDS.html">verify-guards</a></span> in order to verify guards for <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span>s and <span class="tt"><a href="ACL2____DEFAXIOM.html">defaxiom</a></span>s.  Constrained functions (see <a href="ACL2____ENCAPSULATE.html">encapsulate</a>) may not have their 
 guards verified.</p> 
 
 <p><span class="v">(<a href="ACL2____VERIFY-GUARDS.html">verify-guards</a> foo ...)</span><br> 
 
 causes guard verification for the <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span>, <span class="tt"><a href="ACL2____DEFTHM.html">defthm</a></span>, or <span class="tt"><a href="ACL2____DEFAXIOM.html">defaxiom</a></span> named by <span class="v">foo</span>, if it has not already been successfully done. 
 The default <a href="ACL2____DEFUN-MODE.html">defun-mode</a> (see <a href="ACL2____DEFAULT-DEFUN-MODE.html">default-defun-mode</a>) must be 
 <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span>, or else this event is ignored.</p> 
 
 <p><span class="v">(<a href="COMMON-LISP____DEFUN.html">defun</a> foo ...)</span><br> 
 
 causes guard verification of <span class="v">foo</span> if and only if the following two 
 conditions are both met.  First, foo is processed in <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> 
 mode (either by setting mode <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> globally, or by including 
 <span class="v">:mode :logic</span> in the <span class="tt"><a href="ACL2____XARGS.html">xargs</a></span> declaration).  Second, at least one of 
 the following sub-conditions is met.  Also see <a href="ACL2____XARGS.html">xargs</a>, and see <a href="ACL2____SET-VERIFY-GUARDS-EAGERNESS.html">set-verify-guards-eagerness</a> for how to change this behavior.</p> 
 
 <blockquote>
<p>1. The <span class="tt"><a href="ACL2____XARGS.html">xargs</a></span> declaration specifies a <span class="v">:</span><span class="tt"><a href="ACL2____GUARD.html">guard</a></span>.</p> 
 
 <p>2. There is at least one <span class="v">type</span> declaration (see <a href="COMMON-LISP____DECLARE.html">declare</a>).</p> 
 
 <p>3. The <span class="tt"><a href="ACL2____XARGS.html">xargs</a></span> declaration specifies <span class="v">:</span><span class="tt"><a href="ACL2____STOBJ.html">stobj</a></span><span class="v">s</span>.</p> 
 
 <p>4. The <span class="tt"><a href="ACL2____XARGS.html">xargs</a></span> declaration specifies <span class="v">:</span><span class="tt"><a href="ACL2____VERIFY-GUARDS.html">verify-guards</a></span> 
 <span class="v">t</span>.</p>
</blockquote> 
 
 <p><span class="v">(<a href="ACL2____VERIFY-TERMINATION.html">verify-termination</a> foo ...)</span><br> 
 
 causes guard verification of <span class="v">foo</span> if <span class="v">foo</span> is a function currently 
 defined in <span class="v">:</span><span class="tt"><a href="ACL2____PROGRAM.html">program</a></span> mode and the criteria for guard verification 
 of a <span class="tt"><a href="COMMON-LISP____DEFUN.html">defun</a></span> form are met, as discussed above.  The default <a href="ACL2____DEFUN-MODE.html">defun-mode</a> 
 (see <a href="ACL2____DEFAULT-DEFUN-MODE.html">default-defun-mode</a>) must be <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span>, or else this 
 event is ignored.</p>
</body>
</html>
