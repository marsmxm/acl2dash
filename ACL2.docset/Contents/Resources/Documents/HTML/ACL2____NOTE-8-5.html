<html>
<head>
<meta charset="UTF-8">
<title>Note-8-5</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-8-5">Click for Note-8-5 in the Full Manual</a></h3>

<p>ACL2 Version  8.5 (July, 2022) Notes</p><p>NOTE!  New users can ignore these release notes, because the <a href="COMMON-LISP____DOCUMENTATION.html">documentation</a> has been updated to reflect all changes that are recorded 
 here.</p> 
 
 <p>Below we roughly organize the changes to ACL2 since Version 8.4 into the 
 following categories of changes: existing features, new features, heuristic 
 and efficiency improvements, bug fixes, changes at the system level, Emacs 
 support, and experimental versions.  Each change is described in just one 
 category, though of course many changes could be placed in more than one 
 category.</p> 
 
 <p>Note that only ACL2 system changes are listed below.  See also <a href="ACL2____NOTE-8-5-BOOKS.html">note-8-5-books</a> for a summary of changes made to the ACL2 Community Books 
 since ACL2 8.4, including the build system.  Also note that with each release, 
 it is typical that the value of constant <span class="tt"><a href="ACL2_____A2ACL2-EXPORTS_A2.html">*ACL2-exports*</a></span> has been 
 extended, and that some built-in functions that were formerly in <span class="v">:</span><span class="tt"><a href="ACL2____PROGRAM.html">program</a></span> mode are now <a href="ACL2____GUARD.html">guard</a>-verified <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> mode 
 functions.</p> 
 
 <h3>Changes to Existing Features</h3> 
 
 <p>Weakened hypotheses from built-in theorems (thus strengthening them) 
 <span class="v">symbol-equality</span>, <span class="v">true-listp-first-n-ac-type-prescription</span>, 
 <span class="v">ordered-symbol-alistp-getprops</span>, <span class="v">add-pair-preserves-all-boundp</span>, and 
 <span class="v">symbol&lt;-asymmetric</span>.  Eliminated built-in theorem 
 <span class="v">main-timer-type-prescription</span> entirely (that rule was already deduced by 
 ACL2 at definition time).  Simplified guards slightly for built-in functions 
 <span class="v">serialize-write-fn</span> and <span class="v">serialize-read-fn</span>.  Thanks to Eric Smith for 
 correspondence, based on his linter, leading to these improvements.</p> 
 
 <p>The utility <span class="tt"><a href="ACL2____WITHOUT-EVISC.html">without-evisc</a></span> formerly always (or nearly always) 
 returned the <a href="ACL2____ERROR-TRIPLE.html">error-triple</a> <span class="v">(<a href="ACL2____MV.html">mv</a> nil :invisible state)</span> after printing 
 the result.  Now it generally returns <span class="v">(<a href="ACL2____MV.html">mv</a> t nil state)</span> when evaluation of 
 the given form causes an error.  See <a href="ACL2____WITHOUT-EVISC.html">without-evisc</a>.  Thanks to Karthik 
 Nukala and Eric Smith for reporting the former (undesirable) behavior.</p> 
 
 <p>One would get an error when including an uncertified book when a 
 <span class="v">:type-prescription</span> specified in an <span class="tt"><a href="ACL2____XARGS.html">xargs</a></span> <a href="COMMON-LISP____DECLARATION.html">declaration</a> 
 failed a validity check, even when no such failure occurs when that book is 
 certified.  (That could happen because type-prescription information from 
 locally included books is saved in the book's <a href="ACL2____CERTIFICATE.html">certificate</a> file and is 
 used when checking such <span class="v">:type-prescription</span> declarations.)  This situation 
 now generates a warning rather than an error.  Thanks to Karthik Nukala and 
 Eric Smith for sending an example that pointed out this problem.</p> 
 
 <p>Output from <span class="v">:</span><span class="tt"><a href="ACL2____OOPS.html">oops</a></span> may now be inhibited as <span class="v">OBSERVATION</span> 
 output, by using <span class="tt"><a href="ACL2____SET-INHIBIT-OUTPUT-LST.html">set-inhibit-output-lst</a></span> or <span class="tt"><a href="ACL2____WITH-OUTPUT.html">with-output</a></span>.</p> 
 
 <p><a href="ACL2____RAW-MODE.html">Raw-mode</a> has been fixed so that reasonable results are printed when 
 multiple values are returned by a function defined in raw-mode or raw Lisp 
 (rather than in the logic).  The following examples illustrate the problem and 
 the fixed behavior.  The utilities <span class="v">add-raw-arity</span> and 
 <span class="v">remove-raw-arity</span> are no longer necessary (and they had no effect anyhow, 
 at least in recent ACL2 versions), so they have been removed.</p> 
 
 <pre class="code">(<a href="ACL2____DEFSTOBJ.html">defstobj</a> st fld)
(<a href="ACL2____SET-RAW-MODE-ON_12.html">set-raw-mode-on!</a>)
(<a href="COMMON-LISP____DEFUN.html">defun</a> f1 (st) st)
(f1 st) ; printed a vector; now prints &lt;st&gt;
(<a href="COMMON-LISP____DEFUN.html">defun</a> f2 (<a href="ACL2____STATE.html">state</a>) state)
(f2 state) ; printed ACL2_INVISIBLE::|The Live State Itself|;
           ; now prints &lt;state&gt;
(<a href="COMMON-LISP____DEFUN.html">defun</a> bar (x st state) (<a href="ACL2____MV.html">mv</a> x st state))
(bar 3 st state) ; printed 3; now prints (3 &lt;st&gt; &lt;state&gt;)</pre> 
 
 <p>The keyword <span class="v">:concrete</span> for <span class="tt"><a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a></span> and the keyword 
 <span class="v">:witness-dcls</span> for <span class="tt"><a href="ACL2____DEFUN-SK.html">defun-sk</a></span> are no longer supported, as they were 
 deprecated in ACL2 Version 8.4 in favor of <span class="v">:foundation</span> and <span class="tt"><a href="COMMON-LISP____DECLARE.html">declare</a></span> forms, respectively.  Also: the following symbols, deprecated in ACL2 
 Version 8.4, are no longer names of <a href="ACL2____EVENTS.html">events</a>.</p> 
 
 <pre class="code">logical-defun
merge-sort-symbol-&lt;
merge-symbol-&lt;
strict-merge-sort-symbol-&lt;
strict-merge-sort-symbol-&lt;-cdrs
strict-merge-symbol-&lt;
strict-symbol-&lt;-sortedp
symbol-&lt;</pre> 
 
 <p>The string <span class="v">"Proof succeeded"</span> or <span class="v">"Proof skipped"</span> was formerly 
 printed when <span class="v">SUMMARY</span> output is not inhibited (see <a href="ACL2____SET-INHIBIT-OUTPUT-LST.html">set-inhibit-output-lst</a>), but now that printing takes place instead when 
 <span class="v">PROVE</span> output is not inhibited.  Thanks to Pete Manolios for pointing out 
 a printing issue that is resolved with this change.</p> 
 
 <p>Some error messages were improved for the <a href="ACL2____PROOF-BUILDER.html">proof-builder</a>, primarily 
 when refusing a command to dive into an <span class="v">OR</span> expression.  Thanks to Warren 
 Hunt for bringing this issue to our attention.</p> 
 
 <p>There was a restriction on certain events, notably <span class="tt"><a href="ACL2____DEFCONST.html">defconst</a></span> and 
 <span class="tt"><a href="COMMON-LISP____DEFMACRO.html">defmacro</a></span> events, to ensure that they are not ancestrally dependent on 
 <span class="tt"><a href="ACL2____LOOP_42.html">loop$</a></span> or <span class="tt"><a href="ACL2____LAMBDA_42.html">lambda$</a></span> expressions.  That restriction has been 
 removed in the case that the body of the event is a quoted constant.</p> 
 
 <p>A <span class="tt"><a href="ACL2____DEFWARRANT.html">defwarrant</a></span> event may complete more quickly because a generated 
 hint now <a href="ACL2____DISABLE.html">disable</a>s the function.</p> 
 
 <p>Functions that take or return <a href="ACL2____STOBJ.html">stobj</a>s may now have <a href="ACL2____BADGE.html">badge</a>s and 
 <a href="ACL2____WARRANT.html">warrant</a>s.  One cannot (yet) take advantage of these in general because 
 one cannot put a <a href="ACL2____STOBJ.html">stobj</a> into a list, as required for the second argument 
 of <span class="tt"><a href="ACL2____APPLY_42.html">apply$</a></span>.  However, this change supports the use of stobjs in <span class="tt"><a href="ACL2____LOOP_42.html">loop$</a></span> expressions that use the new keyword, <span class="v">DO</span>.</p> 
 
 <p>The function <span class="v">the-check</span>, which is generated by calls of <span class="tt"><a href="COMMON-LISP____THE.html">the</a></span>, is 
 now a <a href="ACL2____GUARD-HOLDER.html">guard-holder</a>.</p> 
 
 <p>Printing of checkpoints now takes place any time <span class="v">SUMMARY</span> output is 
 enabled (see <a href="ACL2____SET-INHIBIT-OUTPUT-LST.html">set-inhibit-output-lst</a>.  Formerly, both <span class="v">SUMMARY</span> and 
 <span class="v">ERROR</span> output needed to be enabled.  Related tweaks, probably not 
 user-visible, were made in support of utilities for obtaining and displaying 
 checkpoints programmatically: see <a href="ACL2____CHECKPOINT-LIST.html">checkpoint-list</a> (which mentions 
 related utilities as well), and we thank to Eric Smith for requesting such 
 utilities.</p> 
 
 <p>The guard formula utilities (see <a href="ACL2____GUARD-FORMULA-UTILITIES.html">guard-formula-utilities</a>) continue 
 to perform simplification as before, except that way to specify the level of 
 simplification has changed.  Thanks to Eric Smith for a query and subsequent 
 discussion that led to these changes.  See <a href="ACL2____GUARD-SIMPLIFICATION.html">guard-simplification</a> for a 
 detailed explanation; below is a summary.  (The reason for these changes is 
 that the value <span class="v">T</span> formerly meant different things in the two cases below 
 — all simplification and limited simplification, respectively — 
 and the value <span class="v">NIL</span> also meant different things in those two cases — 
 limited simplification and no simplification, respectively.)</p> 
 
 <ul> 
 
 <li>For <span class="tt"><a href="ACL2____XARGS.html">xargs</a></span> keyword <span class="v">:guard-simplify</span> and related utilities 
 <span class="tt"><a href="ACL2____GUARD-OBLIGATION.html">guard-obligation</a></span> and <span class="tt"><a href="ACL2____VERIFY-GUARDS-FORMULA.html">verify-guards-formula</a></span>:<br> 
 The default value for simplification remains <span class="v">T</span>.  However, the value is 
 now <span class="v">:LIMITED</span> for specifying reduced simplification; formerly it was 
 <span class="v">NIL</span>, which is now illegal.</li> 
 
 <li>For <span class="v">:</span><span class="tt"><a href="ACL2____GUARD-THEOREM.html">guard-theorem</a></span> <a href="ACL2____LEMMA-INSTANCE.html">lemma-instance</a>s and the related 
 utility <span class="tt"><a href="ACL2____GTHM.html">gthm</a></span> (also the low-level utility, <span class="v">guard-theorem</span>):<br> 
 The default simplification is unchanged but now corresponds to a new default 
 value, <span class="v">:LIMITED</span>; formerly it was <span class="v">T</span>, which is now illegal.  The value 
 <span class="v">NIL</span> continues to be appropriate for avoiding simplification.</li> 
 
 </ul> 
 
 <p>Improved <span class="tt"><a href="ACL2____UNTRANSLATE.html">untranslate</a></span> so that when untranslating a translated <a href="ACL2____TERM.html">term</a>, an attempt is made to call <span class="tt"><a href="ACL2____MV.html">mv</a></span> where appropriate.  Thanks to 
 Alessandro Coglio and Eric Smith for requesting this enhancement.  The 
 improvement also restores type declarations under <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span>, <span class="tt"><a href="COMMON-LISP____LET_A2.html">let*</a></span>, 
 and <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span> (see <a href="COMMON-LISP____DECLARE.html">declare</a> and <a href="ACL2____TYPE-SPEC.html">type-spec</a>); and it also 
 restores <span class="tt"><a href="COMMON-LISP____IGNORE.html">ignore</a></span> declarations in <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span> and <span class="tt"><a href="COMMON-LISP____LET_A2.html">let*</a></span> forms, 
 where previously that was only the case for <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span> forms.  In 
 addition, a new utility, <span class="tt"><a href="ACL2____MAYBE-CONVERT-TO-MV.html">maybe-convert-to-mv</a></span>, may be called explicitly 
 to convert an untranslated term to one that calls <span class="v">mv</span> in leaves reached 
 via transversal of the true and false branches of its top-level <span class="v">IF</span> tree, 
 where the traversal appropriately passes through <span class="tt"><a href="COMMON-LISP____LET.html">let</a></span>, <span class="tt"><a href="COMMON-LISP____LET_A2.html">let*</a></span>, 
 and <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span> forms, as well as calls of <span class="tt"><a href="ACL2____PROG2_42.html">prog2$</a></span>, <span class="tt"><a href="ACL2____MBE.html">mbe</a></span>, 
 <span class="tt"><a href="ACL2____MBT.html">mbt</a></span>, <span class="tt"><a href="ACL2____EC-CALL.html">ec-call</a></span>, <span class="tt"><a href="ACL2____TIME_42.html">time$</a></span>, and a few other macros related to 
 <span class="tt"><a href="ACL2____RETURN-LAST.html">return-last</a></span> as well as <span class="v">return-last</span> itself.  See examples under a 
 comment about ``preserving executability'' in the <a href="ACL2____COMMUNITY-BOOK.html">community-book</a>, 
 <span class="v">books/system/tests/untranslate.lisp</span>.  (Note: The changes also include a 
 bug fix that avoids generating an <span class="tt"><a href="ACL2____MV-LET.html">mv-let</a></span> expression when there are 
 fewer than two bound variables.)</p> 
 
 <p>The second argument of <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> is no longer allowed to be the 
 symbol, <span class="v">T</span>, or any symbols whose <span class="tt"><a href="COMMON-LISP____SYMBOL-NAME.html">symbol-name</a></span> is <span class="v">"T"</span>.  (This 
 option seems to have been essentially unused but it complicated the source 
 code.)</p> 
 
 <p>When an <a href="ACL2____EVENT.html">event</a> fails while <a href="ACL2____USELESS-RUNES.html">useless-runes</a> are being read, the 
 failure message now makes note of that fact.  See <a href="ACL2____USELESS-RUNES-FAILURES.html">useless-runes-failures</a>.  Thanks to Mertcan Temel for pointing out that such 
 failures may present a confusing problem for (especially) new users.</p> 
 
 <p>Failed attempts to <span class="tt"><a href="ACL2____MEMOIZE.html">memoize</a></span> or <span class="tt"><a href="ACL2____PROFILE.html">profile</a></span> now generally result 
 in less noisy error output.  Also, a more useful error message is printed when 
 attempting to <span class="tt"><a href="ACL2____MEMOIZE.html">memoize</a></span> or <span class="tt"><a href="ACL2____PROFILE.html">profile</a></span> a function that is introduced 
 either by <span class="tt"><a href="ACL2____DEFABSSTOBJ.html">defabsstobj</a></span> or by <span class="tt"><a href="ACL2____DEFSTOBJ.html">defstobj</a></span> with keyword argument 
 <span class="v">:inline t</span>, and hence is a macro in raw Lisp; thanks to Shilpi Goel for 
 suggesting this improvement.</p> 
 
 <p>When the <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> utility reports rewriting a hypothesis to 
 <span class="v">nil</span>, it adds a note pointing to a new :doc topic, <a href="ACL2____TAIL-BITING.html">tail-biting</a>, 
 that explains a way that this can happen.</p> 
 
 <h3>New Features</h3> 
 
 <p>A new <span class="tt"><a href="ACL2____LOOP_42.html">loop$</a></span> keyword, <span class="v">DO</span>, supports an imperative style of 
 programming in loops.  In particular, <span class="v">DO</span> <span class="v">loop$</span> expressions may use 
 <span class="v">setq</span> and <span class="v">mv-setq</span> for assigning to one or several variables 
 (respectively), they may reference and return <a href="ACL2____STOBJ.html">stobj</a>s, and they may 
 return multiple values.  See <a href="ACL2____LOOP_42.html">loop$</a>.</p> 
 
 <p>One can now suppress output from <span class="tt"><a href="ACL2____CW.html">cw</a></span>, <span class="tt"><a href="ACL2____CW_12.html">cw!</a></span>, <span class="tt"><a href="ACL2____FMT-TO-COMMENT-WINDOW.html">fmt-to-comment-window</a></span>, and <span class="tt"><a href="ACL2____FMT-TO-COMMENT-WINDOW_12.html">fmt-to-comment-window!</a></span>, and from utilities 
 that use these such as <span class="tt"><a href="ACL2____TIME_42.html">time$</a></span>, by inhibiting a new output type, 
 <span class="v">COMMENT</span>.  (Thus, that symbol has been added to the value of 
 <span class="v">*valid-output-names*</span>.)  See <a href="ACL2____SET-INHIBIT-OUTPUT-LST.html">set-inhibit-output-lst</a> and <a href="ACL2____WITH-OUTPUT.html">with-output</a>.  Thanks to Eric McCarthy for a conversation via GitHub Issue 
 #1293 that led to this enhancement.  Moreover, new macros <span class="tt"><a href="ACL2____CW_B2.html">cw+</a></span> and 
 <span class="tt"><a href="ACL2____CW_12_B2.html">cw!+</a></span> and new functions <span class="tt"><a href="ACL2____FMT-TO-COMMENT-WINDOW_B2.html">fmt-to-comment-window+</a></span> and <span class="tt"><a href="ACL2____FMT-TO-COMMENT-WINDOW_12_B2.html">fmt-to-comment-window!+</a></span> never suppress output; the <span class="v">"+"</span> suffix is 
 intended to indicate that feature.  Thus, these new utilities behave like the 
 previous utilities without the <span class="v">"+"</span> suffix.  Thanks to Eric Smith, 
 Karthik Nukala, and Alessandro Coglio for observing inappropriate suppression 
 of output from the utility <span class="tt"><a href="ACL2____ER-SOFT_B2.html">er-soft+</a></span> and the connection of this problem 
 to the addition of the <span class="v">COMMENT</span> output type; it was resolved by using 
 <span class="v">fmt-to-comment-window+</span> in place of <span class="v">fmt-to-comment-window</span> in the 
 implementation of a utility underlying <span class="v">er-soft+</span> (see <a href="ACL2____COMMUNITY-BOOK.html">community-book</a> <span class="v">books/tools/er-soft-logic.lisp</span>).</p> 
 
 <p>You can now arrange that an interrupt will kill a proof immediately by 
 evaluating <span class="v">(<a href="ACL2____ASSIGN.html">assign</a> abort-soft nil)</span>, and you can restore the default 
 behavior — where an interrupt instructs the proof to quit cleanly at an 
 appropriate opportunity — by evaluating <span class="v">(<a href="ACL2____ASSIGN.html">assign</a> abort-soft t)</span>. 
 Note that this can interfere with <span class="v">:</span><span class="tt"><a href="ACL2____REDO-FLAT.html">redo-flat</a></span>; see <a href="ACL2____ABORT-SOFT.html">abort-soft</a>.  Thanks to Eric Smith for reporting an inability to abort a 
 series of proof attempts using the <span class="tt"><a href="ACL2____PROVE_42.html">prove$</a></span> utility, which led to this 
 enhancement.</p> 
 
 <p>A <a href="ACL2____STOBJ.html">stobj</a> may now have a field of type <span class="v">STOBJ-TABLE</span>, which 
 associates arbitrary stobj names with corresponding stobjs.  As of this 
 writing, that feature should be considered experimental; see <a href="ACL2____STOBJ-TABLE.html">stobj-table</a>.  Thanks to Rob Sumners for suggesting the idea and to him and 
 Sol Swords for useful design discussions.</p> 
 
 <p>The utility <span class="tt"><a href="ACL2____WET.html">wet</a></span> has a new keyword option, <span class="v">:fullp</span>, that allows 
 it to work even when there is a raw Lisp error.  Thanks to Eric Smith for 
 requesting that <span class="v">wet</span> be able to work in such cases.</p> 
 
 <p>Rewriting of <a href="COMMON-LISP____LAMBDA.html">lambda</a> objects (see <a href="ACL2____REWRITE-LAMBDA-OBJECT.html">rewrite-lambda-object</a>) may 
 now be <a href="ACL2____DISABLE.html">disable</a>d, by disabling the <a href="ACL2____EXECUTABLE-COUNTERPART.html">executable-counterpart</a> <a href="ACL2____RUNE.html">rune</a> for (trivial function), <span class="v">rewrite-lambda-modep</span> — for example, 
 with a hint <span class="v">:in-theory (<a href="ACL2____DISABLE.html">disable</a> (:e rewrite-lambda-modep))</span>.  Also 
 improved a couple of warnings and a bit of documentation pertaining to such 
 rewriting.</p> 
 
 <p>The undocumented <span class="v">last-ld-result</span> feature has been replaced by a new 
 documented feature, a <a href="ACL2____LD-HISTORY.html">ld-history</a> that records command input/output 
 history.  Thanks to Eric Smith for requesting this feature.</p> 
 
 <p>The <span class="tt"><a href="ACL2____LD.html">ld</a></span> utility accepts a new keyword argument, <span class="v">:useless-runes</span>, 
 which functions much the same as does the <span class="v">:useless-runes</span> keyword argument 
 of <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span>.  See <a href="ACL2____USELESS-RUNES.html">useless-runes</a>.  Thanks to Eric Smith for 
 requesting this feature (which may have been requested previously as 
 well).</p> 
 
 <p>A new <a href="ACL2____EVENT.html">event</a>, <span class="tt"><a href="ACL2____SET-INHIBIT-ER-SOFT.html">set-inhibit-er-soft</a></span>, allows the user to turn 
 off error output of various types.  The related utility <span class="tt"><a href="ACL2____TOGGLE-INHIBIT-ER-SOFT.html">toggle-inhibit-er-soft</a></span> can turn on or off a single type of error output. 
 Non-<a href="ACL2____LOCAL.html">local</a> versions of these utilities are <span class="tt"><a href="ACL2____SET-INHIBIT-ER-SOFT_12.html">set-inhibit-er-soft!</a></span> 
 and <span class="tt"><a href="ACL2____TOGGLE-INHIBIT-ER-SOFT_12.html">toggle-inhibit-er-soft!</a></span>.  Many error messages cannot yet be 
 controlled this way, but this may be remedied somewhat with community 
 feedback.  Thanks to Eric Smith for a request to inhibit step-limit error 
 output, which led to this enhancement.</p> 
 
 <p>The functions <span class="tt"><a href="ACL2____L_C3.html">l&lt;</a></span>, <span class="v">lexp</span>, and <span class="v">d&lt;</span>, originally defined in 
 <a href="ACL2____COMMUNITY-BOOK.html">community-book</a> <span class="v">books/ordinals/lexicographic-book.lisp</span>, are now 
 built into ACL2.  However, it is still useful to include an ordinals book, for 
 example <a href="ACL2____COMMUNITY-BOOK.html">community-book</a> <span class="v">books/ordinals/ordinals</span>, if you want to 
 reason about such functions.</p> 
 
 <p>A <a href="ACL2____STOBJ.html">stobj</a> field of <span class="v">HASH-TABLE</span> type may now specify an element 
 type; for example, <span class="v">(hash-table eql nil integer)</span> specifies a test of 
 <span class="v">eql</span>, no size restriction, and the element type, <span class="v">integer</span>, indicating 
 that only integers are stored in the hash table.  The <span class="v">:initially</span> keyword 
 of such a field is no longer ignored, but instead provides the value returned 
 when looking up a key that is not bound in the hash table.  Moreover, the 
 element type may be a stobj, indicating that the values in the hash table are 
 all instances of that child stobj; see <a href="ACL2____NESTED-STOBJS.html">nested-stobjs</a>.  In that case, 
 the <span class="v">:initially</span> keyword would be meaningless because one always gets a 
 fresh instance of the child stobj when looking up an unbound key; hence 
 <span class="v">:initially</span> is illegal for any hash-table field with a stobj element type. 
 Thanks to Rob Sumners for requesting this enhancement and for helpful 
 discussions about its design.</p> 
 
 <p>It is now possible to certify a book in a logical <a href="ACL2____WORLD.html">world</a> that 
 contains <a href="ACL2____LOCAL.html">local</a> <a href="ACL2____EVENTS.html">events</a>.  Thus, a book's <a href="ACL2____CERTIFICATE.html">certificate</a> file 
 may include local events among its <a href="ACL2____PORTCULLIS.html">portcullis</a> commands, which will be 
 skipped when including the book.  A key application of this new capability is 
 to save an ACL2 executable (using <span class="tt"><a href="ACL2____SAVE-EXEC.html">save-exec</a></span>) after <a href="ACL2____LOCAL.html">local</a>ly 
 including set <span class="v">B</span> of books at the top level, and then — in fresh ACL2 
 sessions started by running that executable — certify other books that 
 may include some books of <span class="v">B</span>.  Those inclusions would then be <a href="ACL2____REDUNDANT.html">redundant</a> during certification of a book, but not later when the book is 
 included.  If <span class="v">B</span> is a large set of large books, then this process can be 
 much more efficient than doing certifications from a basic ACL2 executable, 
 which would involve running <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> on all required books from 
 <span class="v">B</span>.  Of course, one could previously have saved such an executable and 
 certified books on top of it, but then all of <span class="v">B</span> would be included 
 whenever including those books, which could be slow and also could result in 
 many more rules than desired.  Thanks to Sol Swords and others at Intel 
 Corp. for requesting this enhancement and engaging in initial discussions.</p> 
 
 <p>The new macro <span class="tt"><a href="ACL2____TRUST-MFC.html">trust-mfc</a></span> supports testing <a href="ACL2____EXTENDED-METAFUNCTIONS.html">extended-metafunctions</a> outside the prover.  Thanks to Sol Swords for 
 requesting such a utility.</p> 
 
 <p>A new macro, <span class="tt"><a href="ACL2____WITH-GLOBAL-STOBJ.html">with-global-stobj</a></span>, allows reading and writing of a 
 <a href="ACL2____STOBJ.html">stobj</a> in the body of a function without having to pass it as a formal 
 parameter, by accessing the stobj from the ACL2 <a href="ACL2____STATE.html">state</a>.  See <a href="ACL2____WITH-GLOBAL-STOBJ.html">with-global-stobj</a>.  Thanks to Rob Sumners and Sol Swords for requesting this 
 feature (originally, to support a global <a href="ACL2____STOBJ-TABLE.html">stobj-table</a>) and for helpful 
 discussions about its design.</p> 
 
 <p>The <a href="ACL2____META-EXTRACT.html">meta-extract</a> feature has been extended to allow <a href="ACL2____LINEAR.html">linear</a> 
 lemmas to be extracted from the <a href="ACL2____WORLD.html">world</a> and trusted by clause processors 
 and metafunctions.  In particular, a new sort of value for the <span class="v">obj</span> 
 argument is supported for <span class="v">meta-extract-global-fact</span> (and 
 <span class="v">meta-extract-global-fact+</span>), which results in a term representing a linear 
 lemma extracted from a function symbol's <span class="v">linear-lemmas</span> property.  See 
 <a href="ACL2____META-EXTRACT.html">meta-extract</a>, in particular the discussion of <span class="v">:linear-lemma</span>. 
 Thanks to Sol Swords for providing this enhancement.</p> 
 
 <p>A new utility, <span class="tt"><a href="ACL2____DISABLE-UBT.html">disable-ubt</a></span>, is similar to <span class="v">(<a href="ACL2____RESET-PREHISTORY.html">reset-prehistory</a> t)</span> 
 except that it does not change command numbering.</p> 
 
 <p>Added a built-in <span class="v">:</span><span class="tt"><a href="ACL2____FORWARD-CHAINING.html">forward-chaining</a></span> rule, 
 <span class="v">symbol-listp-forward-to-eqlable-listp</span>, which replaces the rule 
 <span class="v">symbol-listp-forward-to-true-listp</span>.  Note that the old rule is 
 subsumed,together with other rules, by the new one.  Thanks to Warren Hunt for 
 observing that not built into ACL2 as a <span class="v">:forward-chaining</span> rule.</p> 
 
 <h3>Heuristic and Efficiency Improvements</h3> 
 
 <p>Improved the efficiency of some computations involving calls of <span class="tt"><a href="ACL2____DEFATTACH.html">defattach</a></span> with option <span class="v">:aokp t</span>, in particular, of <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> 
 events for books including such calls.  Thanks to Mertcan Temel for reporting 
 this efficiency issue and sending an <span class="v">include-book</span> event, whose execution 
 time was reduced from 24 seconds to 10 seconds by this change.</p> 
 
 <p>Evaluation of some large forms caused stack overflows (from ACL2 source 
 function <span class="v">bad-lisp-consp</span>).  This is probably much less likely now.  Thanks 
 to Eric Smith for reporting this issue to the acl2-help list with a helpful 
 example, which formerly caused a stack overflow for ACL2 built on SBCL but no 
 longer does so.</p> 
 
 <p>The function <span class="tt"><a href="ACL2____PRINC_42.html">princ$</a></span> now prints characters more rapidly.</p> 
 
 <p>In some cases, <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> calls may run a bit faster thanks to a 
 couple of small changes.  The primary change is for heuristic <a href="ACL2____LOOP-STOPPER.html">loop-stopper</a> generation when the conclusion of a <a href="ACL2____REWRITE.html">rewrite</a> rule contains 
 a <a href="COMMON-LISP____LAMBDA.html">lambda</a> expression.  Formerly all such expressions were expanded away. 
 Now, they are expanded away in the left-hand side, and both the unexpanded and 
 expanded versions of the left-hand side are compared to the unexpanded 
 right-hand side (see the final Remark in the <a href="ACL2____LOOP-STOPPER.html">loop-stopper</a> 
 documentation).  We have seen a 7% reduction of time for the event, 
 <span class="v">(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "projects/x86isa/top" :dir :system)</span>.</p> 
 
 <p>Book certification has (in the past, and still) an optimization that avoids 
 needless rolling back of the <a href="ACL2____WORLD.html">world</a> during the <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> 
 phase; see <a href="ACL2____CERTIFY-BOOK.html">certify-book</a>, in particular the discussion of ``roll back''. 
 Any <a href="ACL2____LOCAL.html">local</a> event within an <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> form was reason to roll 
 back the world to before that <span class="v">encapsulate</span> event.  That is no longer the 
 case unless the <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> form introduces packages in the first pass 
 through that <span class="v">encapsulate</span> form that are hidden or missing after the second 
 pass through it, presumably because of a <a href="ACL2____LOCAL.html">local</a> <span class="v">include-book</span> event 
 in that <span class="v">encapsulate</span> form.</p> 
 
 <p>The function <span class="tt"><a href="ACL2____LEN.html">len</a></span> is significantly more efficient than before. 
 (Also, its raw Lisp implementation is simpler, though as before it causes an 
 error for extremely (impossibly?) long lists (in Lisp parlance, whose length 
 is not a fixnum).)  Thanks to Stephen Westfold for encouraging this change and 
 suggesting a suitable <span class="v">declaim</span> form, and thanks to Eric Smith for 
 providing helpful tests.</p> 
 
 <h3>Bug Fixes</h3> 
 
 <p>A soundness bug in <span class="tt"><a href="ACL2____DEFSTOBJ.html">defstobj</a></span> has been fixed that allowed a field to 
 contain the <a href="ACL2____TYPE-SPEC.html">type-spec</a> <span class="v">(SATISFIES pred)</span> when <span class="v">pred</span> has a <a href="ACL2____GUARD.html">guard</a> other than <span class="v">t</span>, which generated an unsound guard theorem.  Thanks to 
 Eric Smith for sending the following example.</p> 
 
 <pre class="code">(<a href="ACL2____DEFSTOBJ.html">defstobj</a> s (field :type (satisfies evenp) :initially 4))

(<a href="ACL2____DEFTHM.html">defthm</a> bad
  nil
  :rule-classes nil
  :hints (("Goal" :use (:instance (:guard-theorem fieldp) (x t)))))</pre> 
 
 <p>A soundness bug was due to incompleteness of the prohibition against <a href="ACL2____LOCAL.html">local</a> <a href="ACL2____PORTCULLIS.html">portcullis</a> <a href="ACL2____COMMAND.html">command</a>s.  For an example, see a comment in 
 the form <span class="v">(<a href="ACL2____DEFXDOC.html">defxdoc</a> note-8-5 ...)</span>, <a href="ACL2____COMMUNITY-BOOKS.html">community-books</a> file 
 <span class="v">books/system/doc/acl2-doc.lisp</span>.  This has been fixed by allowing local 
 events among the portcullis commands (and treating them properly; see relevant 
 discussion, including how <span class="tt"><a href="ACL2____SAVE-EXEC.html">save-exec</a></span> may be helpful, in the ``New 
 Features'' section above).</p> 
 
 <p>The use of <span class="tt"><a href="ACL2____SET-GUARD-CHECKING.html">set-guard-checking</a></span> before calling <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> 
 was making it possible for a subsequent <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> to fail for that 
 book.  For example, in a fresh ACL2 session one could evaluate the <a href="ACL2____COMMAND.html">command</a> <span class="v">(<a href="ACL2____SET-GUARD-CHECKING.html">set-guard-checking</a> :none)</span> followed by <span class="v">(<a href="ACL2____TABLE.html">table</a> foo 0 (<a href="COMMON-LISP____CAR.html">car</a>
 3))</span>, and then certify a book; but including that book would then fail with a 
 <a href="ACL2____GUARD.html">guard</a> violation, because the <span class="v">set-guard-checking</span> call was not saved 
 in the <a href="ACL2____CERTIFICATE.html">certificate</a> file, hence was not evaluated when attempting to 
 include the book.  This has been fixed by treating that situation much as 
 <a href="ACL2____LOCAL.html">local</a> <a href="ACL2____PORTCULLIS.html">portcullis</a> commands are now treated (see discussion about 
 that in the ``New Features'' section above).  The situation is explained now 
 in the final Remark in the documentation for <a href="ACL2____LOCAL-INCOMPATIBILITY.html">local-incompatibility</a>.</p> 
 
 <p>Fixed an error that could occur when the <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> utility is 
 displaying failure information for an attempt to apply a <a href="ACL2____LINEAR.html">linear</a> rule 
 containing <a href="ACL2____FREE-VARIABLES.html">free-variables</a>.  Thanks to Karthik Nukala and Eric Smith for 
 sending a bug report with a replayable example.</p> 
 
 <p>Strengthened syntax checking for accessor expressions in <span class="tt"><a href="ACL2____STOBJ-LET.html">stobj-let</a></span> 
 bindings.  See a comment about this in <span class="v">(<a href="ACL2____DEFXDOC.html">defxdoc</a> note-8-5 ...)</span>.</p> 
 
 <p>The writing of <a href="ACL2____USELESS-RUNES.html">useless-runes</a> files was sensitive to the global <a href="ACL2____EVISC-TABLE.html">evisc-table</a>, which could cause failures when reading those files.  This has 
 been fixed.</p> 
 
 <p>An error could occur when encountering a <a href="ACL2____REDUNDANT.html">redundant</a> <span class="tt"><a href="ACL2____DEFWARRANT.html">defwarrant</a></span> event while including a book.  This has been fixed, by arranging 
 that a <span class="v">defwarrant</span> event always expands to the same <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> 
 form.</p> 
 
 <p>An assertion error was fixed, occurring with a call of <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> 
 when the value of environment variable <span class="v">"ACL2_USELESS_RUNES"</span> 
 was (erroneously) <span class="v">"0"</span>.</p> 
 
 <p>When the <a href="ACL2____HINTS.html">hints</a> specified for a goal include <span class="v">:do-not-induct NAME</span> 
 for some symbol <span class="v">NAME</span> other than <span class="v">t</span>, <span class="v">:otf</span>, 
 <span class="v">:otf-flg-override</span>, or <span class="v">nil</span>, then that goal is to be skipped, giving 
 it a ``bye'' as with a <span class="v">:by</span> hint.  This would fail however when the <a href="ACL2____INDUCTION-DEPTH-LIMIT.html">induction-depth-limit</a> is reached: that is, the proof would fail immediately 
 rather than continuing so that the skipped goal is printed upon failure at the 
 end.  The following example now has the desired behavior; thanks to Alessandro 
 Coglio for raising this issue by sending a <a href="ACL2____PROOF-BUILDER.html">proof-builder</a> example, where 
 the <span class="v">:induct</span> command failed for (as it turns out) the same reason.</p> 
 
 <pre class="code">(<a href="ACL2____SET-INDUCTION-DEPTH-LIMIT.html">set-induction-depth-limit</a> 1)
(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="COMMON-LISP____APPEND.html">append</a> x y) z) (<a href="COMMON-LISP____APPEND.html">append</a> x y z))
     :hints (("Goal"
              :induct t :do-not-induct foo :do-not *do-not-processes*)))</pre> 
 
 <p>Fixed a bug in processing macro arguments with more than one occurrence of 
 the symbol, <span class="v">:allow-other-keys</span>.  Thanks to Eric Smith for pointing out 
 this bug and providing a fix.  Here is an example that was failing but is now 
 handled without error (notice that <span class="v">:allow-other-keys</span> is in a value 
 position, not a keyword position, so the duplication is legal).</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="COMMON-LISP____DEFMACRO.html">defmacro</a> foo (x &amp;key y) `(<a href="COMMON-LISP____LIST.html">list</a> ,x ,y))

Summary
Form:  ( DEFMACRO FOO ...)
Rules: NIL
Time:  0.00 seconds (prove: 0.00, print: 0.00, other: 0.00)
 FOO
ACL2 !&gt;(foo 3 :y 4 :z 5 :allow-other-keys t :w :allow-other-keys)


ACL2 Error in macro expansion:  ACL2 prohibits multiple :allow-other-
keys because implementations differ significantly concerning which
value to take.

ACL2 !&gt;:q

Exiting the ACL2 read-eval-print loop.  To re-enter, execute (<a href="ACL2____LP.html">LP</a>).
? (foo 3 :y 4 :z 5 :allow-other-keys t :w :allow-other-keys)
(3 4)
?</pre> 
 
 <p>Pretty-printed output could be misaligned when an output string specified 
 by the <a href="ACL2____EVISC-TABLE.html">evisc-table</a> contains a newline.  Such output is now printed a 
 bit differently, with reasonable alignment.</p> 
 
 <p>Printing of results has been improved in <a href="ACL2____RAW-MODE.html">raw-mode</a> in cases of <a href="ACL2____MULTIPLE-VALUE.html">multiple-value</a> return, so that <a href="ACL2____STOBJ.html">stobj</a> names are used even when at least 
 one returned value is not an ACL2 object.</p> 
 
 <p>The <a href="COMMON-LISP____TRACE.html">trace</a> level is no longer reset when entering <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> or any other <a href="ACL2____WORMHOLE.html">wormhole</a>.  Thanks to Khairul Azhar Kasmiran 
 for raising this issue and pointing to relevant source code (<a href="https://github.com/acl2/acl2/issues/1395" target="_blank"><nobr>GitHub Issue #1395<img src="../Icon_External_Link.png" title="External link to https://github.com/acl2/acl2/issues/1395"></nobr></a>).</p> 
 
 <p>When the <span class="v">:</span><span class="tt"><a href="ACL2____PR_12.html">pr!</a></span> command prints <span class="v">:</span><span class="tt"><a href="ACL2____REWRITE.html">rewrite</a></span> rules about 
 the <span class="tt"><a href="ACL2____PKG-IMPORTS.html">pkg-imports</a></span> of one or more <a href="ACL2____PACKAGES.html">packages</a>, it now prints such 
 rules only for relevant packages, not ones introduced earlier than specified 
 by the argument of <span class="v">:pr!</span> (as was done previously).  Thanks to Eric Smith 
 for bringing this bug to our attention.</p> 
 
 <p>A bug in <span class="tt"><a href="ACL2____DEFATTACH.html">defattach</a></span> has been fixed, which was causing the keywords 
 within an argument <span class="v">(fi gi :kwdi1 vali1 ...)</span> to be associated with the 
 wrong such argument.</p> 
 
 <p>When printing the name of a symbol or package that consists entirely of 
 '<span class="v">.</span>' (dot) characters, the name is escaped with vertical bars, for 
 example, <span class="v">|..|</span>.  Note that the CL HyperSpec, Section 2.3.4 Symbols as 
 Tokens says: ``Any token that is not a potential number, does not contain a 
 package marker, and does not consist entirely of dots will always be 
 interpreted as a symbol.''  Thanks to Eric McCarthy and Eric Smith for 
 pointing out that there can be errors when reading such a name when it is not 
 escaped.</p> 
 
 <p>It was possible to get a violation of fast alist discipline (see <a href="ACL2____SLOW-ALIST-WARNING.html">slow-alist-warning</a> when certifying a book that uses <span class="tt"><a href="ACL2____MUST-FAIL.html">must-fail</a></span>.  This 
 has been fixed.</p> 
 
 <p>It had been possible to undo commands (for example, using <span class="v">:</span><span class="tt"><a href="ACL2____UBT.html">ubt</a></span> 
 when inside the <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> interactive loop.  This destroyed the 
 utility of that loop by erasing keyword aliases (see <a href="ACL2____LD-KEYWORD-ALIASES.html">ld-keyword-aliases</a>).  Thanks to Warren Hunt for reporting this problem.  The 
 solution uses the new utility mentioned above, <span class="tt"><a href="ACL2____DISABLE-UBT.html">disable-ubt</a></span>, which may 
 be useful for other <span class="tt"><a href="ACL2____WORMHOLE.html">wormhole</a></span> invocations that take advantage of the 
 <span class="tt"><a href="ACL2____LD-KEYWORD-ALIASES.html">ld-keyword-aliases</a></span> <a href="ACL2____TABLE.html">table</a>.</p> 
 
 <h3>Changes at the System Level</h3> 
 
 <p>The <a href="ACL2____HONS-ENABLED.html">hons-enabled</a> features of ACL2 (<span class="tt"><a href="ACL2____HONS.html">hons</a></span>, <a href="ACL2____MEMOIZATION.html">memoization</a>, 
 and <a href="ACL2____FAST-ALISTS.html">fast-alists</a>) have been included in ACL2 builds by default since 
 Version 7.0 (January, 2015) and in all ACL2 builds since Version 7.2 (January, 
 2016).  Now, essentially all support for building ACL2 without these features 
 has been removed.  The function <span class="v">(hons-enabledp state)</span> and the feature 
 <span class="v">:hons</span> both remain, but are always true and are deprecated, scheduled for 
 removal very soon after the next release.  The feature <span class="v">:acl2-mv-as-values</span> 
 was always true when feature <span class="v">:hons</span> was present, hence was always true; so 
 it has been removed (and <span class="v">#-acl2-mv-as-values</span> code has been 
 eliminated).</p> 
 
 <p>For ACL2 builds when the host Lisp is SBCL, the Lisp optimization level is 
 now 1 for <span class="v">SPACE</span>, which apparently can result in more inlining than the 
 former level of 0, and which has been seen to speed up an application while 
 reducing memory bytes allocated.  The default optimization level for 
 <span class="v">SPACE</span> can be set to 1 for any Lisp at build time by running <span class="v">make</span> 
 with argument <span class="v">ACL2_SPACE=1</span>, and the level can be set similarly to any 
 legal value, for example by using <span class="v">ACL2_SPACE=3</span> for level 3.  We can 
 easily change the default for other Lisps as well, and might do so when there 
 is evidence that this would be useful.</p> 
 
 <p>The function <span class="v">bind-macro-args</span>, and several of its subfunctions, are now 
 in <span class="v">:</span><span class="tt"><a href="ACL2____LOGIC.html">logic</a></span> mode with verified <a href="ACL2____GUARD.html">guard</a>s.  Thanks to Eric Smith 
 for verifying guards as per <a href="ACL2____VERIFY-GUARDS-FOR-SYSTEM-FUNCTIONS.html">verify-guards-for-system-functions</a>.</p> 
 
 <p>ACL2 will now generally signal an error if a filename contains consecutive 
 directory separators, i.e., <span class="v">"//"</span> (in non-Windows systems).</p> 
 
 <p>(SBCL only) A build-time parameter was changed so that some non-x86 64-bit 
 platforms, notably Arm, are built with <span class="v">--dynamic-space-size 32000</span>, as for 
 x86-64 platforms, instead of <span class="v">2000</span>.  Thanks to Stephen Westfold for 
 pointing out this oversight.</p> 
 
 <p>A new documentation topic, <a href="ACL2____GUARANTEES-OF-THE-TOP-LEVEL-LOOP.html">guarantees-of-the-top-level-loop</a>, 
 explains the logical meaning of evaluation in the ACL2 read-eval-print loop, 
 including discussion of attachments (see <a href="ACL2____DEFATTACH.html">defattach</a>), <a href="ACL2____BADGE.html">badge</a>s, 
 <a href="ACL2____WARRANT.html">warrant</a>s.</p> 
 
 <p>The implementation of backquote has been optimized to use quoted 
 expressions for constant subterms (other than <a href="COMMON-LISP____LAMBDA.html">lambda</a> objects) rather 
 than consing new structure.  This can give a significant reduction in code 
 size.  Thanks to Stephen Westfold for providing his implementation.</p> 
 
 <p>When an error is encountered while reading an expression, the remaining 
 input is cleared.  Thanks to Eric McCarthy for pointing out that this wasn't 
 the case, giving the example, <span class="v">(<a href="COMMON-LISP____LET.html">LET</a> ((. 3)) (<a href="COMMON-LISP_____B2.html">+</a> . 4))</span>, as one that was 
 giving many errors.</p> 
 
 <p>(CCL only) Disabled raw lisp compiler macro for <span class="v">memq</span>.  For example, 
 the following definition no longer causes a raw Lisp error when submitted to 
 ACL2: <span class="v">(<a href="COMMON-LISP____DEFUN.html">defun</a> foo (x) (<a href="ACL2____MEMBER-EQ.html">member-eq</a> x 'a))</span>.  Thanks to Shannon Spires for the 
 suggestion.</p> 
 
 <h3>EMACS Support</h3> 
 
 <p>It is now possible to have more than one <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> buffer.  A new 
 buffer is created by using <span class="v">Shift-&lt;Return&gt;</span> to follow a link.  Commands 
 that are naturally specific to a given buffer (such as searching and going 
 back) are buffer-local.  Thanks to Mayank Manjrekar for the idea and for 
 supplying an implementation (including documentation), which has been 
 incorporated into the <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> source file, <span class="v">acl2-doc.el</span> (loaded 
 from a suitable directory; see <a href="ACL2____EMACS.html">emacs</a>).</p> 
 
 <p>A bug has been fixed in <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> that would cause an error 
 when attempting to bring up the acl2-only manual.</p> 
 
 <p>The key binding Control-TAB has been removed for the <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> 
 browser, to avoid conflict with other uses of that key.  Thanks to Alessandro 
 Coglio for the idea.</p> 
 
 <p>New <span class="tt"><a href="ACL2____ACL2-DOC.html">ACL2-doc</a></span> command <span class="v">G</span> is similar to <span class="v">g</span>, prompting for a 
 topic name, but puts that topic into a new buffer.  Thanks to Warren Hunt for 
 requesting this feature.</p> 
 
 <p>When <span class="tt"><a href="ACL2____ACL2-DOC.html">ACL2-doc</a></span> fails in an attempt to download the manual, a more 
 helpful error message says how to attempt the download outside Emacs, and the 
 minibuffer points to an Emacs variable holding that message, 
 <span class="v">acl2-doc-download-error</span> (which is also described in the <a href="ACL2____ACL2-DOC.html">ACL2-doc</a> 
 documentation topic).  Thanks to Warren Hunt for discussion leading to this 
 enhancement.</p> 
 
 <p>Files from the <span class="v">emacs/</span> directory in the ACL2 distribution have been 
 copied to directory <span class="v">books/emacs/</span>.  The original <span class="v">emacs/</span> directory 
 will continue to be maintained for Emacs 24 (though those who have used it 
 comfortably with more recent versions may wish to continue to load files from 
 the <span class="v">emacs/</span> directory).  The <span class="v">books/emacs/</span> directory is intended for 
 use with recent versions of ACL2, and the ACL2 community is welcome to modify 
 it.  Thanks to Warren Hunt for noting that users of recent Emacs versions 
 could experience problems using files maintained for Emacs 24.</p> 
 
 <h3>Experimental Versions</h3> 
 
 <p>An error could formerly occur when using the precomputed <a href="ACL2____USELESS-RUNES.html">useless-runes</a> files in ACL2(r).  The <a href="ACL2____USELESS-RUNES.html">useless-runes</a> feature has now 
 been turned off for ACL2(r).  Thanks to Eric McCarthy for this change.</p> 
 
 <p>Warnings about ``fast alist discipline violated'' (see <a href="ACL2____SLOW-ALIST-WARNING.html">slow-alist-warning</a>) could appear in ACL2(p) when <a href="ACL2____USELESS-RUNES.html">useless-runes</a> were 
 being read, say using <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> option <span class="v">:useless-runes :read</span>. 
 These have been eliminated.  Note that they didn't show up during regressions 
 in Version 8.4 because the use of ``<span class="v">make</span>'' was set up to avoid using 
 useless-runes with ACL2(p).</p> 
 
 
</body>
</html>
