<html>
<head>
<meta charset="UTF-8">
<title>Use-trivial-ancestors-check</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____USE-TRIVIAL-ANCESTORS-CHECK">Click for Use-trivial-ancestors-check in the Full Manual</a></h3>

<p>Override ACL2's built-in ancestors check heuristic with a simpler and less surprising one.</p><p>Usage: as an embeddable event,</p> 
 
<pre class="code">(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "tools/trivial-ancestors-check" :dir :system)
(<a href="ACL2____USE-TRIVIAL-ANCESTORS-CHECK.html">use-trivial-ancestors-check</a>)</pre> 
<p>or</p> 
<pre class="code">(<a href="ACL2____LOCAL.html">local</a> (<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "tools/trivial-ancestors-check" :dir :system))
(<a href="ACL2____LOCAL.html">local</a> (<a href="ACL2____USE-TRIVIAL-ANCESTORS-CHECK.html">use-trivial-ancestors-check</a>)).</pre> 
 
<p>(Note: <span class="v">use-trivial-ancestors-check</span> expands to a local event, but you 
can still wrap it in local, in which case the trivial-ancestors-check book may 
be included locally.)</p> 
 
<p>ACL2 has a heuristic called <span class="v">ancestors-check</span> which it uses to 
prevent loops in backchaining during rewriting.  The <span class="v">ancestors</span>, in this 
context, are the sequence of hyps we have backchained to in order to get to the 
one we are currently trying to relieve.  Among other things, ACL2's built in 
ancestors check decides whether the current hyp is more complicated than any 
ancestral hyp, and gives up on backchaining if so.  Occasionally this can cause 
a rewriting strategy to mysteriously fail to work.  Fortunately, ACL2 allows 
its default ancestors check to be replaced by an attachment.</p> 
 
<p>Running <span class="v">(<a href="ACL2____USE-TRIVIAL-ANCESTORS-CHECK.html">use-trivial-ancestors-check</a>)</span> replaces the default ancestors 
check with one that does much less: it only checks whether the current hyp 
occurs, exactly or negated, in the ancestors, and doesn't try to prevent 
backchaining to more complicated hyps.</p> 
 
<p>This could cause rewriting to fail due to a chain of increasingly 
complicated hyps.  But when we tried replacing ACL2's default heuristic with 
this new one, we only found a couple of examples in the regression where this 
was the case, and these were due to (in our view) bad rules.  So in practice, 
this seems to be fairly undisruptive.</p>
</body>
</html>
