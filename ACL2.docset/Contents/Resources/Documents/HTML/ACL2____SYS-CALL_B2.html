<html>
<head>
<meta charset="UTF-8">
<title>Sys-call+</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SYS-CALL_B2">Click for Sys-call+ in the Full Manual</a></h3>

<p>Make a system call to the host OS, returning status and output</p><pre class="code">Example Form:
; The following returns (<a href="ACL2____MV.html">mv</a> nil s state), where s is the standard output
; from the command: ls -l ./
(<a href="ACL2____SYS-CALL_B2.html">sys-call+</a> "ls" '("-l" "./") state)

General Form:
(<a href="ACL2____SYS-CALL_B2.html">sys-call+</a> cmd args state)</pre> 
 
 <p>where <span class="v">cmd</span> is a command to the host operating system and <span class="v">args</span> is a 
 list of strings.  Also see related utilities <a href="ACL2____SYS-CALL.html">sys-call</a> and <a href="ACL2____SYS-CALL_A2.html">sys-call*</a>.  There are three major differences between <span class="tt"><a href="ACL2____SYS-CALL.html">sys-call</a></span> and 
 both <span class="v">sys-call+</span> and <span class="v">sys-call*</span>.  First, the latter two take an extra 
 argument, <span class="v">state</span>.  Second, while <span class="v">sys-call</span> returns <span class="v">nil</span>, 
 <span class="v">sys-call+</span> and <span class="v">sys-call*</span> both return an <a href="ACL2____ERROR-TRIPLE.html">error-triple</a>, <span class="v">(<a href="ACL2____MV.html">mv</a>
 erp val state)</span>.  Finally, <span class="v">sys-call+</span> and <span class="v">sys-call*</span> provide a 
 command to the host operating system even during a proof, which could be 
 useful in computed hints and clause processors.  While execution returns 
 values as listed below, further below we explain the logical return values. 
 In the following, please keep in mind that the exact behavior depends on the 
 platform; the description is only a guide.  For example, on some platforms 
 <span class="v">erp</span> might always be <span class="v">nil</span>, even if in the error case, and <span class="v">val</span> 
 might or might not include error output.  (For details, look at the ACL2 
 source code for function <span class="v">system-call+</span>, whose output is converted by 
 replacing an <span class="v">erp</span> of <span class="v">nil</span> by 0.)</p> 
 
 <blockquote> 
 
 <p><span class="v">Erp</span> is either <span class="v">nil</span> or a non-zero integer.  Normally, <span class="v">nil</span> 
 indicates that the command ran without error, and otherwise <span class="v">erp</span> is the 
 exit status.</p> 
 
 <p><span class="v">Val</span> is a string, typically the output generated by the call of 
 <span class="v">cmd</span>.</p> 
 
 <p><span class="v">State</span> is an ACL2 <a href="ACL2____STATE.html">state</a>.</p>
</blockquote> 
 
 <p>While the description above pertains to the values returned by executing 
 <span class="v">sys-call+</span>, the logical values are as follows.  For a discussion of the 
 <span class="v">acl2-oracle</span> field of an ACL2 state, see <span class="tt"><a href="ACL2____READ-ACL2-ORACLE.html">read-ACL2-oracle</a></span> and 
 <a href="ACL2____STATE.html">state</a>.</p> 
 
 <blockquote> 
 
 <p><span class="v">Erp</span> is the first element of the <span class="v">acl2-oracle</span> of the input state if 
 that element is a nonzero integer, and otherwise is <span class="v">nil</span>.</p> 
 
 <p><span class="v">Val</span> is the second element of the <span class="v">acl2-oracle</span> of the input state 
 if it is a string, else the empty string, <span class="v">""</span>.</p> 
 
 <p><span class="v">State</span> is the result of popping the <span class="v">acl2-oracle</span> field twice from 
 the input state.</p>
</blockquote> 
 
 <p>Note that unlike <span class="tt"><a href="ACL2____SYS-CALL.html">sys-call</a></span>, a call of <span class="tt"><a href="ACL2____SYS-CALL_B2.html">sys-call+</a></span> has no 
 effect on subsequent calls of <span class="tt"><a href="ACL2____SYS-CALL-STATUS.html">sys-call-status</a></span>.</p> 
 
 <p>As is the case for <span class="v">sys-call</span>, a trust tag is required to call 
 <span class="v">sys-call+</span>.  For discussion of this and more, see <a href="ACL2____SYS-CALL.html">sys-call</a>.</p>
</body>
</html>
