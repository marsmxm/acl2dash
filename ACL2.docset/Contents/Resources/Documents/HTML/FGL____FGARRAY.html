<html>
<head>
<meta charset="UTF-8">
<title>Fgarray</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=FGL____FGARRAY">Click for Fgarray in the Full Manual</a></h3>

<p>The abstract stobj interface on which FGL's array support is based</p><p> An <span class="v">fgarray</span> is an abstract stobj whose logical form is an 
alist with natural number keys and whose implementation uses an array for fast 
lookups.  The fgarray interface is used in FGL for fast array access during rewriting.</p> 
 
<p>The supported interface functions are the following:</p> 
 
<ul> 
 
<li>
<span class="v">(fgarray-get i fgarray)</span> gets the key/value pair associated with index 
<span class="v">i</span>, or <span class="v">nil</span> if it doesn't exist.  Logically equal to 
<span class="v">(<a href="ACL2____HONS-ASSOC-EQUAL.html">hons-assoc-equal</a> (<a href="ACL2____NFIX.html">nfix</a> i) fgarray)</span>.</li> 
 
<li>
<span class="v">(fgarray-set i val fgarray)</span> sets the key <span class="v">i</span> to value <span class="v">val</span>; 
logically equal to <span class="v">(<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="ACL2____NFIX.html">nfix</a> i) val) fgarray)</span>.</li> 
 
<li>
<span class="v">(fgarray-compress fgarray)</span> rearranges the alist representation so that 
the keys are in order with no duplicates.</li> 
 
<li>
<span class="v">(fgarray-init size fgarray)</span> empties the fgarray and sets its backing 
array to the given size; logically equal to <span class="v">nil</span>.</li> 
 
<li>
<span class="v">(fgarray-&gt;alist fgarray)</span> returns the alist object of the fgarray.</li> 
</ul> 
 
<p>The stobj creator function is <span class="v">(create-fgarray)</span>, but as with all stobjs, 
this can only be invoked indirectly using <a href="ACL2____WITH-LOCAL-STOBJ.html">with-local-stobj</a>.</p> 
 
<p>Implementation note: The implementation of the fgarray builds a real alist 
equal to the logical representation.  This is unnecessary for standalone use 
and is done so that FGL can ensure that the stobj storing the fgarray data is 
correctly in sync with the symbolic object representation.  Thus if all you 
want is a stobj array that is logically represented as an alist, it would be 
better to define a different abstract stobj without this feature.</p>
</body>
</html>
