<html>
<head>
<meta charset="UTF-8">
<title>Function-environments-when-renaming-variables</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=YUL____FUNCTION-ENVIRONMENTS-WHEN-RENAMING-VARIABLES">Click for Function-environments-when-renaming-variables in the Full Manual</a></h3>

<p>Theorems about function environments and variable renaming.</p><p>If two function definitions are related by variable renaming, 
     their corresponding function information is as well.</p><p>If two lists of function definitions are related, 
     so are the corresponding scopes. 
     This is proved via an intermediate theorem saying that 
     adding related function information to related function scopes 
     yields related function scopes.</p><p>Adding related function definitions to related function environments 
     yields related function environments. 
     This concerns <span class="tt"><a href="YUL____ADD-FUNS.html">add-funs</a></span>.</p><p>Retrieving the same function from related function scopes 
     yields related function information.</p><p>Related function scopes have the same keys. 
     This is stated in two slightly different theorems.</p><p>If two function environments are related, so are their <span class="tt"><a href="COMMON-LISP____CDR.html">cdr</a></span>s.</p><p>Finding a function from related function environments 
     yields related information and remaining environments.</p><p>If two lists of function definitions are related, 
     their corresponding scopes are either both errors or none.</p><p>Two related function scopes and two related function environments 
     have the same disjointness status.</p><p>Adding related function definitions to related function environments 
     yields either two errors or no errors.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Theorem: </b>funinfo-renamevarp-of-funinfo-for-fundef</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> funinfo-renamevarp-of-funinfo-for-fundef
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNDEF-RENAMEVAR.html">fundef-renamevar</a> old new)))
                 (<a href="YUL____FUNINFO-RENAMEVARP.html">funinfo-renamevarp</a> (<a href="YUL____FUNINFO-FOR-FUNDEF.html">funinfo-for-fundef</a> old)
                                     (<a href="YUL____FUNINFO-FOR-FUNDEF.html">funinfo-for-fundef</a> new))))</pre> 
<p><b>Theorem: </b>funscope-renamevarp-of-update</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  funscope-renamevarp-of-update
  (<a href="ACL2____IMPLIES.html">implies</a>
       (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNSCOPEP.html">funscopep</a> old-scope)
            (<a href="YUL____FUNSCOPEP.html">funscopep</a> new-scope)
            (<a href="YUL____FUNINFOP.html">funinfop</a> old-info)
            (<a href="YUL____FUNINFOP.html">funinfop</a> new-info)
            (<a href="YUL____IDENTIFIERP.html">identifierp</a> fun)
            (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> old-scope new-scope)
            (<a href="YUL____FUNINFO-RENAMEVARP.html">funinfo-renamevarp</a> old-info new-info))
       (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> (<a href="OMAP____UPDATE.html">omap::update</a> fun old-info old-scope)
                            (<a href="OMAP____UPDATE.html">omap::update</a> fun new-info new-scope))))</pre> 
<p><b>Theorem: </b>funscope-renamevarp-of-funscope-for-fundefs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   funscope-renamevarp-of-funscope-for-fundefs
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNDEF-LIST-RENAMEVAR.html">fundef-list-renamevar</a> old-funs new-funs)))
        (<a href="ACL2____B_A2.html">b*</a> ((old-scope1 (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> old-funs))
             (new-scope1 (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> new-funs)))
            (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> old-scope1))
                          (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> new-scope1)))
                     (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> old-scope1 new-scope1)))))</pre> 
<p><b>Theorem: </b>funenv-renamevarp-of-add-funs</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 funenv-renamevarp-of-add-funs
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-env new-env)
       (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNDEF-LIST-RENAMEVAR.html">fundef-list-renamevar</a> old-funs new-funs))))
  (<a href="ACL2____B_A2.html">b*</a> ((old-env1 (<a href="YUL____ADD-FUNS.html">add-funs</a> old-funs old-env))
       (new-env1 (<a href="YUL____ADD-FUNS.html">add-funs</a> new-funs new-env)))
      (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> old-env1))
                    (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> new-env1)))
               (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-env1 new-env1)))))</pre> 
<p><b>Theorem: </b>funinfo-renamevarp-when-funscope-renamevarp</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   funinfo-renamevarp-when-funscope-renamevarp
   (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNSCOPEP.html">funscopep</a> old-scope)
                 (<a href="YUL____FUNSCOPEP.html">funscopep</a> new-scope)
                 (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> old-scope new-scope))
            (<a href="ACL2____B_A2.html">b*</a> ((old-fun+info (<a href="OMAP____IN.html">omap::in</a> fun old-scope))
                 (new-fun+info (<a href="OMAP____IN.html">omap::in</a> fun new-scope)))
                (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____CONSP.html">consp</a> old-fun+info)
                              (<a href="COMMON-LISP____CONSP.html">consp</a> new-fun+info))
                         (<a href="YUL____FUNINFO-RENAMEVARP.html">funinfo-renamevarp</a> (<a href="COMMON-LISP____CDR.html">cdr</a> old-fun+info)
                                             (<a href="COMMON-LISP____CDR.html">cdr</a> new-fun+info))))))</pre> 
<p><b>Theorem: </b>same-in-when-funscope-renamevarp</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> same-in-when-funscope-renamevarp
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNSCOPEP.html">funscopep</a> old-scope)
                      (<a href="YUL____FUNSCOPEP.html">funscopep</a> new-scope)
                      (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> old-scope new-scope))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="OMAP____IN.html">omap::in</a> fun old-scope))
                        (<a href="COMMON-LISP____CONSP.html">consp</a> (<a href="OMAP____IN.html">omap::in</a> fun new-scope)))))</pre> 
<p><b>Theorem: </b>same-funscope-keys-when-renamevar</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> same-funscope-keys-when-renamevar
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNSCOPEP.html">funscopep</a> old)
                      (<a href="YUL____FUNSCOPEP.html">funscopep</a> new)
                      (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> old new))
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="OMAP____KEYS.html">omap::keys</a> old)
                        (<a href="OMAP____KEYS.html">omap::keys</a> new))))</pre> 
<p><b>Theorem: </b>funenv-renamevarp-of-cdr</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> funenv-renamevarp-of-cdr
        (<a href="ACL2____IMPLIES.html">implies</a> (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-env new-env)
                 (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> (<a href="COMMON-LISP____CDR.html">cdr</a> old-env)
                                    (<a href="COMMON-LISP____CDR.html">cdr</a> new-env))))</pre> 
<p><b>Theorem: </b>funinfo+funenv-renamevarp-of-find-fun</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   funinfo+funenv-renamevarp-of-find-fun
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-env new-env)
        (<a href="ACL2____B_A2.html">b*</a> ((old-info+env (<a href="YUL____FIND-FUN.html">find-fun</a> fun old-env))
             (new-info+env (<a href="YUL____FIND-FUN.html">find-fun</a> fun new-env))
             (old-info (<a href="YUL____FUNINFO_B2FUNENV-_E3INFO.html">funinfo+funenv-&gt;info</a> old-info+env))
             (new-info (<a href="YUL____FUNINFO_B2FUNENV-_E3INFO.html">funinfo+funenv-&gt;info</a> new-info+env))
             (old-env1 (<a href="YUL____FUNINFO_B2FUNENV-_E3ENV.html">funinfo+funenv-&gt;env</a> old-info+env))
             (new-env1 (<a href="YUL____FUNINFO_B2FUNENV-_E3ENV.html">funinfo+funenv-&gt;env</a> new-info+env)))
            (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> old-info+env))
                          (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> new-info+env)))
                     (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNINFO-RENAMEVARP.html">funinfo-renamevarp</a> old-info new-info)
                          (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-env1 new-env1))))))</pre> 
<p><b>Theorem: </b>same-funscope-for-fundefs-error-when-renamevar</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   same-funscope-for-fundefs-error-when-renamevar
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNDEF-LIST-RENAMEVAR.html">fundef-list-renamevar</a> old-funs new-funs)))
        (<a href="ACL2____B_A2.html">b*</a> ((old-scope1 (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> old-funs))
             (new-scope1 (<a href="YUL____FUNSCOPE-FOR-FUNDEFS.html">funscope-for-fundefs</a> new-funs)))
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> old-scope1)
                   (<a href="FTY____RESULTERRP.html">resulterrp</a> new-scope1)))))</pre> 
<p><b>Theorem: </b>same-ensure-funscope-disjoint-when-renamevar</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   same-ensure-funscope-disjoint-when-renamevar
   (<a href="ACL2____IMPLIES.html">implies</a>
        (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNSCOPE-RENAMEVARP.html">funscope-renamevarp</a> old-funscope new-funscope)
             (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-funenv new-funenv))
        (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="YUL____ENSURE-FUNSCOPE-DISJOINT.html">ensure-funscope-disjoint</a> old-funscope old-funenv)
               (<a href="YUL____ENSURE-FUNSCOPE-DISJOINT.html">ensure-funscope-disjoint</a> new-funscope new-funenv))))</pre> 
<p><b>Theorem: </b>same-add-funs-error-when-renamevar</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 same-add-funs-error-when-renamevar
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____FUNENV-RENAMEVARP.html">funenv-renamevarp</a> old-funenv new-funenv)
       (<a href="COMMON-LISP____NOT.html">not</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> (<a href="YUL____FUNDEF-LIST-RENAMEVAR.html">fundef-list-renamevar</a> old-funs new-funs))))
  (<a href="ACL2____B_A2.html">b*</a> ((old-funenv1 (<a href="YUL____ADD-FUNS.html">add-funs</a> old-funs old-funenv))
       (new-funenv1 (<a href="YUL____ADD-FUNS.html">add-funs</a> new-funs new-funenv)))
      (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="FTY____RESULTERRP.html">resulterrp</a> old-funenv1)
             (<a href="FTY____RESULTERRP.html">resulterrp</a> new-funenv1)))))</pre> 

</body>
</html>
