<html>
<head>
<meta charset="UTF-8">
<title>Random$</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____RANDOM_42">Click for Random$ in the Full Manual</a></h3>

<p>Obtain a random value</p><pre class="code">Example:
(<a href="ACL2____RANDOM_42.html">random$</a> 10 state) ==&gt; (<a href="ACL2____MV.html">mv</a> 7 &lt;state&gt;)</pre> 
 
 <p><span class="v">(<a href="ACL2____RANDOM_42.html">Random$</a> limit state)</span>, where <span class="v">limit</span> is a positive integer, returns 
 a random non-negative integer together with a new <span class="tt"><a href="ACL2____STATE.html">state</a></span>.  Logically, 
 it simply returns the first element of a list that is a field of the ACL2 
 <span class="tt"><a href="ACL2____STATE.html">state</a></span>, called the <span class="v">acl2-oracle</span> (see <span class="tt"><a href="ACL2____READ-ACL2-ORACLE.html">read-ACL2-oracle</a></span>), 
 together with the new state resulting from removing that element from that 
 list.  (Except, if that element is not in range as specified above, then 0 is 
 returned.)  However, <span class="v">random$</span> actually invokes a Common Lisp function to 
 choose the integer returned.  Quoting from the Common Lisp HyperSpec(TM), <a href="http://www.lispworks.com/documentation/HyperSpec/Front" target="_blank"><nobr>http://www.lispworks.com/documentation/HyperSpec/Front<img src="../Icon_External_Link.png" title="External link to http://www.lispworks.com/documentation/HyperSpec/Front"></nobr></a>: 
 ``An approximately uniform choice distribution is used...  each of the 
 possible results occurs with (approximate) probability 1/limit.''</p> 
 
 <p>Consider enabling rules <span class="v">natp-random$</span> and <span class="v">random$-linear</span> if you 
 want to reason about <span class="v">random$</span>.</p> 
 
 <p><b>Function: </b>random$</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> random$ (limit state)
       (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____TYPE.html">type</a> (integer 1 *) limit)
                (<a href="ACL2____XARGS.html">xargs</a> :stobjs state))
       (<a href="ACL2____MV-LET.html">mv-let</a> (erp val state)
               (<a href="ACL2____READ-ACL2-ORACLE.html">read-acl2-oracle</a> state)
               (<a href="ACL2____MV.html">mv</a> (<a href="COMMON-LISP____COND.html">cond</a> ((<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NULL.html">null</a> erp)
                               (<a href="ACL2____NATP.html">natp</a> val)
                               (<a href="COMMON-LISP_____C3.html">&lt;</a> val limit))
                          val)
                         (t 0))
                   state)))</pre>
</body>
</html>
