<html>
<head>
<meta charset="UTF-8">
<title>Occform</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=VL2014____OCCFORM">Click for Occform in the Full Manual</a></h3>

<p>Transform assignments into occurrences.</p><p>We now introduce routines to transform post-<a href="VL2014____SPLIT.html">split</a> 
assignments into occurrences of new, primitive modules.</p> 
 
<p>We expect to see assignments of the form:</p> 
 
<pre class="code">assign LVALUE = EXPR ;</pre> 
 
<p>where <span class="v">EXPR</span> consists either of a single operand or of a single operation 
applied to operands.  We expect to not encounter certain operators such as 
<span class="v">==</span> and <span class="v">||</span> which are handled by <a href="VL2014____OPREWRITE.html">oprewrite</a>.</p> 
 
<p>We typically replace each assignment with an instance of a newly-generated 
module.  For instance, if our operation is <span class="v">a + b</span>, where the operation is 
being done in <span class="v">n</span> bits, we introduce a new <span class="v">VL_N_BIT_PLUS</span> module, and 
replace the assignment with an instance of this module.</p> 
 
<p>Each of our <span class="v">-occform</span> functions takes as arguments:</p> 
 
<ul> 
 
<li>
<span class="v">x</span>, an assignment that typically must be of some particular form,</li> 
 
<li>
<span class="v">nf</span>, a <a href="VL2014____VL-NAMEFACTORY-P.html">vl-namefactory-p</a> to use when generating new names, 
and</li> 
 
<li>
<span class="v">warnings</span>, an ordinary <a href="VL2014____WARNINGS.html">warnings</a> accumulator.</li> 
 
</ul> 
 
<p>And returns <span class="v">(<a href="ACL2____MV.html">mv</a> new-warnings new-modules new-modinsts new-nf)</span>, 
where:</p> 
 
<ul> 
 
<li>
<span class="v">new-warnings</span> is the new warnings accumulator which has been extended 
with any warnings,</li> 
 
<li>
<span class="v">new-modules</span> are any newly generated modules that need to be added so 
that we can instantiate them---that is, this list will define modules like 
<span class="v">VL_13_BIT_PLUS</span> that will be used to replace this assignment,</li> 
 
<li>
<span class="v">new-modinsts</span> and <span class="v">new-assigns</span> are any new module instances and 
assignments that, taken together, can replace <span class="v">x</span>, and</li> 
 
<li>
<span class="v">new-nf</span> is the updated <a href="VL2014____VL-NAMEFACTORY-P.html">vl-namefactory-p</a> that is used to generate 
module instance names.</li> 
 
</ul> 
 
<p>Typically <span class="v">new-assigns</span> will be empty on success, and will just be 
<span class="v">(<a href="COMMON-LISP____LIST.html">list</a> x)</span> on failure.</p>
</body>
</html>
