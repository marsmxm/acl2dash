<html>
<head>
<meta charset="UTF-8">
<title>*grammar*</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA_____A2GRAMMAR_A2">Click for *grammar* in the Full Manual</a></h3>

<p>The Java grammar, in ABNF.</p><p>We put together lexical and syntactic grammar. 
     The resulting grammar is <a href="ABNF____WELL-FORMEDNESS.html">well-formed</a> and <a href="ABNF____CLOSURE.html">closed</a>, and it only produces terminal strings of Java Unicode characters. 
     Proving the latter property by execution would be slow 
     due to the relatively large range of Java Unicode characters; 
     thus, we disable the executable counterpart of <span class="tt"><a href="ACL2____INTEGERS-FROM-TO.html">integers-from-to</a></span> 
     and use library theorems that relate <span class="tt"><a href="ACL2____INTEGERS-FROM-TO.html">integers-from-to</a></span> 
     to <span class="tt"><a href="SET____IN.html">in</a></span> and <span class="tt"><a href="SET____LIST-IN.html">list-in</a></span>.</p><p>The goal symbol of the Java syntactic grammar is 
     <span class="v">CompilationUnit</span> [JLS:2.3] [JLS:7.3]. 
     One might expect that the set of all strings derived from this goal symbol 
     are a superset of all the syntactically valid Java programs 
     (a superset, because the grammar does not capture all the requirements). 
     However, that is not quite the case, for the following reasons:</p><ul>
<li>The syntactic grammar uses tokens as terminals [JLS:2.3]. 
      No white space and no comments can be derived from <span class="v">CompilationUnit</span>. 
      The lexical and syntactic grammars must be considered ``separately'' 
      in order to define 
      (a superset of) the syntactically valid Java programs.</li>
<li>Considering the lexical grammar as a whole would imply that 
      terminal symbols like the three forming the keyword <span class="v">for</span> 
      have to be exactly those ASCII characters. 
      However, [JLS:3.2] distinguishes three lexical translation steps, 
      where the first one turns Unicode escapes into Unicode characters, 
      which in particular turns Unicode escapes for ASCII characters 
      into the corresponding ASCII characters. 
      The OpenJDK 12 Java compiler indeed accepts <span class="v">u0066u006fu0072</span> 
      as the keyword <span class="v">for</span>. 
      Thus, the part of the lexical grammar 
      that corresponds to this first lexical translation step 
      must be considered separately from the rest.</li>
</ul><p>We use <span class="tt"><a href="ACL2____ADD-CONST-TO-UNTRANSLATE-PREPROCESS.html">add-const-to-untranslate-preprocess</a></span> 
     to keep this constant unexpanded in output.</p><p><b>Definition: </b>*grammar*</p><pre class="code">(<a href="ACL2____DEFCONST.html">defconst</a> *grammar*
          (<a href="COMMON-LISP____APPEND.html">append</a> *lexical-grammar* *syntactic-grammar*))</pre> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>untranslate-preprocess-*grammar*</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> untranslate-preprocess-*grammar*
       (<a href="ACL2____TERM.html">acl2::term</a> acl2::wrld)
       (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> acl2::term (<a href="COMMON-LISP____LIST.html">list</a> 'quote *grammar*))
           '*grammar*
           (abnf::untranslate-preprocess-*all-concrete-syntax-rules*
                acl2::term acl2::wrld)))</pre> 
<p><b>Theorem: </b>rulelist-wfp-of-*grammar*</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> rulelist-wfp-of-*grammar*
        (<a href="ABNF____RULELIST-WFP.html">abnf::rulelist-wfp</a> *grammar*))</pre> 
<p><b>Theorem: </b>rulelist-closedp-of-*grammar*</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> rulelist-closedp-of-*grammar*
        (<a href="ABNF____RULELIST-CLOSEDP.html">abnf::rulelist-closedp</a> *grammar*))</pre> 
<p><b>Theorem: </b>unicode-only-*grammar*</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 unicode-only-*grammar*
 (<a href="ABNF____RULELIST-IN-TERMSET-P.html">abnf::rulelist-in-termset-p</a> *grammar* (<a href="ACL2____INTEGERS-FROM-TO.html">integers-from-to</a> 0 65535)))</pre> 

</body>
</html>
