<html>
<head>
<meta charset="UTF-8">
<title>Scion</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SCION">Click for Scion in the Full Manual</a></h3>

<p>A function ancestrally dependent on <span class="v">apply$</span></p><p>The function <span class="v">fn</span> is a <i>scion of</i> <span class="v">apply$</span> or simply a 
  <i>scion</i> if the function is ancestrally dependent on <span class="v">apply$</span>.  That 
  is, <span class="v">fn</span> is <span class="v">apply$</span>, or <span class="v">fn</span> calls <span class="v">apply$</span>, or calls a function 
  that calls <span class="v">apply$</span>, or calls a function that calls a function that calls 
  <span class="v">apply$</span>, etc.</p> 
 
  <p>Meriam-Webster defines <i>scion</i> as ``a descendant of a wealthy, 
  aristocratic, or influential family.''</p> 
 
  <p>Examples of scions include <span class="v">apply$</span>, <span class="v">collect$</span> and <span class="v">foldr</span>, where 
  the last two are defined as shown below.</p> 
 
  <pre class="code">(<a href="ACL2____DEFUN_42.html">defun$</a> collect$ (fn lst)
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____ENDP.html">endp</a> lst)
      nil
      (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="ACL2____APPLY_42.html">apply$</a> fn (<a href="COMMON-LISP____LIST.html">list</a> (<a href="COMMON-LISP____CAR.html">car</a> lst)))
            (<a href="ACL2____COLLECT_42.html">collect$</a> fn (<a href="COMMON-LISP____CDR.html">cdr</a> lst)))))

(<a href="ACL2____DEFUN_42.html">defun$</a> foldr (lst fn init)
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____ENDP.html">endp</a> lst)
      init
      (<a href="ACL2____APPLY_42.html">apply$</a> fn
              (<a href="COMMON-LISP____LIST.html">list</a> (<a href="COMMON-LISP____CAR.html">car</a> lst)
                    (foldr (<a href="COMMON-LISP____CDR.html">cdr</a> lst) fn init)))))</pre> 
 
  <p>Note: <span class="v">Collect$</span>, which is part of the support for the <span class="tt"><a href="ACL2____LOOP_42.html">loop$</a></span> 
  statement, is pre-defined in ACL2 but <span class="v">foldr</span> is not.</p> 
 
  <p>Most often, scions treat one or more of their arguments as ``functions,'' 
  i.e., have at least one formal of ilk <span class="v">:FN</span>.  But that is not necessarily 
  the case.  <span class="v">Collect$-squares</span>, as defined below,</p> 
 
  <pre class="code">(<a href="ACL2____DEFUN_42.html">defun$</a> collect$-squares (lst)
  (<a href="ACL2____COLLECT_42.html">collect$</a> (<a href="ACL2____LAMBDA_42.html">lambda$</a> (x) (<a href="COMMON-LISP_____A2.html">*</a> x x)) lst))</pre> 
 
  <p>is a scion even though it does not have a formal of ilk <span class="v">:FN</span>. 
  However, it calls the scion <span class="v">collect$</span>.</p> 
 
  <p>The function defined by</p> 
 
  <pre class="code">(<a href="ACL2____DEFUN_42.html">defun$</a> collect$-expr (x lst alist)
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____ENDP.html">endp</a> lst)
      nil
      (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="ACL2____EV_42.html">ev$</a> x (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'v (<a href="COMMON-LISP____CAR.html">car</a> lst)) alist))
            (collect$-expr x (<a href="COMMON-LISP____CDR.html">cdr</a> lst) alist))))</pre> 
 
  <p>is a scion because it calls <span class="v">ev$</span> which calls <span class="v">apply$</span> in the 
  mutually recursive clique that defines them both.  Note that the ilks of the 
  formals of <span class="v">collect$-expr</span> are <span class="v">:EXPR</span>, <span class="v">NIL</span> and <span class="v">NIL</span>, 
  respectively.  The function collects the successive values of the expression 
  <span class="v">x</span> under extensions of <span class="v">alist</span> binding the variable symbol <span class="v">v</span> to 
  successive elements of <span class="v">lst</span>.</p> 
 
  <p>In the early days of <span class="v">apply$</span> we used the term ``mapping function'' to 
  refer to scions.  But that nomenclature was misleading because in the Lisp 
  culture ``mapping'' tends to be understood as a kind of linear iteration.</p> 
 
  <p>Fans of higher order logic have suggested we use the term ``functional'' 
  for our scions, or at least for those scions having at least one formal of 
  ilk <span class="v">:FN</span>.  However, we have resisted that suggestion because a functional 
  takes a function as an argument and is thus a higher-order entity, but ACL2 
  is first-order, functions are never objects in ACL2, and the values of our 
  <span class="v">:FN</span> formals are ordinary objects like symbols and lists that are 
  interpreted as functions.</p>
</body>
</html>
