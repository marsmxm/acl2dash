<html>
<head>
<meta charset="UTF-8">
<title>In-main-thread</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=BRIDGE____IN-MAIN-THREAD">Click for In-main-thread in the Full Manual</a></h3>

<p>Special mechanism for making sure forms execute in the main thread.</p><p>This is a special form that is only meant to be used by ACL2 Bridge 
clients when they issue commands.  A syntax example is:</p> 
 
<pre class="code">(<a href="BRIDGE____IN-MAIN-THREAD.html">bridge::in-main-thread</a> (<a href="ACL2____MEMOIZE.html">memoize</a> 'fib) (fib 37))</pre> 
 
<p>This is really just a hack that lets you use commands that, for one reason 
or another, must only ever be executed in the "main" thread (in CCL parlance, 
the "initial listener" thread).  Practical applications include:</p> 
 
<ul> 
 
<li>Running memoized functions (the memoization code isn't thread-safe, and 
attempts to use a memoized function in multiple thread can result in hard 
errors), and</li> 
 
<li>Doing computations that involve a lot of <a href="ACL2____HONS.html">hons</a>ing (otherwise, each 
thread has its own hons space, and you may not get the sharing you are 
expecting).</li> 
 
</ul> 
 
<p>If the main thread is busy with work from other clients, this form will wait 
until it becomes available again.  See also <a href="BRIDGE____TRY-IN-MAIN-THREAD.html">try-in-main-thread</a>, which 
instead just causes an error if the main thread is busy.</p> 
 

</body>
</html>
