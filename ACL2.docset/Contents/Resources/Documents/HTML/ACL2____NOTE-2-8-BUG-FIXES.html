<html>
<head>
<meta charset="UTF-8">
<title>Note-2-8-bug-fixes</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-2-8-BUG-FIXES">Click for Note-2-8-bug-fixes in the Full Manual</a></h3>

<p>ACL2 Version  2.8 Notes on Bug Fixes</p><p>We have fixed a soundness bug in the tautology checker's handling 
 of expressions of the form <span class="v">(<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____NOT.html">not</a> x))</span>.  This bug has gone back at 
 least as far as Version_2.4.  All of the regression tests passed after the 
 fix, without modification.  So we hope that this bug has rarely bitten anyone. 
 Thanks to Qiang Zhang for sending us a proof of <span class="v">nil</span> that led us to this 
 fix: <span class="v">(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____AND.html">and</a> p q) (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____OR.html">or</a> (<a href="COMMON-LISP____NOT.html">not</a> p) (<a href="COMMON-LISP____NOT.html">not</a> q)))))</span>.  And thanks to 
 Matyas Sustik for an observation that led to an improvement of our initial 
 fix.</p> 
 
 <p>The preceding version (2.7) introduced a soundness bug in handling of ACL2 
 <a href="ACL2____ARRAYS.html">arrays</a>, in which functions <span class="tt"><a href="ACL2____COMPRESS1.html">compress1</a></span> and <span class="tt"><a href="ACL2____COMPRESS2.html">compress2</a></span> were 
 returning the input alist rather than compressing it appropriately.  Here is a 
 proof of <span class="v">nil</span> that no longer succeeds, based on a bug report from Warren 
 Hunt, who we thank for bringing this problem to our attention.</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> bad
  (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____LET_A2.html">let*</a> ((ar2 (<a href="ACL2____ASET1.html">aset1</a> 'my-array ar1 3 10))
              (ar3 (<a href="ACL2____COMPRESS1.html">compress1</a> 'my-array ar2))
              (ar4 (<a href="COMMON-LISP____REVERSE.html">reverse</a> (<a href="COMMON-LISP____REVERSE.html">reverse</a> ar2)))
              (ar5 (<a href="ACL2____COMPRESS1.html">compress1</a> 'my-array ar4)))
         (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> ar2 ar4)
              (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> ar3 ar5)))))
  :rule-classes nil)
(<a href="ACL2____DEFTHM.html">defthm</a> contradiction
  nil
  :rule-classes nil
  :hints (("Goal" :use
           ((:instance bad
                       (ar1 (<a href="ACL2____COMPRESS1.html">compress1</a> 'my-array
                                       '((3 . 5)
                                         (:HEADER :DIMENSIONS (5)
                                                  :MAXIMUM-LENGTH 6
                                                  :DEFAULT 0
                                                  :NAME MY-ARRAY)))))))))</pre> 
 
 <p>On a related note, a new function <span class="tt"><a href="ACL2____FLUSH-COMPRESS.html">flush-compress</a></span> can be used for 
 subtle control of under-the-hood raw Lisp support for fast array access, 
 although we expect it to be very rare that users need this extra support.</p> 
 
 <p>Previous versions have had two soundness bugs that can occur when using the 
 <a href="ACL2____PROOF-BUILDER.html">proof-builder</a>:</p> 
 
 <ul> 
 
 <li>The first bug pertains to the <span class="v">expand</span> command, and hence 
 <span class="v">x</span> and <span class="v">x-dumb</span> commands (which call <span class="v">expand</span>); see <a href="ACL2____PROOF-BUILDER-COMMANDS.html">proof-builder-commands</a>.  The bug can occur when applying the above commands 
 when the current term is a call of a constrained function symbol for which 
 there is a <span class="v">:</span><span class="tt"><a href="ACL2____DEFINITION.html">definition</a></span> rule.  Now, the <span class="v">expand</span> command will 
 succeed only when the function symbol of the current term is a defined 
 function symbol, in which case the original definition is always used, in 
 analogy to how the <span class="v">:expand</span> hint works in the prover; see <a href="ACL2____HINTS.html">hints</a>. 
 Thanks to John Erickson for sending an example that led us to wonder if there 
 might be a soundness problem.</li> 
 
 <li>The second bug pertains to the <span class="v">s</span> command (and commands that call it, 
 e.g., <span class="v">s-prop</span>).  The proof-builder forms a context out of the top-level 
 hypotheses and the <span class="v">if</span>-terms governing the current term.  If there is a 
 contradiction in the top-level hypotheses, the proof-builder can appropriately 
 consider the goal to be proved, and it does so.  But formerly, the criterion 
 was weaker: the contradiction could involve the combination of the top-level 
 hypotheses and <span class="v">if</span>-term governors.  Thanks to Rob Sumners for noticing 
 this bug.</li> 
 
 </ul> 
 
 <p>A soundness bug could be provoked in some Lisps by applying <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span> 
 to the empty string.  This has been disallowed.</p> 
 
 <p>We fixed a soundness bug related to packages caused by a failure to track 
 axioms introduced <span class="tt"><a href="ACL2____LOCAL.html">local</a></span>ly on behalf of <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span> events.  See 
 <a href="ACL2____HIDDEN-DEATH-PACKAGE.html">hidden-death-package</a>.</p> 
 
 <p>We fixed a soundness bug caused by a failure to check that a <span class="v">:</span><span class="tt"><a href="ACL2____TYPE-PRESCRIPTION.html">type-prescription</a></span> rule can be processed when proofs are skipped or under a 
 <span class="tt"><a href="ACL2____DEFEQUIV.html">defequiv</a></span> event.  The former case can occur when processing an <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> or <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> event, where the rule could depend on a 
 <span class="tt"><a href="ACL2____LOCAL.html">local</a></span> <span class="v">:</span><span class="tt"><a href="ACL2____COMPOUND-RECOGNIZER.html">compound-recognizer</a></span> rule preceding the proposed 
 <span class="v">:</span><span class="tt"><a href="ACL2____TYPE-PRESCRIPTION.html">type-prescription</a></span> rule under the same <span class="tt"><a href="ACL2____ENCAPSULATE.html">encapsulate</a></span> or 
 <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> event.  See <a href="ACL2____LOCAL-INCOMPATIBILITY.html">local-incompatibility</a> for such an 
 example.</p> 
 
 <p>We fixed a potential soundness bug relating to reclassifying a 
 <span class="v">:program</span> mode function to <span class="v">:logic</span> mode (as done by <span class="tt"><a href="ACL2____VERIFY-TERMINATION.html">verify-termination</a></span> or the submission of an appropriate ``redundant'' 
 definition) without adequate checking that <span class="tt"><a href="ACL2____STOBJ.html">stobj</a></span> usage was identical. 
 Allegedly redundant definitions must now preserve the <span class="v">stobjs</span> declaration 
 as well as the formals, body, guard and type declarations.  We thank Vernon 
 Austel for pointing out this problem.</p> 
 
 <p>It was possible to get a raw Lisp error by introducing a <span class="tt"><a href="ACL2____LOCAL.html">local</a></span>ly 
 defined function with <a href="ACL2____GUARD.html">guard</a> verification inhibited and then 
 subsequently introducing the same definition non-locally without that 
 inhibition.  The following example will clarify.</p> 
 
 <pre class="code">(<a href="ACL2____ENCAPSULATE.html">encapsulate</a> nil
  (<a href="ACL2____LOCAL.html">local</a>
    (<a href="COMMON-LISP____DEFUN.html">defun</a> foo (x) (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t :verify-guards nil)) (<a href="COMMON-LISP____CAR.html">car</a> x)))
  (<a href="COMMON-LISP____DEFUN.html">defun</a> foo (x) (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard t)) (<a href="COMMON-LISP____CAR.html">car</a> x)))
; The following causes a raw lisp error because ACL2 runs the Common Lisp
; definition of foo, because it thinks that foo's guard of t was verified.
(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (foo 3) xxx))</pre> 
 
 <p>Thanks to Jared Davis for bringing this problem to our attention.  We are 
 particularly grateful to Jared because his example exploited this bug by 
 applying it to a function defined using <span class="tt"><a href="ACL2____MBE.html">mbe</a></span> (introduced in this same 
 version, 2.8), in order to prove <span class="v">nil</span>!</p> 
 
 <p>The sort of error message shown below can legitimately occur when 
 certifying a book in a certification world where there was an <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> command with a relative pathname (see <a href="COMMON-LISP____PATHNAME.html">pathname</a>). 
 However, it was occurring more often than necessary.  This has been fixed.</p> 
 
 <blockquote><p>ACL2 Error in (CERTIFY-BOOK "foo" ...): The certification 
 world has include-book commands for book "bar" that correspond to different 
 full pathnames, namely "/u/dir1/bar" and "/u/dir2/bar".  ACL2 cannot 
 currently certify a book in such a world.  To work around this problem, use an 
 absolute pathname for at least one of these books (see :DOC 
 pathname).</p></blockquote> 
 
 <p>Bugs were fixed in <span class="tt"><a href="ACL2____WITH-OUTPUT.html">with-output</a></span>, in particular related to the use of 
 values <span class="v">:all</span>.  Also, documentation for <span class="v">with-output</span> has been improved. 
 Thanks to Vernon Austel for pointing out the bugs.</p> 
 
 <p>Fixed a lisp error occurring when <span class="v">bash</span> proof-builder command was given 
 illegal syntax, e.g., <span class="v">(<a href="ACL2____BASH.html">bash</a> (("Goal" :in-theory (<a href="ACL2____ENABLE.html">enable</a>
 binary-append))))</span> instead of <span class="v">(<a href="ACL2____BASH.html">bash</a> ("Goal" :in-theory (<a href="ACL2____ENABLE.html">enable</a>
 binary-append)))</span>.</p> 
 
 <p>We added an appropriate guard to <span class="tt"><a href="ACL2____FIND-RULES-OF-RUNE.html">find-rules-of-rune</a></span>, which will 
 avoid hard lisp errors when this function is called on non-<a href="ACL2____RUNE.html">rune</a> 
 arguments.  Thanks to Eric Smith for pointing out this issue.</p> 
 
 <p>It was possible for a redundant <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> form (see <a href="ACL2____REDUNDANT-EVENTS.html">redundant-events</a>) to leave a <a href="ACL2____COMMAND.html">command</a> in the ACL2 logical <a href="ACL2____WORLD.html">world</a> 
 and to cause (re-)loading of a compiled file.  These behaviors have been 
 fixed.  In particular, if <span class="v">book1</span> has already been included in the current 
 ACL2 <a href="ACL2____WORLD.html">world</a> and <span class="v">(<a href="ACL2____INCLUDE-BOOK.html">include-book</a> "book1")</span> occurs in <span class="v">book2</span>, then 
 the compiled file for <span class="v">book1</span> will not be loaded again when <span class="v">book2</span> is 
 included.  Thanks to Dave Greve for bringing our attention to these problems, 
 and to Eric Smith for bringing up a special case earlier (where "//" 
 occurred in the book name).</p> 
 
 <p>The summary printed at the end of a proof had not listed <span class="v">:</span><span class="tt"><a href="ACL2____INDUCTION.html">induction</a></span> rules used in a proof.  This has been corrected.</p> 
 
 <p>The use of proof trees in emacs redefined `<span class="v">control-c control-c</span>' in 
 such a way that in telnet mode, the telnet session was interrupted and perhaps 
 could not be continued.  This has been fixed.</p> 
 
 <p>Source function <span class="v">load-theory-into-enabled-structure</span> contained a 
 guard-violating call of <span class="tt"><a href="ACL2____COMPRESS1.html">compress1</a></span>.  Thanks to Vernon Austel for 
 bringing this problem to our attention; even though this bug was benign (as he 
 pointed out), we like keeping the source code free of guard violations.</p> 
 
 <p>A number of proof-builder atomic macros caused a hard error when all goals 
 have already been proved.  This has been fixed.  Thanks to John Erickson for 
 sending an example of the issue.</p> 
 
 <p>A bug has been fixed in <span class="tt"><a href="ACL2____ADD-MATCH-FREE-OVERRIDE.html">add-match-free-override</a></span>.  Formerly, a 
 <span class="tt"><a href="ACL2____TABLE.html">table</a></span> <a href="ACL2____GUARD.html">guard</a> violation occurred when calling <span class="tt"><a href="ACL2____ADD-MATCH-FREE-OVERRIDE.html">add-match-free-override</a></span> more than once with first argument other than 
 <span class="v">:clear</span>.</p> 
 
 <p>Definitions of functions involving large constants could cause stack 
 overflows.  This has been fixed, at least in some of the most egregious cases 
 (by making a source function <span class="v">fn-count-evg</span> tail-recursive).  Thanks to 
 Jared Davis for bringing this problem to our attention.</p> 
 
 <p>Evaluation of computed hints could cause stack overflows.  This has been 
 fixed.  Thanks to Eric Smith for bringing this problem to our attention.</p> 
 
 <p>Evaluation of <span class="v">:</span><span class="tt"><a href="ACL2____MONITOR.html">monitor</a></span> on <span class="v">:</span><span class="tt"><a href="ACL2____DEFINITION.html">definition</a></span> <a href="ACL2____RUNE.html">rune</a>s is now fast even if the specified function is part of a very large 
 <span class="tt"><a href="ACL2____MUTUAL-RECURSION.html">mutual-recursion</a></span> nest.  Thanks to Eric Smith for sending an example 
 showing that this wasn't always the case.</p> 
 
 <p>Fixed a bug in <span class="v">books/bdd/cbf.lisp</span> that was causing certification of 
 distributed bdd books to fail when the connected book directory (see <a href="ACL2____CBD.html">cbd</a>) differs from the current working directory.  Thanks to Scott Guthery for 
 bringing this bug to our attention and supplying a helpful log.</p> 
 
 <p>Duplicate rule names have been eliminated from warnings generated upon the 
 use of enabled <span class="v">:</span><span class="tt"><a href="ACL2____REWRITE.html">rewrite</a></span> or <span class="v">:</span><span class="tt"><a href="ACL2____DEFINITION.html">definition</a></span> rules. 
 Thanks to Eric Smith for pointing out this problem.</p> 
 
 <p>The trace utilities (see <a href="COMMON-LISP____TRACE.html">trace</a>), as modified for GCL and Allegro 
 Common Lisp, had failed to show more than the first return value for so-called 
 ``<span class="v">*1*</span>'' functions (essentially, <a href="ACL2____EXECUTABLE-COUNTERPART.html">executable-counterpart</a> functions) 
 when they were returning multiple values (via <a href="ACL2____MV.html">mv</a>).  This has been 
 fixed.  Thanks to Erik Reeber for pointing out this problem.  Also, it is now 
 possible to refer to <span class="v">arglist</span> in <a href="ACL2____TRACE_42.html">trace$</a> forms when ACL2 is built on 
 GCL, not just when ACL2 is built on Allegro Common Lisp.</p> 
 
 <p>Uses of <span class="tt"><a href="ACL2____HIDE.html">hide</a></span> introduced during proofs by failed attempts to 
 evaluate constrained functions (see <a href="ACL2____HIDE.html">hide</a>) are now tracked, so that the 
 <a href="ACL2____RUNE.html">rune</a> <span class="v">(:DEFINITION HIDE)</span> will show up in the summary.</p> 
 
 <p>The following bug, introduced back in Version 2.7, has been fixed.  The bug 
 applied only to GCL and may well not have affected anyone.  But the function 
 proclamation computed by ACL2 for compilation usually had an output type of 
 <span class="v">nil</span> where it should have been <span class="v">t</span>.</p> 
 
 <p>The macro <span class="tt"><a href="ACL2____GC_42.html">gc$</a></span> had a bug exhibited when it was supplied one or more 
 arguments.  This has been fixed.</p> 
 
 <p>The macro <span class="tt"><a href="ACL2____DEFABBREV.html">defabbrev</a></span> broke when supplied a string and no 
 documentation, e.g., <span class="v">(<a href="ACL2____DEFABBREV.html">defabbrev</a> foo () "")</span>.  Thanks to Rob Sumners for 
 noticing this problem and providing a fix, which we have incorporated.</p> 
 
 <p>For ACL2 executables built on Allegro Common Lisp, a Lisp error occurred 
 when <span class="tt"><a href="ACL2____TRACE_42.html">trace$</a></span> was called on other than a defined function symbol.  Now 
 ACL2 prints a more useful error message.</p> 
 
 <p>The proof-builder no longer accepts a <span class="v">(</span><span class="tt"><a href="ACL2____VERIFY.html">verify</a></span><span class="v">)</span> command 
 when some function symbol in the original goal no longer exists in the current 
 ACL2 logical <a href="ACL2____WORLD.html">world</a>.  Thanks to John Erickson for bringing this issue to 
 our attention.</p> 
 
 <p>The function <span class="v">ld-redefinition-action</span> may now be called by the user. 
 Thanks to Vernon Austel for suggesting that we remove this symbol from the 
 list of so-called untouchables.</p> 
 
 <p>The handling of free variables in hypotheses (see <a href="ACL2____FREE-VARIABLES.html">free-variables</a>) of 
 rewrite and linear rules had a bug that prevented some proofs from going 
 through.  Here is a simple example, essentially provided by Diana Moisuc, who 
 we thank for bringing this issue to our attention.  The proof of the <span class="tt"><a href="ACL2____THM.html">thm</a></span> below had failed, but now will succeed.  This particular bug prevented, 
 for example, the <span class="v">:all</span> behavior from occurring when the first hypothesis 
 of the rule does not have free variables.  NOTE: Now that this bug has been 
 fixed, you may find some proofs running much more slowly than before.  You can 
 use <span class="tt"><a href="ACL2____ACCUMULATED-PERSISTENCE.html">accumulated-persistence</a></span> to locate rules that are slowing down your 
 proofs because of excessive attention to free variables, and then execute 
 <span class="tt"><a href="ACL2____ADD-MATCH-FREE-OVERRIDE.html">add-match-free-override</a></span> for those rules (or, just change the rules 
 themselves to specify <span class="v">:once</span> in the <span class="v">:</span><span class="tt"><a href="ACL2____RULE-CLASSES.html">rule-classes</a></span>).</p> 
 
 <pre class="code">(<a href="ACL2____DEFSTUB.html">defstub</a> foo1 (<a href="COMMON-LISP_____A2.html">*</a> ) =&gt; *)
(<a href="ACL2____SKIP-PROOFS.html">skip-proofs</a>
 (<a href="ACL2____DEFTHM.html">defthm</a> aux-foo1
   (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____INTEGERP.html">integerp</a> a)
                 (<a href="COMMON-LISP____INTEGERP.html">integerp</a> i)
                 (<a href="COMMON-LISP____EQUAL.html">equal</a> (foo1 0)  (<a href="COMMON-LISP____LIST.html">list</a> 0 i)))
            (<a href="COMMON-LISP____EQUAL.html">equal</a> (foo1 a) (<a href="COMMON-LISP____LIST.html">list</a> 0 (<a href="COMMON-LISP_____B2.html">+</a> a i))))
   :rule-classes ((:rewrite :match-free :all))))
(<a href="ACL2____THM.html">thm</a>
 (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____INTEGERP.html">integerp</a> i)
               (<a href="COMMON-LISP____INTEGERP.html">integerp</a> a)
               (<a href="COMMON-LISP____EQUAL.html">equal</a> (foo1 0) (<a href="COMMON-LISP____LIST.html">list</a> 0 i)))
          (<a href="COMMON-LISP____EQUAL.html">equal</a> (foo1 a) (<a href="COMMON-LISP____LIST.html">list</a> 0 (<a href="COMMON-LISP_____B2.html">+</a> a i)))))</pre> 
 
 <p>Formerly, creation of large arrays could cause an error in the underlying 
 Common Lisp implementation without helpful messages for the user.  Now, we 
 check Common Lisp restrictions on arrays and print a helpful error message if 
 they are violated, namely: each dimension must be less than the value of 
 Common Lisp constant <span class="v">array-dimension-limit</span>, and the product of the 
 dimensions must be less than the value of Common Lisp constant 
 <span class="v">array-total-size-limit</span>.  Thanks to Warren Hunt for bringing this issue to 
 our attention.  Note: this change also removes a former restriction of <span class="tt"><a href="ACL2____STOBJ.html">stobj</a></span> array fields to size smaller than 2^28-1, provided the underlying Lisp 
 can support larger arrays.</p> 
 
 <p>The <a href="ACL2____DEFAULT-HINTS.html">default-hints</a> in the current logical <a href="ACL2____WORLD.html">world</a> were ignored 
 by <span class="tt"><a href="ACL2____VERIFY-GUARDS.html">verify-guards</a></span>.  This has been fixed.  Thanks to Jared Davis for 
 pointing out this bug and sending a helpful example.</p> 
 
 <p>The <span class="tt"><a href="ACL2____BRR.html">brr</a></span> mechanism has been cleaned up in order to avoid hard errors 
 and infinite loops that can arrive when typing interrupts (<span class="v">control-c</span>) or 
 end-of-files (<span class="v">control-d</span>) inside the <span class="tt"><a href="ACL2____BRR.html">brr</a></span> loop.  Thanks to Dave 
 Greve, Olga Matlin, Eric Smith, and Serita Van Groningen for bringing this 
 issue to our attention.  As a byproduct, if you type <span class="v">control-d</span> (or if 
 inside emacs, <span class="v">control-c control-d</span>), you may now quit entirely out of ACL2 
 and lisp (see <a href="ACL2____GOOD-BYE.html">good-bye</a>) in some cases where you formerly would not 
 have, for example when sitting at the ACL2 prompt (which formerly, in Allegro 
 Common Lisp for example, would merely take you into raw Lisp rather than 
 quitting everything).</p> 
 
 <p>We have eliminated structural flaws in the HTML documentation pages that 
 could make them unreadable in some browsers.  Thanks to Bill Young for 
 bringing this issue to our attention and to Joe Hendrix for diagnosing the 
 problem.</p> 
 
 <p>The <a href="ACL2____PROOF-BUILDER.html">proof-builder</a> could run very slowly after many instructions in a 
 given session.  This has been fixed; thanks to Art Flatau for bringing this 
 problem to our attention.  (Implementation detail: We now keep tag-trees 
 duplicate-free when we accumulate them into state.  This change could have 
 minor speed advantages for some top-level proofs too, not just in the 
 proof-builder.)</p> 
 
 <p>The printing of accesses to stobjs using nth or update-nth has been done 
 using symbolic constants since ACL2 Version_2.6.  However, there was a bug 
 that prevented this feature from working for <span class="tt"><a href="ACL2____UPDATE-NTH.html">update-nth</a></span> except at a 
 top-level call.  This has been fixed.  Thanks to Julien Schmaltz for bringing 
 this problem to our attention.  For example, consider these events:</p> 
 
 <pre class="code">(<a href="ACL2____DEFSTOBJ.html">defstobj</a> st field0 field1)
(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____NTH.html">nth</a> 1 (<a href="ACL2____UPDATE-NTH.html">update-nth</a> 0 17 st)) (<a href="COMMON-LISP____CAR.html">car</a> (<a href="COMMON-LISP____CONS.html">cons</a> xxx yyy)))
     :hints (("Goal" :in-theory (<a href="ACL2____DISABLE.html">disable</a> nth update-nth))))</pre> 
 
 <p>Before the fix, the proof attempt of the above silly thm printed the 
 following.</p> 
 
 <pre class="code">(<a href="COMMON-LISP____NTH.html">NTH</a> 1 (<a href="ACL2____UPDATE-NTH.html">UPDATE-NTH</a> *FIELD0* 17 ST))</pre> 
 
 <p>After the fix, we instead see the following.</p> 
 
 <pre class="code">(<a href="COMMON-LISP____NTH.html">NTH</a> *FIELD1* (<a href="ACL2____UPDATE-NTH.html">UPDATE-NTH</a> *FIELD0* 17 ST))</pre> 
 
 <p>It is now possible to certify and subsequently include <a href="ACL2____BOOKS.html">books</a> that 
 require guard-checking to be off.  For example, the book can contain the form 
 <span class="v">(<a href="ACL2____DEFCONST.html">defconst</a> *silly* (<a href="COMMON-LISP____CAR.html">car</a> 3))</span> even though <span class="v">3</span> fails to satisfy the guard 
 of <span class="tt"><a href="COMMON-LISP____CAR.html">car</a></span>.  Formerly, it was necessary to execute <span class="v">:</span><span class="tt"><a href="ACL2____SET-GUARD-CHECKING.html">set-guard-checking</a></span><span class="v"> nil</span> before a <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> or <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> in order for such a form to be handled without error.  Thanks to 
 Hanbing Liu for bringing this problem to our attention.</p> 
 
 <p>Fixed a <a href="ACL2____PROOF-BUILDER.html">proof-builder</a> bug that could cause probably cause strange 
 error, ``Attempt to access the plist field''.  Thanks to Bill Young for 
 bringing this problem to our attention.</p> 
 
 <p>Fixed a <a href="ACL2____PROOF-BUILDER.html">proof-builder</a> bug that was failing to record applications of 
 rewrite rules using the proof-builder's <span class="v">:rewrite</span> command, causing the 
 proof summary to omit mention of that rule (for example, when using the 
 proof-builder's <span class="v">:exit</span> command to generate an <span class="v">:instructions</span> hint). 
 Thanks to Bill Young for pointing out this bug.</p> 
 
 <p>Modernized some of the proof-tree emacs and infix printing stuff, thanks to 
 suggestions made by Camm Maguire.</p>
</body>
</html>
