<html>
<head>
<meta charset="UTF-8">
<title>Certificate</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____CERTIFICATE">Click for Certificate in the Full Manual</a></h3>

<p>A file specifying validity of a given book</p><p>A book, say <span class="v">"arith"</span>, is said to have a ``certificate'' if 
 there is a file named <span class="v">"arith.cert"</span>.  Certificates are created by the 
 function <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> and inspected by <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span>.  <a href="ACL2____BOOK-HASH.html">Book-hash</a> values are used to help ensure that certificates are legitimate and 
 that the corresponding book has not been modified since certification.  But 
 because the file system is insecure and book-hash values are not perfect, it 
 is possible for the inclusion of a book to cause inconsistency even though the 
 book carries an impeccable certificate.</p> 
 
 <p>The certificate includes the version number of the certifying ACL2.  A book 
 is considered uncertified if it is included in an ACL2 with a different <a href="ACL2____VERSION.html">version</a> number.</p> 
 
 <p>The presence of a ``valid'' certificate file for a book attests to two 
 things: all of the <a href="ACL2____EVENTS.html">events</a> of the book are admissible in a certain 
 extension of the initial ACL2 logic, and the non-<span class="tt"><a href="ACL2____LOCAL.html">local</a></span> <a href="ACL2____EVENTS.html">events</a> 
 of the book are independent of the <span class="tt"><a href="ACL2____LOCAL.html">local</a></span> ones (see <a href="ACL2____LOCAL-INCOMPATIBILITY.html">local-incompatibility</a>).  In addition, the certificate contains the <a href="ACL2____COMMAND.html">command</a>s used to construct the <a href="ACL2____WORLD.html">world</a> in which certification occurred. 
 Among those <a href="ACL2____COMMAND.html">command</a>s, of course, are the <span class="tt"><a href="ACL2____DEFPKG.html">defpkg</a></span>s defining the 
 packages used in the book.  When a book is included into a host <a href="ACL2____WORLD.html">world</a>, 
 that <a href="ACL2____WORLD.html">world</a> is first extended by the <a href="ACL2____COMMAND.html">command</a>s listed in the 
 certificate for the book.  Unless that causes an error due to name conflicts, 
 the extension ensures that all the packages used by the book are identically 
 defined in the host <a href="ACL2____WORLD.html">world</a>.</p> 
 
 <p><i>Security:</i></p> 
 
 <p>Because the host file system is insecure, there is no way ACL2 can 
 guarantee that the contents of a book remain the same as when its certificate 
 was written.  That is, between the time a book is certified and the time it is 
 used, it may be modified.  Furthermore, certificates can be counterfeited. 
 <a href="ACL2____BOOK-HASH.html">Book-hash</a> values are used to help detect such problems, but provide 
 imperfect security: two different files can have the same book-hash.</p> 
 
 <p>Therefore, from the strictly logical point of view, one must consider even 
 the inclusion of certified <a href="ACL2____BOOKS.html">books</a> as placing a burden on the user:</p> 
 
 <blockquote> 
 
 <p>The non-erroneous inclusion of a certified book is consistency preserving 
 provided (a) the objects read by <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> from the certificate 
 were the objects written there by a <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span> and (b) the forms 
 read by <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> from the book itself are the forms read by the 
 corresponding <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span>.</p> 
 
 </blockquote> 
 
 <p>We say that a given execution of <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> is ``certified'' if a 
 certificate file for the book is present and well-formed and the <a href="ACL2____BOOK-HASH.html">book-hash</a> information contained within it supports the conclusion that the 
 <a href="ACL2____EVENTS.html">events</a> read by the <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> are the ones checked by <span class="tt"><a href="ACL2____CERTIFY-BOOK.html">certify-book</a></span>.  When an uncertified <span class="tt"><a href="ACL2____INCLUDE-BOOK.html">include-book</a></span> occurs, warnings are 
 printed or errors are caused.  But even if no warning is printed, you must 
 accept burdens (a) and (b) if you use <a href="ACL2____BOOKS.html">books</a>.  These burdens are easier 
 to live with if you protect your <a href="ACL2____BOOKS.html">books</a> so that other users cannot write 
 to them, you abstain from running concurrent ACL2 jobs, and you abstain from 
 counterfeiting certificates.  But even on a single user uniprocessor, you can 
 shoot yourself in the foot by using the ACL2 <a href="ACL2____IO.html">io</a> primitives to fabricate 
 an inconsistent book and the corresponding certificate.</p> 
 
 <p>Note that part (a) of the burden described above implies, in particular, 
 that there are no guarantees when a certificate is copied.  When <a href="ACL2____BOOKS.html">books</a> 
 are renamed (as by copying them), it is recommended that their certificates be 
 removed and the <a href="ACL2____BOOKS.html">books</a> be recertified.  The expectation is that 
 recertification will go through without a hitch if relative <a href="COMMON-LISP____PATHNAME.html">pathname</a>s 
 are used.  See <a href="COMMON-LISP____PATHNAME.html">pathname</a>, which is not on the guided tour.</p> 
 
 <p>Certificates contain a <a href="ACL2____PORTCULLIS.html">portcullis</a> and a <a href="ACL2____KEEP.html">keep</a>, each documented 
 later in this guided tour through <a href="ACL2____BOOKS.html">books</a>.  We mention here two other 
 parts, which we do not document elsewhere because we view them as 
 implementation details: an <span class="v">expansion-alist</span>, which records <span class="tt"><a href="ACL2____MAKE-EVENT.html">make-event</a></span> expansions; and <span class="v">cert-data</span>, which contains logical information 
 associated with the book.  (Those curious about <span class="v">cert-data</span> are invited to 
 look at the ``Essay on Cert-data'' in the source code.)</p> 
 
 <p>See <a href="ACL2____PORTCULLIS.html">portcullis</a> to continue the guided tour through <a href="ACL2____BOOKS.html">books</a>.</p>
</body>
</html>
