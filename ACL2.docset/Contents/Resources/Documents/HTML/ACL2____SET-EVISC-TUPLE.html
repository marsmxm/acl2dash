<html>
<head>
<meta charset="UTF-8">
<title>Set-evisc-tuple</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____SET-EVISC-TUPLE">Click for Set-evisc-tuple in the Full Manual</a></h3>

<p>Control suppression of details when printing</p><p>ACL2 output is generally printed in full.  However, ACL2 can be 
 directed to abbreviate, or ``eviscerate'', objects before printing them, 
 through the use of a so-called ``evisc-tuple''.  See <a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> for a 
 discussion of evisc-tuples.  The utility <span class="v">set-evisc-tuple</span> modifies certain 
 global evisc-tuples, as explained below, to affect the extent to which ACL2 
 eviscerates objects during printing, for example during proof output or when 
 printing top-level evaluation results.</p> 
 
 <pre class="code">General Form:
(<a href="ACL2____SET-EVISC-TUPLE.html">set-evisc-tuple</a> evisc-tuple  ; a legal evisc-tuple, or :DEFAULT
                :iprint val   ; one of *iprint-actions*
                :sites sites) ; either :ALL, or an element or a subset of
                              ;   the list of legal sites (see below)</pre> 
 
 <p>where the value of <span class="v">:iprint</span> is passed to <span class="tt"><a href="ACL2____SET-IPRINT.html">set-iprint</a></span>, <span class="v">:sites
 :all</span> abbreviates <span class="v">:sites</span> '<span class="v">(:term :ld
       :trace :abbrev
       :gag-mode :brr)</span>, and other 
 documentation is provided below.  Note that all arguments are evaluated.</p> 
 
 <p>See <a href="ACL2____WITHOUT-EVISC.html">without-evisc</a> for how to avoid evisceration for ACL2 output.</p> 
 
 <p>The following example illustrates an invocation of <span class="v">set-evisc-tuple</span> 
 that limits the print-level to 3 — only three descents into list 
 structures are permitted before eviscerating a subterm — and limits the 
 print-length to 4 — only the first four elements of any list structure 
 will be printed.</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____SET-EVISC-TUPLE.html">set-evisc-tuple</a> (<a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> 3   ; print-level
                                     4   ; print-length
                                     nil ; alist
                                     nil ; hiding-cars
                                     )
                        :iprint :same ; better yet, T
                        :sites :all)
 (:TERM :LD :TRACE :ABBREV ...)
ACL2 !&gt;'((a b ((c d)) e f g) u v w x y)
((A B (#) E ...) U V W ...)
ACL2 !&gt;</pre> 
 
 <p>We recommend however using <span class="v">:iprint t</span> so that eviscerated terms may be 
 read back in (see <a href="ACL2____SET-IPRINT.html">set-iprint</a>), as shown here:</p> 
 
 <pre class="code">ACL2 !&gt;(<a href="ACL2____SET-EVISC-TUPLE.html">set-evisc-tuple</a> (<a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> 3   ; print-level
                                     4   ; print-length
                                     nil ; alist
                                     nil ; hiding-cars
                                     )
                        :iprint t
                        :sites :all)

ACL2 Observation in SET-EVISC-TUPLE:  Iprinting has been enabled.
 (:TERM :LD :TRACE :ABBREV . #@1#)
ACL2 !&gt;(<a href="ACL2____WITHOUT-EVISC.html">without-evisc</a> '(:TERM :LD :TRACE :ABBREV . #@1#))
(:TERM :LD
       :TRACE :ABBREV
       :GAG-MODE :BRR)
ACL2 !&gt;</pre> 
 
 <p>Indeed, the <span class="v">:iprint</span> argument is required as a reminder to the user to 
 consider that issue, unless iprinting has been enabled at least once.  If 
 <span class="v">:sites</span> or a required <span class="v">:iprint</span> argument is omitted, however, ACL2 will 
 query the user for the missing arguments rather than causing an error.</p> 
 
 <p>ACL2 eviscerates by default only in a few cases, primarily in informational 
 messages for errors, warnings, and queries (i.e., in the <span class="v">:EVISC</span> case 
 below), and in response to <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> commands.  Users can modify 
 the default behavior by supplying a suitable argument to <span class="v">set-evisc-tuple</span>. 
 The argument may be <span class="v">:default</span>, which denotes the evisceration provided 
 when ACL2 starts up.  Otherwise that argument is an evisc-tuple, which is 
 either <span class="v">nil</span> (no evisceration) or as described above.  Moreover, there are 
 six evisc-tuple ``evisceration contexts'', each with its own evisceration 
 control.  The value returned by <span class="v">set-evisc-tuple</span> indicates the 
 evisceration contexts whose evisc-tuple has been set.  The evisceration 
 contexts are as follows, all of which use a default value of <span class="v">nil</span> for the 
 hiding-cars.  Accessors are also shown for retrieving the corresponding 
 evisc-tuple.</p> 
 
 <ul> 
 
 <li>
<span class="v">:TERM</span> — used for printing terms.  The accessor is 
 <span class="v">(term-evisc-tuple flg state)</span>, where <span class="v">flg</span> is ignored if 
 <span class="v">set-evisc-tuple</span> has been called for <span class="v">:term</span> with value other than 
 <span class="v">:default</span>, and otherwise (hence initially): a <span class="v">flg</span> of <span class="v">nil</span> 
 indicates an evisc-tuple of <span class="v">nil</span>, and otherwise the term-evisc-tuple has a 
 print-level of 3 and print-length of 4.</li> 
 
 <li>
<span class="v">:ABBREV</span> — used for printing informational messages for errors, 
 warnings, and queries.  Initially, the alist abbreviates the ACL2 <span class="v">world</span>, 
 print-level is 5, and print-level is 7.  The accessor is 
 <span class="v">(abbrev-evisc-tuple state)</span>.</li> 
 
 <li>
<span class="v">:BRR</span> — used for output from <a href="ACL2____BRR-COMMANDS.html">brr-commands</a> issued in the 
 <a href="ACL2____BREAK-REWRITE.html">break-rewrite</a> loop.  When the value is <span class="v">:DEFAULT</span> then the 
 <i>effective value</i> of this evisc-tuple is the <span class="v">:TERM</span> evisc-tuple with 
 <span class="v">flg = t</span> (see above).  Also see <a href="ACL2____BRR-EVISC-TUPLE.html">brr-evisc-tuple</a>.  No accessor is 
 available to return this evisc-tuple, but its effective value is displayed by 
 evaluating <span class="v">(<a href="ACL2____SHOW-BRR-EVISC-TUPLE.html">show-brr-evisc-tuple</a>)</span>.</li> 
 
 <li>
<span class="v">:GAG-MODE</span> — used for printing induction schemes (and perhaps, 
 in the future, for other printing) when <a href="ACL2____GAG-MODE.html">gag-mode</a> is on.  If gag-mode is 
 off, the value used for this <a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> is <span class="v">(term-evisc-tuple nil
 state)</span>.  But if gag-mode is on (i.e., <span class="v">(<a href="ACL2____GAG-MODE.html">gag-mode</a>)</span> evaluates to a 
 non-<span class="v">nil</span> value), then with one exception, the value is an evisc-tuple or 
 <span class="v">nil</span>, to be used in gag-mode for printing of induction schemes and, during 
 proofs, the ``The non-trivial part of the guard conjecture''.  The exceptional 
 value is <span class="v">t</span>, which indicates that in gag-mode, no printing of induction 
 schemes should be and the guard conjecture should be printed using 
 <span class="v">(term-evisc-tuple t state)</span>.  The accessor is <span class="v">(gag-mode-evisc-tuple
 state)</span>.</li> 
 
 <li>
<span class="v">:LD</span> — used by the ACL2 read-eval-print loop.  The accessor is 
 <span class="v">(</span><span class="tt"><a href="ACL2____LD-EVISC-TUPLE.html">ld-evisc-tuple</a></span><span class="v"> state)</span>.</li> 
 
 <li>
<span class="v">:TRACE</span> — used for printing <a href="COMMON-LISP____TRACE.html">trace</a> output.  No accessor 
 is available (though in raw Lisp, <span class="v">(trace-evisc-tuple)</span> returns the 
 trace-evisc-tuple).</li> 
 
 </ul> 
 
 <p>Each context <span class="v">ectx</span> also has an updater, <span class="v">(set-ectx-evisc-tuple val
 state)</span>, where <span class="v">val</span> is a legal value for <span class="v">set-evisc-tuple</span> as 
 described above: <span class="v">:default</span> or an <a href="ACL2____EVISC-TUPLE.html">evisc-tuple</a> (possibly 
 <span class="v">nil</span>).</p>
</body>
</html>
