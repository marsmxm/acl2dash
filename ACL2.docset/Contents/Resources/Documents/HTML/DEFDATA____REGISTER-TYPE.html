<html>
<head>
<meta charset="UTF-8">
<title>Register-type</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=DEFDATA____REGISTER-TYPE">Click for Register-type in the Full Manual</a></h3>

<p>Register a name as a defdata type</p> 
<h3>Example</h3> 
<pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a> nth-odd-builtin (n) 
  (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP____EVENP.html">evenp</a> n)
      (<a href="COMMON-LISP____1_B2.html">1+</a> n)
    (<a href="COMMON-LISP____-.html">-</a> n)))

(<a href="DEFDATA____REGISTER-TYPE.html">register-type</a> odd
               :predicate oddp 
               :enumerator nth-odd-builtin)</pre> 
 
<h3>Introduction</h3> 
<p> 
A defdata type expression can either be a typename, a quoted constant or 
a combinator or constructor expression. To serve as a typename, a symbol 
should either have been defined using the <span class="v">defdata</span> macro, or 
it should have been  
<i>registered</i> as a <i>defdata type</i> using the <span class="v">register-type</span> 
macro. 
</p> 
 
<p> 
As an example, after having <i>registered</i> <span class="v">odd</span> above, we can 
now use <span class="v">odd</span> to define other @'(defdata') types, e.g., a list of 
odd numbers:  
</p> 
<pre class="code">(<a href="ACL2____DEFDATA.html">defdata</a> odds (listof odd))</pre> 
 
<h4>General Form:</h4> 
<pre class="code">(<a href="DEFDATA____REGISTER-TYPE.html">register-type</a> name
               :predicate pred
               :enumerator enum
               [:enum/acc enum2]
               [:enum/test tenum]
               [:enum/test/acc tenum2]
               [:clique tnames]
               [:normalized-def nexp]
               [:prettyified-def pexp]
               ...)</pre> 
 
 
Consider the above call of <span class="v">register-type</span>. We expect the following guards to be satisfied. 
<ul> 
<li>
<i>pred</i> is a monadic boolean-valued function.</li> 
<li>
<i>enum, tenum</i> are 1-arity functions that take a natural number and return a value of the right type.</li> 
<li>
<i>enum2, tenum2</i> are 2-arity functions that take a natural number and a random seed and return (mv value seed).</li> 
<li> The rest of the options are for experts and are not yet documented. </li> 
</ul> 

</body>
</html>
