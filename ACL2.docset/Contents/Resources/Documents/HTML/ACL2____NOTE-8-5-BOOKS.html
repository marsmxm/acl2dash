<html>
<head>
<meta charset="UTF-8">
<title>Note-8-5-books</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-8-5-BOOKS">Click for Note-8-5-books in the Full Manual</a></h3>

<p>Release notes for the ACL2 Community Books for ACL2 8.5</p><p>The following is a brief summary of 
     changes made to the <a href="ACL2____COMMUNITY-BOOKS.html">community-books</a> 
     between the releases of ACL2 8.4 and 8.5.</p><p>See also <a href="ACL2____NOTE-8-5.html">note-8-5</a> for the changes made to ACL2 itself. 
     For additional details, 
     you may also see the raw <a href="https://github.com/acl2/acl2/commits/master" target="_blank"><nobr>commit log<img src="../Icon_External_Link.png" title="External link to https://github.com/acl2/acl2/commits/master"></nobr></a>.</p><h3>New Libraries</h3><h4>Algebra</h4><p>A new library for abstract algebra has been started 
    (<span class="v">[books]/kestrel/algebra/</span>).  It contains a formalization of 
    groups, including proofs of a few very simple properties in a 
    calculational style.</p><h4>Big Data Library</h4><p>A preliminary new library (<span class="v">[books]/kestrel/big-data/</span>) has 
been started for analyzing the ACL2 Community Books as an object of scientific 
study.  Currently the focus is just on identifying name clashes, so that 
packages, functions, and theorems can be given unambiguous identifiers.</p><h4>Clause Processors Library</h4><p>A new library (<span class="v">[books]/kestrel/clause-processors/</span>) includes 
several <span class="tt"><a href="ACL2____CLAUSE-PROCESSOR.html">clause-processor</a></span>s (substitute, flatten literals, perform a 
simple subsumption), many of which are verified.  These are intended as 
building blocks for building more complex <span class="v">clause-processors</span>.</p><h4>Evaluators Library</h4><p>A new library (<span class="v">[books]/kestrel/evaluators/</span>) collects some 
   simple evaluators for verifying <span class="tt"><a href="ACL2____CLAUSE-PROCESSOR.html">clause-processor</a></span>s and <span class="tt"><a href="ACL2____META-FUNCTIONS.html">meta-functions</a></span>.</p><p>A new tool, <span class="v">defevaluator+</span>, improves open <span class="tt"><a href="ACL2____DEFEVALUATOR.html">defevaluator</a></span> (better defaults, more and better theorems, support for 
   lifting results to richer evaluators).</p><h4>Proof Helpers Library</h4><p>A new library (<span class="v">[books]/kestrel/helpers/</span>) had been added for 
   help developing books, including very preliminary tools to find hints, prove 
   return type theorems, and improve existing books.</p><p>A new utility be used to process dependency information.</p><h4>Syntheto</h4><p>Syntheto is a surface language for ACL2 and APT, 
     aimed at a wider range of users than typical ACL2 and APT experts. 
     Our implementation of Syntheto consists of 
     a front-end (in a separate repository) 
     and a back-end (in <span class="v">[books]/kestrel/syntheto/</span>). 
     See the Syntheto documentation in <span class="v">[books]/kestrel/syntheto/</span> 
     for details.</p><h3>Changes to Existing Libraries</h3><h4><a href="ABNF____ABNF.html">ABNF Library</a></h4><p>Some preliminary parsing generation tools have been added.</p><h4>ACL2 Arrays Library (<span class="v">[books]/kestrel/acl2-arrays/</span>)</h4><p>Def-typed-acl2-array now generates additional rules.</p><p>Other rules have been added/improved.</p><h4>Alists Light Library (<span class="v">[books]/kestrel/alists-light/</span>)</h4><p>Rules have been added and improved.</p><p>A book about rassoc-equal has been started.</p><p>Modularity has been improved.</p><h4>
<span class="tt"><a href="ACL2____APPLY_42.html">Apply$</a></span> and <span class="tt"><a href="ACL2____LOOP_42.html">loop$</a></span> libraries</h4><p><span class="v">[books]/projects/apply/</span> has changed significantly.  In previous 
     versions of ACL2 there was one user-level book on that directory, 
     <span class="v">top.lisp</span>.</p><p>Now there are three: <span class="v">apply.lisp</span>, <span class="v">loop.lisp</span>, and <span class="v">top.lisp</span>. 
     The first is most appropriate if you are using <span class="v">apply$</span> but not 
     <span class="v">loop$</span>.  The second is most appropriate if you are using <span class="v">loop$</span>. 
     Since <span class="v">loop$</span> uses <span class="v">apply$</span>, the second book includes the first. 
     The new <span class="v">top.lisp</span> includes both <span class="v">apply.lisp</span> and <span class="v">loop.lisp</span> and 
     thus is equivalent to <span class="v">loop.lisp</span>.</p><p>The old <span class="v">top.lisp</span> included many books that were not explicitly 
     concerned with <span class="v">apply$</span> or <span class="v">loop$</span>, including</p><p><span class="v">[books]/ordinals/lexicographic-ordering-without-arithmetic.lisp</span>,<br> 
     <span class="v">[books]/sorting/perm.lisp</span>,<br> 
     <span class="v">[books]/sorting/term-ordered-perms.lisp</span>,<br> 
     <span class="v">[books]/sorting/convert-perm-to-how-many.lisp</span>, and<br> 
     <span class="v">[books]/sorting/merge-sort-term-order.lisp</span>.</p><p>Furthermore, these books were included non-locally so that their rules 
     were added when <span class="v">top.lisp</span> was included.  Now they are local to 
     <span class="v">top.lisp</span> and <span class="v">loop.lisp</span>.  This means that user books dependent on 
     the old <span class="v">top.lisp</span> might mention or depend on rules that are no longer 
     available when the new <span class="v">top.lisp</span> is included.</p><p>Finally, the new <span class="v">loop.lisp</span> defines three theory constants that may be 
     of use.  See the comment in <span class="v">loop.lisp</span>.</p><h4><a href="APT____APT.html">APT Library</a></h4><p>A new transformation, <span class="v">copy-function</span>, has been added to serve as a 
    model for creating new transformations (it transforms a function without 
    really changing anything except function names).</p><p>A new transformation, <span class="v">drop-irrelevant-params</span>, has been added for 
    dropping unused parameters from functions.  Parameters can become unused 
    due to the application of other transformations.</p><p>A new transformation, <span class="v">finite-difference</span>, has been added for 
    incrementalization (efficiently maintaining some value that depends on other 
    values as those values change).</p><p>A new transformation, <span class="v">rename-calls</span>, has been added to rename called 
    functions (this is still somewhat in-progress)</p><p>A new transformation, <span class="v">rename-params</span>, has been added for 
    renaming parameters of functions.</p><p>A new transformation, <span class="v">wrap-output</span>, has been added for applying a 
    wrapper computation to every if-branch of a function (e.g., to change its 
    return type).</p><p>The <span class="tt"><a href="APT____SIMPLIFY.html">apt::simplify</a></span> transformation now does a better job of 
     preserving <span class="tt"><a href="ACL2____MBT.html">mbt</a></span> calls.</p><p>The <span class="tt"><a href="APT____RESTRICT.html">apt::restrict</a></span> transformation 
     now accepts <span class="v">:guard</span> as a special value for its <span class="v">restriction</span> input, 
     to specify the guard of the target function.</p><p>The <span class="tt"><a href="APT____ISODATA.html">apt::isodata</a></span> transformation 
     now generates new-to-old and old-to-new theorems 
     of a more general and useful form.</p><p>Small improvements have been made to <span class="v">deftransformation</span>, a tool for 
    generating transformations.</p><p>A new utility, <span class="v">def-equality-transformation</span>, has been added for easily 
    creating simple APT transformations that make equality-preserving changes 
    to functions.</p><p>A new utility, <span class="v">verify-guards-for-defun</span>, has been added that uses a 
    <span class="tt"><a href="ACL2____CLAUSE-PROCESSOR.html">clause-processor</a></span> to greatly speed up guard proofs (by 50,000x on 
    one example).</p><p>Other improvements have been made to supporting utilities and to make proofs 
    more robust.</p><h4>Arithmetic Library (<span class="v">[books]/arithmetic/</span>)</h4><p>The amount of extra material included along with arithmetic books has been 
    reduced.</p><h4>Arithmetic-light Library (<span class="v">[books]/kestrel/arithmetic-light/</span>)</h4><p>Many new rules have been added, and many rules have been improved.</p><p>A new book on <span class="tt"><a href="COMMON-LISP____EVENP.html">evenp</a></span> has been added.</p><p>The guard of the function <span class="v">lg</span> has been strengthened to exclude 0.</p><p>A new book, <span class="v">log2.lisp</span>, on base-2 logarithms has been added.  This deals 
    with taking the (floor of) the base 2 logarithm of any positive rational.</p><h4><a href="ACL2____AXE.html">Axe</a></h4><p>Many improvements, optimizations, additions, and fixes have been made to Axe.</p><p>In the Tactic Prover, before <span class="tt"><a href="ACL2____STP.html">stp</a></span> is called, rewriting is 
   done to replace constructs unhandled by either STP or the translation to 
   STP (for example, shift operations).  Also, the tactic 
   <span class="v">:rewrite-with-precise-contexts</span> has been added.</p><p>Various rule lists used by Axe have been improved.</p><p>Handling of assumptions and <span class="v">if</span>s has been optimized.</p><p>New options (controlling XOR handling, memoization, and hit 
   counting) have been added to some tools.</p><p>Boolean reasoning has been improved.</p><p>The generated rewriters have been improved (better handling of 
   <span class="v">boolif</span> and <span class="v">bvif</span>, using <span class="tt"><a href="ACL2____STOBJ.html">stobj</a></span>s more, optional XOR 
   normalization, more auto-generated functions).</p><p>Rewriting of calls of <span class="v">not</span> has been improved: Now the argument 
   is looked up in the <span class="v">node-replacement-array</span> to see whether it is 
   non-<span class="v">nil</span>.  Several additional tests now work.</p><p>A new tool, <span class="v">def-simplified-dag</span>, has been added.</p><p>Debugging of failed proofs has been improved.</p><p>Pruning has been improved.</p><p>Counterexample handling has been improved (check that values have 
   the expected types, allow an error to be returned when fixing up a 
   counterexample, show that the node numbers in a counterexample are 
   bounded).</p><p>Dependence on non-lightweight libraries has been reduced.</p><p>Some runtime checks have been dropped, after proving they never fail.</p><p>More tests have been added.</p><p>Test case creation has been improved.</p><p>The events generated by some tools are now <span class="tt"><a href="ACL2____LOCAL.html">local</a></span> by 
   default (prevents storing huge DAGs in <span class="v">.cert</span> files).</p><p>Printing, documentation, memoization, and the Axe Evaluators have 
   been improved.</p><p><span class="v">Unroll-spec-basic</span> can now often automatically determine all 
   functions that need to be opened/unrolled.</p><p>Dependence on <span class="tt"><a href="ACL2____SKIP-PROOFS.html">skip-proofs</a></span> has been reduced (more code in 
   <span class="v">:logic</span> mode and guard-verified).</p><p>Some <span class="tt"><a href="ACL2____INVARIANT-RISK.html">invariant-risk</a></span> is now avoided.</p><p>Generated Axe provers now support <span class="v">:use</span> hints.</p><p>A new code query tool can determine whether terms (over 
   bit-vectors and arrays) are satisfiable and produce satisfying instances.</p><p>The Axe Equivalence Checker has been added.</p><p>A tool to unroll a function by a constant factor has been added.</p><p>An alternative implementation of the Axe Rewriter has been added.</p><h4>Axe JVM toolkit <span class="v">[books]/kestrel/axe/jvm/</span>
</h4><p>The lifters / unrollers have been improved in various ways. 
Method signatures and output types are now inferred.  Results of lifting are 
made <span class="tt"><a href="ACL2____LOCAL.html">local</a></span> by default, to keep certificates small.  XORs are no longer 
normalized by default.</p><h4>Axe x86 toolkit <span class="v">[books]/kestrel/axe/x86/</span>)</h4><p>A very preliminary lifter for simple x86 code with loops has been 
   added.</p><p>Additional options (e.g., for pruning branches) have been added to 
   the x86 unroller.</p><p>An Axe proof of an x86 binary population-count program has been 
   added.</p><h4><a href="BITCOIN____BITCOIN.html">Bitcoin Library</a></h4><p>Executable specifications of Bech32 and Bech32 address encoding 
     have been added.</p><h4>Booleans Library (<span class="v">[books]/kestrel/booleans/</span>)</h4><p>Rules have been added and library organization has been improved.</p><h4>BV Library (<span class="v">[books]/kestrel/bv/</span>)</h4><p>Definitions have been simplified.</p><p>Many rules have been added, improved, simplified, or renamed.</p><p>Library organization has been improved and dependencies reduced.</p><p>Rules for splitting shifts into cases have been improved.</p><h4>BV Lists Library <span class="v">[books]/kestrel/bv-lists/</span>
</h4><p>New rules have been added, and the library's organization has been 
   improved.</p><p>Material on bit-vector packing has been added.</p><p>New <span class="v">bv-array</span> conversion utilities have been added.</p><h4><a href="C____C.html">C Library</a></h4><h5><a href="C____ATC.html">ATC, the C Code Generator for ACL2</a></h5><p>ATC has been extended to cover a larger subset of C. 
     See the user documentation of ATC for more details.</p><h4><a href="CRYPTO____CRYPTOGRAPHY.html">Cryptography Library</a></h4><p>A formal specification of the Salsa20 hash function has been 
   added.</p><h4><a href="ECURVE____ELLIPTIC-CURVES.html">Elliptic Curve Library</a></h4><p>Several theorems have been added.</p><p>A refinement of pfield-squarep has been added.</p><h4><a href="ACL2____EVENT-MACROS.html">Event Macros Library</a></h4><p>The <span class="tt"><a href="ACL2____MAKE-EVENT-TERSE.html">make-event-terse</a></span> utility has been extended 
     to handle the recently added new kind of ACL2 comment output.</p><h4><a href="ACL2____FILE-IO-LIGHT.html">File-Io-Light Library</a></h4><p>Various simplifications have been made, including removing checks 
   for bad channels (after proving that they cannot occur).</p><p>Rules have been added or improved dealing with <span class="v">read-object</span>, 
   channels, <span class="v">print-object$</span>, <span class="v">read-char$</span>, etc.</p><p>Utilities have been added to read objects from a file (using 
   guard-verified <span class="v">:logic</span> mode code) and to read a file into a <span class="v">stobj</span> 
   array of characters.</p><h4><a href="ACL2____FTY.html">Fixtype Definition Library</a></h4><p>A new macro <span class="tt"><a href="FTY____DEFRESULT.html">fty::defresult</a></span> has been added 
     to define flat unions of a fixtype of errors 
     with any fixtype that is disjoint from those errors. 
     This is accompanied by <span class="tt"><a href="ACL2____B_A2.html">b*</a></span> binders to check and propagate errors.</p><p>Several fixtypes have been added, under <span class="v">[books]/kestrel/fty/</span>.</p><p>Consing has been reduced in recognizers for <span class="v">defprod</span>, etc.</p><h4><a href="ISAR____ISAR.html">Isar Library</a></h4><p>This library has undergone some improvements.</p><h4><a href="JAVA____JAVA.html">Java Library</a></h4><h5><a href="JAVA____ATJ.html">ATJ, the Java Code Generator for ACL2</a></h5><p>An option has been added to check that 
     no AIJ types are referenced by the generated Java code, 
     i.e. that the generated Java code exclusively manipulates 
     Java primitive values and arrays. 
     If that is the case, the environment class is not generated, 
     and the main class is much smaller than without this option.</p><p>If a Java package name is specified, 
     the generated Java code is saved in a subdirectory of the output directory 
     that corresponds to the typical Java convention.</p><h4>JVM Model <span class="v">[books]/kestrel/jvm/</span>
</h4><p>The formalization of class tables has been improved.</p><p>The modify macro has been redone (for clarity and better checking).</p><p>Work has been done to standardize normal forms and enforce abstractions better.</p><p>New rules have been added and duplicate rules removed.</p><p>Organization has been improved.</p><p>More functions are now in the JVM package.</p><p>The computation of default values of floats and doubles has been simplified.</p><p>The handling of LDC and related instructions in .class file has been improved.  Now all of the constants are tagged, so we no longer require floats to be represented differently than ints.</p><p>Work has been started to define an accurate floating point model to support the JVM model (still in progress).  This formalizes notions of representable numbers, floating point data (including encoding and decoding of bit-vectors), normal and subnormal numbers, infinities, NaNs, and floating point comparisons.  Some proofs connect these notions to similar notions in the RTL library.</p><h4><a href="ACL2____KESTREL-UTILITIES.html">Kestrel Utilities Library</a></h4><p>Special handling of <span class="tt"><a href="ACL2____MBT.html">mbt</a></span> by <span class="tt"><a href="ACL2____DIRECTED-UNTRANSLATE.html">directed-untranslate</a></span> has been 
     removed, as it is no longer necessary or appropriate because of the change 
     to the <span class="tt"><a href="APT____SIMPLIFY.html">apt::simplify</a></span> transformation for <span class="tt"><a href="ACL2____MBT.html">mbt</a></span> noted above.</p><p>The new utilities <span class="tt"><a href="ACL2____CHECKPOINT-LIST.html">checkpoint-list</a></span> and <span class="tt"><a href="ACL2____CHECKPOINT-LIST-PRETTY.html">checkpoint-list-pretty</a></span> and related (perhaps less useful) new utilities 
     <span class="tt"><a href="ACL2____CHECKPOINT-INFO-LIST.html">checkpoint-info-list</a></span> and <span class="tt"><a href="ACL2____SHOW-CHECKPOINT-LIST.html">show-checkpoint-list</a></span> provide 
     programmatic interfaces to key checkpoint information.</p><p>The new utility <span class="tt"><a href="ACL2____BOOK-RUNES-ALIST.html">book-runes-alist</a></span> returns an alist associating book 
     full pathnames with a list of the <a href="ACL2____RUNE.html">rune</a>s introduced .</p><p>New or improved rules deal with <span class="v">explode-nonnegative-integer</span>, 
<span class="v">explode-atom</span>, <span class="v">state</span>, channels, <span class="v">world</span>s, 
<span class="v">intern-in-package-of-symbol</span>, fresh names, supporting functions, constant 
names, <span class="v">nat-to-string</span> and <span class="v">binary-pack</span>.</p><p>Printing done by <span class="v">submit-event</span> has been improved.</p><p>A new utility, <span class="v">defstobj+</span>, is a drop-in replacement for 
<span class="v">defstobj</span> that disables the <span class="v">stobj</span>-related functions and proves many 
rules about them, such as read-over-write properties.  Currently only scalar 
and array fields are supported.</p><p>A new tool, <span class="v">with-local-stobjs</span>, extends <span class="tt"><a href="ACL2____WITH-LOCAL-STOBJ.html">with-local-stobj</a></span> to support multiple <span class="v">stobj</span>s.</p><p>Utilities for making lists of symbols have been added.</p><p>Organization has been improved and dependencies reduced.</p><p>New books have been added about <span class="v">assoc-keyword</span>, 
<span class="v">theory-invariant</span>s, <span class="v">chk-length-and-keys</span>, <span class="v">member-symbol-name</span>, 
arities, negation, <span class="v">logic-termp</span>, messages, hints, reconstructing macro 
calls, <span class="v">defun</span> and <span class="v">mutual-recursion</span> forms, macro arguments, 
<span class="v">explode-nonnegative-integer</span>, <span class="v">intern-in-package-of-symbol</span>, and 
<span class="v">digit-to-char</span>.</p><p><span class="v">Defopeners</span> has been improved.</p><p>Utilities have been added or improved about <span class="v">:program</span> mode, 
<span class="tt"><a href="ACL2____PROVE_42.html">prove$</a></span>, <span class="v">declare</span>s, <span class="v">ignore</span>s, translation (tolerating ignored 
variables), <span class="v">table</span>s, symbol creation, <span class="v">disjoin</span>, <span class="v">defmacrodoc</span>, and 
verifying guards.</p><p>A new tool, <span class="v">defcalculation</span>, has been added to support proofs 
that chain together equalities.</p><p>A draft tool, <span class="v">specialize-calls-in-theorems</span>, to specialize 
theorems has been added.</p><p>The new utility <span class="v">book-of-event</span> has been added, to determine 
which book introduced a name.</p><p><span class="v">My-make-flag</span> has been improved (use unnormalized bodies, 
speed up some proofs by 100x using a custom <span class="tt"><a href="ACL2____CLAUSE-PROCESSOR.html">clause-processor</a></span>).</p><p>The utility <span class="v">directed-untranslate$</span> has been added.</p><p>Utilities have been added for manipulating conjuncts and disjuncts.</p><p>The utility <span class="v">add-not-normalized-suffixes</span> has been added.</p><p>The Linter has been improved (to look for contradictory guards, to 
look for hypotheses that are unneeded or stronger than necessary, and to 
suggest generalizations).  Various issues found by the Linter in Community 
Books have been fixed.</p><p>The :<span class="tt"><a href="ACL2____UBI.html">ubi</a></span> tool has been improved.  It now sees through 
<span class="v">with-output</span> wrappers on commands.  It also no longer considers <span class="v">xdoc</span> 
to be a keeper command.</p><h4>Kestrel x86 Library <span class="v">[books]/kestrel/x86/</span>
</h4><p>Rules have been added, improved, and given better names.</p><p>Error messages in the Mach-O parser have been improved.</p><h4>Lists Light Library <span class="v">[books]/kestrel/lists-light/</span>
</h4><p>New books have been added about <span class="v">make-list-ac</span>, <span class="v">resize-list</span>, functions that treat lists like sets, and <span class="v">replace-item</span>.</p><p>Many rules have been added and improved.</p><p>Library organization has been improved.</p><p><span class="v">Perm</span> now has <span class="v">true-listp</span> guards and calls more standard sub-functions.</p><h4><a href="ACL2____NUMBER-THEORY.html">Number Theory Library</a></h4><p>Dependencies have been reduced to avoid name clashes.</p><p><span class="v">Primep</span> is now disabled.</p><h4><a href="PFIELD____PRIME-FIELDS.html">Prime Fields Library</a></h4><p>Rules have been added, improved, and renamed.</p><p>The behavior of the inversion function on 0 has been changed.</p><h4><a href="PFCS____PRIME-FIELD-CONSTRAINT-SYSTEMS.html">PFCS (Prime Field Constraint System) Library</a></h4><p>This library has undergone several improvements, 
     including the addition of some initial support 
     for verifying properties of PFCS instances.</p><h4><a href="ACL2____QUICKLISP.html">Quicklisp Library</a></h4><p>The <a href="ACL2____QUICKLISP.html">quicklisp</a> library is now ignored for regressions of ACL2 built 
     on LispWorks, due to an asdf version incompatibility with the asdf.lisp 
     provided by LispWorks Version 8.0.  That problem may become a problem for 
     future versions of other host Lisps, as they too update their asdf 
     versions.  Perhaps this will be fixed by someone in the ACL2 community; 
     see GitHub Issue #1332.</p><p>The quicklisp libraries have been updated to recent versions (as of 
     7/7/2022; previous versions were as of 2020).  This fixes library version 
     errors with Mac OS X on M1 machines and with recent versions of 
     Ubuntu (e.g., 22.04).</p><h4>Random Library <span class="v">[books]/kestrel/random/</span>
</h4><p>Improvements have been made to <span class="v">:forward-chaining</span> rules.</p><h4><a href="R1CS____R1CS.html">R1CS Library</a></h4><p><span class="v">verify-r1cs</span> and related tools now support :use hints.</p><p>A verified NAND gadget generator has been added.</p><p>A verified range-check gadget generator has been added.</p><p>Documentation has been added.</p><h4>Sequences Library <span class="v">[books]/kestrel/sequences/</span>
</h4><p><span class="v">Defforall</span> has been improved, including reducing the number of 
   included books from 42 to 27.</p><h4><a href="ACL2____STD_F2BASIC.html">Standard Basic Library</a></h4><p>A fixer <span class="tt"><a href="ACL2____MAYBE-STRING-FIX.html">maybe-string-fix</a></span> for <span class="tt"><a href="ACL2____MAYBE-STRINGP.html">maybe-stringp</a></span> 
     has been added.</p><h4><a href="ACL2____STD_F2STRINGS.html">Standard Strings Library</a></h4><p>The names of several functions, and associated theorems, 
     have been made more uniform and descriptive.</p><h4><a href="ACL2____STD_F2SYSTEM.html">Standard System Library</a></h4><p>Some theorems about <span class="tt"><a href="ACL2____FSUBLIS-VAR.html">fsublis-var</a></span> and <span class="tt"><a href="ACL2____FSUBLIS-VAR-LST.html">fsublis-var-lst</a></span> 
     have been added.</p><p>A fixer for <span class="tt"><a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a></span> has been added.</p><h4><a href="ACL2____STD_F2TYPED-ALISTS.html">Standard Typed Alists Library</a></h4><p>A book of theorems about <span class="tt"><a href="ACL2____SYMBOL-ALISTP.html">symbol-alistp</a></span> has been added.</p><p>A definition of alists from strings to symbols has been added.</p><h4><a href="ACL2____STD_F2UTIL.html">Standard Utilities Library</a></h4><p>The <span class="tt"><a href="ACL2____DEFRET.html">defret</a></span> utility could malfunction when including an uncertified 
     book.  This has been fixed by tweaking a <span class="tt"><a href="ACL2____DEFSECTION.html">defsection</a></span> utility to set 
     the ``most recent function'' non-locally.  This fixes GitHub Issue 
     #1302.</p><p><span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span>, along with its wrappers 
     <span class="tt"><a href="ACL2____DEFISO.html">defiso</a></span>, <span class="tt"><a href="ACL2____DEFINJ.html">definj</a></span>, and <span class="tt"><a href="ACL2____DEFSURJ.html">defsurj</a></span>, 
     has been extended with a <span class="v">:thm-enable</span> option 
     to control whether the generated theorems are enabled or not. 
     They are disabled by default. 
     See the documentation of <span class="tt"><a href="ACL2____DEFMAPPING.html">defmapping</a></span> for details.</p><p><span class="tt"><a href="ACL2____DEFINES.html">Defines</a></span> has been improved to suppress return-value theorems in <span class="v">:program</span> mode.</p><h4>Strings Light Library <span class="v">[books]/kestrel/strings-light/</span>
</h4><p>New books have been added about reversing, string length, and 
   checking whether a string ends with some other string.</p><p>New lightweight utilities have been added for parsing characters 
   as digits.</p><h4>Terms Light Library <span class="v">[books]/kestrel/terms-light</span>
</h4><p>Utilities have been added to reconstruct <span class="v">let</span>s, serialize 
<span class="v">lambda</span>s, rename variables, find duplicate <span class="v">lambda</span> arguments, add 
parameters to calls, find and count occurrences of subterms, <span class="v">lambda</span>-bind 
arguments of function calls, replace terms, substitute unnecessary <span class="v">lambda</span> 
vars, make <span class="v">lambda</span> applications, reconstruct <span class="v">mv-let</span>s, wrap patterns 
around terms, find <span class="v">let</span> vars, recognize unary <span class="v">lambda</span>s, manipulate 
conjuncts, and create, combine, and count <span class="v">if</span>s.</p><p>Some theorem names have been improved, and new rules have been 
added.</p><p>Some utilities have had their correctness verified.</p><p>A new utility, <span class="v">sublis-var-and-magic-eval</span>, has been added to 
apply a substitution to a term while evaluating ground terms.</p><h4>Tools <span class="v">[books]/tools/</span>
</h4><p>When the tool <span class="tt"><a href="ACL2____PROVE_42.html">prove$</a></span> is interrupted (with <span class="v">Control-C</span>), control 
     now returns to the top level.  Formerly, that `abort' merely caused 
     <span class="v">prove$</span> to return <span class="v">(<a href="ACL2____MV.html">mv</a> nil nil state)</span>.  Also if the given term and 
     (if supplied) hints have illegal syntax, an error now occurs.</p><p>New keyword options <span class="v">:ignore-ok</span> and <span class="v">:prover-error-output-off</span> are 
     now available for <span class="tt"><a href="ACL2____PROVE_42.html">prove$</a></span>.</p><p>Evaluation of <span class="v">(prover-steps-counted state)</span> returns the prover steps 
     counted for the most recently completed event.</p><p>Fixed with-supporters to work when including an uncertified book.</p><p><span class="v">Defthm-flag</span> has been improved.  When <span class="v">defthm-flag</span> is 
   called with no arguments, it creates a template form for the user to fill 
   out.  That form includes placeholder hypotheses for each template theorem. 
   Previously these were always literally (AND HYP1 HYP2), with the user 
   expected to replace the meaningless HYP1 and HYP2 with meaningful hyps (or 
   delete them).  Now, for a function with a non-trivial guard, that guard is 
   used for the hyp instead, since it is fairly likely to be needed in theorems 
   about the function.  The user is still welcome to edit the hyps, of course. 
   Also, computed hints are supported better (a hint can now be simply the name 
   of a computed hint function).</p><h4><a href="ACL2____TYPED-LISTS-LIGHT.html">Typed Lists Light Library</a></h4><p>Rules have been added and library organization improved.</p><p>Books about <span class="v">true-list-listp</span> and <span class="v">pseudo-term-list-listp</span> 
   have been started.</p><h4>Untranslated Terms Library <span class="v">[books]/kestrel/untranslated-terms</span>
</h4><p><span class="v">Rename-functions</span> has been improved in various ways.</p><p>Utilities for manipulating conjuncts have been improved.</p><h4><a href="ACL2____VL.html">VL Library</a></h4><p>The dependencies of <span class="v">vl/util/namedb</span> have been reduced.  This 
change prevents <span class="v">vl/util/namedb</span> from <span class="v">including vl/util/defs</span>.  Various 
<span class="v">include-book</span>s had to be added in <span class="v">namedb.lisp</span> and other files to 
compensate, but the net effect is to greatly reduce what is included by 
<span class="v">namedb</span> and tools that include it, including <span class="tt"><a href="ACL2____DEFRSTOBJ.html">defrstobj</a></span> and the 
<span class="tt"><a href="ACL2____X86ISA.html">x86isa</a></span> model.</p><h4><a href="ACL2____X86ISA.html">X86ISA</a></h4><p>The dependency of CPUID features on the x86 state has been removed. 
     Now the CPUID features are arbitrary but fixed in the model. 
     See the documentation in the <span class="tt"><a href="X86ISA____CPUID.html">x86isa::cpuid</a></span> topic for details.</p><p>Support has been added for the MOVD and MOVQ instruction variants 
     that move data from/to the XMM registers.</p><h4><a href="ACL2____XDOC.html">Xdoc Library</a></h4><p>Some functions have been put into <span class="v">:logic</span> mode (with verified 
guards).</p><p><span class="v">Defpointer</span> has been improved to tolerate symbols with unusual 
names.</p><p>Dependencies have been reduced.</p><h4><a href="YUL____YUL.html">Yul Library</a></h4><p>This library now contains a complete formalization of generic Yul, 
     and a partial formalization of the EVM dialect of Yul. 
     It also contains formalizations and correctness proofs 
     of some of the Yul transformations performed in the Solidity compiler.</p><h4><a href="ZCASH____ZCASH.html">Zcash Library</a></h4><p>This library has been extended with several theorems 
     and with a formalization of several gadgets.</p><p>Proofs of various R1CS gadgets / gadget generators have been 
   added.</p><p>A new tool, <span class="tt"><a href="ZCASH____VERIFY-ZCASH-R1CS.html">zcash::verify-zcash-r1cs</a></span>, has been added (a 
specialization of <span class="tt"><a href="R1CS____VERIFY-R1CS.html">r1cs::verify-r1cs</a></span>.</p><p>Documentation has been added.</p><h3>Licensing Changes</h3><h3>Build System Updates</h3><h4>Default Build Target, `basic', Avoids Quicklisp Dependency</h4><p>The default `make' target for certifying the <a href="ACL2____COMMUNITY-BOOKS.html">community-books</a>, which 
     is still `basic', now certifies slightly fewer books so that it does not 
     depend on Quicklisp.</p><h4>Hons Always Enabled</h4><p>As discussed in topic <a href="ACL2____NOTE-8-5.html">note-8-5</a>, essentially all support for 
     building ACL2 without the <a href="ACL2____HONS-ENABLED.html">hons-enabled</a> features has been removed. 
     The build system has been similarly updated, in particular by eliminating 
     the <span class="v">hons-only</span> value for <span class="v">cert_param</span> and the exported variable 
     <span class="v">ACL2_HAS_HONS</span>.</p><h4>Useless Runes Updates</h4><p>The <a href="BUILD____CERT.PL.html">cert.pl</a> perl script 
     by default now makes use of <a href="ACL2____USELESS-RUNES.html">useless-runes</a> files when they 
     are available.  It does that by binding the environment variable 
     <span class="v">ACL2_USELESS_RUNES=-25</span> unless the environment variable is 
     already defined, in which case it heeds the existing value.</p><p>This behavior is now the same as using <span class="v">make</span> to certify 
     community books.  Previously there was an unexpected slowdown when using 
     <a href="BUILD____CERT.PL.html">cert.pl</a> 
     to certify a needed subset of books prerequisite to a particular 
     book of interest, when those prerequisite books had precomputed 
     <span class="v">*@useless-runes.lsp</span> files. 
     Note that the default behavior of 
     <a href="ACL2____CERTIFY-BOOK.html">certify-book</a> in ACL2 has not changed, just the default 
     behavior of <a href="BUILD____CERT.PL.html">cert.pl</a>.</p><p>To turn off the use of useless runes, you can set that environment 
     variable to the empty string, e.g.:</p><pre class="code">ACL2_USELESS_RUNES=  cert.pl ..</pre><p>The above change does not apply to ACL2(r).</p><p>In ACL2(r), the useless runes files that were precomputed for ACL2 
     could cause certification errors if someone tried to use them, 
     using either <a href="ACL2____CERTIFY-BOOK.html">certify-book</a> or 
     <a href="BUILD____CERT.PL.html">cert.pl</a>. 
     Now the useless runes feature has been turned off for ACL2(r).</p><p>The precomputed <a href="ACL2____USELESS-RUNES.html">useless-runes</a> files continue to be ignored by 
     ACL2(p), so the previous code that ignored useless runes when using 
     <span class="v">make</span> has been removed.</p><h4>Book Dependencies in S-expression Form</h4><p>The <a href="BUILD____CERT.PL.html">cert.pl</a> perl script 
     generally writes book dependency information in Makefile format 
     to the file <span class="v">Makefile-tmp</span>, or if specified, to the file named 
     after the flag <span class="v">-o</span>.</p><p>Now <span class="v">cert.pl</span> has a new flag, <span class="v">--smakefile</span>, that causes cert.pl 
     to write book dependency information in S-expression format as well, 
     to a file named <span class="v">xxx.lsp</span>, where <span class="v">xxx</span> is where the Makefile 
     format dependency information is being written.</p><p>When you invoke the <span class="v">make</span> command to build the community books, 
     one of the things <span class="v">build/GNUmakefile</span> does is to scan the community 
     books for dependency information, using 
     <a href="BUILD____CERT.PL.html">cert.pl</a>. 
     Now the default is for that call to include the <span class="v">--smakefile</span> 
     flag, causing the dependency information to also be written in 
     a format that is easy to read by ACL2.  The new file is about 
     4 MB, as compared with a freshly cloned ACL2 repo of about 1800 MB. 
     If you wish to turn off this feature, you can set the 
     environment variable <span class="v">ACL2_INHIBIT_DEPS_LSP</span> to any nonempty string 
     prior to invoking <span class="v">make</span>. 
     For example:</p><pre class="code">ACL2_INHIBIT_DEPS_LSP=1 make -j12 regression</pre><h4>Build colors</h4><p>The roles of green and bold green in build output have been swapped.  Now, for books that take 20 seconds or less, the bold green books are the slower books (10-20s) and the regular green books are the faster books (0-10s).  The rationale is that bold is more prominent and we want to draw attention to slower books.  This also matches how bold works for yellow and red.</p><h3>Testing</h3><h3>Miscellaneous</h3><p>The following warning is now printed when broken <a href="ACL2____XDOC.html">xdoc</a> links are 
     encountered: ``Please note the following broken topic link name[s]: ...''. 
     This warning is printed to the terminal after the topic is printed by 
     <span class="v">:</span><span class="tt"><a href="ACL2____DOC.html">doc</a></span>, unless of course the warning is inhibited (see <a href="ACL2____SET-INHIBIT-WARNINGS.html">set-inhibit-warnings</a> and <a href="ACL2____SET-INHIBIT-OUTPUT-LST.html">set-inhibit-output-lst</a>).</p><p>For the utility <span class="tt"><a href="ACL2____MAKE-FLAG.html">make-flag</a></span>, the previous release (see <a href="ACL2____NOTE-8-4-BOOKS.html">note-8-4-books</a>) deprecated the use of a list of cons pairs <span class="v">(old .
     new)</span> for the value of the keyword argument, <span class="v">:flag-mapping</span>.  That 
     list must now be a list of doublets, <span class="v">(old new)</span>.</p><p>The book <span class="v">[books]/doc/top-slow.lisp</span> is now 
   <span class="v">[books]/top.lisp</span>.  It is now only used to detect conflicts between 
   books.</p>
</body>
</html>
