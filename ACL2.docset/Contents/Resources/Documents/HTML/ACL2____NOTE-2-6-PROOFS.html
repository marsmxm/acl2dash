<html>
<head>
<meta charset="UTF-8">
<title>Note-2-6-proofs</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____NOTE-2-6-PROOFS">Click for Note-2-6-proofs in the Full Manual</a></h3>

<p>ACL2 Version  2.6 Notes on Changes in Proof Engine</p><p>Certain optimizations are performed when converting terms to 
 clausal form.  For example, <span class="v">(<a href="COMMON-LISP_____C3.html">&lt;</a> 0 1)</span> is known to be <span class="v">t</span>, <span class="v">(<a href="ACL2____HARD-ERROR.html">HARD-ERROR</a>
 ctx str alist)</span> is known to be <span class="v">nil</span>, and <span class="v">(<a href="COMMON-LISP____INTEGERP.html">INTEGERP</a> n)</span> is known to 
 imply <span class="v">(<a href="COMMON-LISP____RATIONALP.html">RATIONALP</a> n)</span>.</p> 
 
 <p>In earlier versions of ACL2, the conversion of a term to clausal form 
 expanded <span class="v">LAMBDA</span> applications.  That may no longer occur.  Some proofs may 
 slow down (or fail) because your <span class="v">LAMBDA</span>-expressions are not expanded away 
 when you ``expected'' them to be.</p> 
 
 <p>Robert Krug found a soundness bug in our linear arithmetic package.  The 
 bug was caused by the derivation of an equation from two inequalities without 
 taking adequate precautions to ensure that both sides of the inequalities were 
 numeric.  Robert also kindly provided a fix which we adopted.  Thanks 
 Robert!</p> 
 
 <p>We fixed a bug that could prevent the application of a metatheorem.</p> 
 
 <p>A bug has been fixed that had caused bogus forcing rounds (see <a href="ACL2____FORCING-ROUND.html">forcing-round</a>).  The bug could occur when the hypothesis of a rule was forced 
 (see <a href="ACL2____FORCE.html">force</a>) before the prover decided to start over and prove the 
 original goal by induction.  Thanks to Rob Sumners for drawing our attention 
 to this problem.</p> 
 
 <p>Some low-level fixes have been made that prevent certain infinite loops, 
 based on reports by users.  We thank Yunja Choi, Matt Wilding, and Pete 
 Manolios for reporting such problems.</p> 
 
 <p>An obscure potential soundness hole has been fixed by redoing the way 
 evaluation takes place in the ACL2 loop and during theorem proving.  We expect 
 that users will see no difference based on this change.  (Those interested in 
 the details can see the long comment ``Essay on Evaluation in ACL2'' in source 
 file interface-raw.lisp.)</p> 
 
 <p>A small change was made in computation for a heuristic that controls 
 backchaining.  This will speed up proofs dramatically in a very few cases but 
 should have a very small impact in general.</p> 
 
 <p>The simplifier has been modified to avoid eliminating hypotheses of goals 
 that can be established by contextual (specifically, type-set) reasoning 
 alone.  We believe that this change will generally strengthen ACL2's reasoning 
 engine, although on rare occasions a lemma that formerly was provable may 
 require user assistance.  Thanks to Robert Krug for suggesting this change and 
 providing its implementation.</p> 
 
 <p>Case splits are now limited, by default.  This may allow some proof 
 attempts to provide output where previously the prover would appear to ``go 
 out to lunch.''  For a more complete discussion, including instructions for 
 how users can control case splitting, see <a href="ACL2____SET-CASE-SPLIT-LIMITATIONS.html">set-case-split-limitations</a>.</p> 
 
 <p>A bug has been fixed in the handling of <span class="v">:</span><span class="tt"><a href="ACL2____TYPE-PRESCRIPTION.html">type-prescription</a></span> 
 rules by the <a href="ACL2____BDD.html">bdd</a> package.  Thanks to Rob Sumners for discovering this 
 bug and supplying a helpful example.</p> 
 
 <p>ACL2 may now use the built-in induction scheme for a function symbol even 
 if that function symbol is disabled.  Formerly, if a function symbol was 
 disabled then its induction scheme was only considered if an explicit 
 induction hint was supplied, other than <span class="v">:induct t</span>.</p> 
 
 <p>We eliminated the rule-class <span class="v">linear-alias</span>.  This rule class was seldom 
 used and complicated the linear arithmetic decision procedure in ways that 
 made it difficult to extend to handle some non-linear special cases.  The only 
 use of the rule-class that we know of was in our own <span class="v">nqthm</span> books, which 
 were an attempt to provide an embedding of the Nqthm logic and theorem prover 
 into ACL2.  But that facility was also practically never used, as far as we 
 know.  So both <span class="v">linear-alias</span> rules and the <span class="v">nqthm</span> books have been 
 eliminated.</p> 
 
 <p>In earlier versions of ACL2, when the <span class="v">IF</span>-form of <span class="v">(<a href="COMMON-LISP____AND.html">AND</a> p q)</span> was 
 assumed true — as when rewriting the <span class="v">alpha</span> expression in 
 <span class="v">(<a href="COMMON-LISP____IF.html">IF</a> (<a href="COMMON-LISP____AND.html">AND</a> p q) alpha beta)</span> — the assumption mechanism did not deduce 
 that <span class="v">p</span> and <span class="v">q</span> are true, only that their conjunction, in its 
 <span class="v">IF</span>-form, is true.  This has long been known as a deficiency in both ACL2 
 and the earlier Nqthm but it was tedious to do better when one considered the 
 full range of <span class="v">IF</span>-forms one might encounter in the test of another 
 <span class="v">IF</span>.  Rather than code all the cases, we just waited until clausification 
 got rid of them.  Robert Krug developed a pretty nice treatment of the general 
 case and we added it in this version.  This also involved a surprising number 
 of changes elsewhere in the system because the improved handling of 
 assumptions caused the theorem prover often to ``erase'' hypotheses provided 
 by <span class="v">:use</span> hints because it could simplify them to <span class="v">t</span>.  Thank you 
 Robert!</p> 
 
 <p>In response to a suggestion from Robert Krug, we added <span class="v">mfc-ap</span> so that 
 extended metafunctions can take advantage of linear arithmetic.  See <a href="ACL2____EXTENDED-METAFUNCTIONS.html">extended-metafunctions</a>.</p> 
 
 <p>There is less delay in printing goals.  In previous versions, a goal was 
 not printed until its subgoals were created (or the goal was proved).  Now, 
 the goal is printed essentially as soon as it is created.</p> 
 
 <p>A small technical change has been made in the function <span class="tt"><a href="ACL2____TERM-ORDER.html">term-order</a></span>, 
 to give priority on the function symbol count over the weighting of constants. 
 So for example, while previously the term <span class="v">(f)</span> preceded the constant 2, 
 that is no longer the case.  If this change is noticed at all, it will 
 probably be noticed in how so-called <i>permutative</i> rewrite rules are 
 applied; see <a href="ACL2____LOOP-STOPPER.html">loop-stopper</a>.  Thanks to Robert Krug for suggesting this 
 improvement and providing part of the implementation.</p>
</body>
</html>
