<html>
<head>
<meta charset="UTF-8">
<title>Goal-spec</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____GOAL-SPEC">Click for Goal-spec in the Full Manual</a></h3>

<p>To indicate where a hint is to be used</p><pre class="code">Examples:
"Goal"
"goal"
"Subgoal *1/3''"
"subgoal *1/3''"
"[2]Subgoal *1/3''"</pre> 
 
 <p>When <a href="ACL2____HINTS.html">hints</a> are given to the theorem prover, a goal-spec is provided 
 to specify the goal to which the <a href="ACL2____HINTS.html">hints</a> are to be applied.  The <a href="ACL2____HINTS.html">hints</a> provided are carried along innocuously until the named goal arises. 
 When it arises, the <a href="ACL2____HINTS.html">hints</a> are ``activated'' for that goal and its 
 descendents.</p> 
 
 <p>A legal goal specification may be extracted from the theorem prover's 
 output.  Certain lines clearly label formulas, as in</p> 
 
 <pre class="code">Subgoal *1/3.2'
(<a href="ACL2____IMPLIES.html">IMPLIES</a> ... ...)</pre> 
 
 <p>and these lines all give rise to goal specifications.  In general, these 
 lines all start either with ``Goal'' or ``Subgoal'' or else with those words 
 preceded by a number in square brackets, as in</p> 
 
 <pre class="code">[1]Subgoal *1/3.2'
(<a href="ACL2____IMPLIES.html">IMPLIES</a> ... ...).</pre> 
 
 <p>A goal specification may be obtained by deleting any surrounding whitespace 
 from such a line and embedding the text in string quotation marks.  Thus</p> 
 
 <pre class="code">"[1]Subgoal *1/3.2'"</pre> 
 
 <p>is the goal specifier for the goal above.</p> 
 
 <p>As noted, a hint is applied to a goal when the hint's goal specification 
 matches the name ACL2 assigns to the goal.  The matching algorithm is 
 case-insensitive.  Thus, alternative goal specifications for the goal above 
 are <span class="v">"[1]subgoal *1/3.2'"</span> and <span class="v">"[1]SUBGOAL *1/3.2'"</span>.  The matching 
 algorithm does not tolerate non-case discrepancies.  Thus, 
 <span class="v">"[1]Subgoal*1/3.2'"</span> and <span class="v">" [1]Subgoal *1/3.2'"</span> are 
 unacceptable.</p> 
 
 <p>Sometimes a formula is given two names, e.g.,</p> 
 
 <pre class="code">Subgoal *1/14.2'
(<a href="ACL2____IMPLIES.html">IMPLIES</a> ...
         ...)
Name the formula above *1.1.</pre> 
 
 <p>It is the first name (the one that starts with ``Goal'' or ``Subgoal'') and 
 not the second which constitutes a legal goal-spec.  Roughly speaking, when 
 the system prints the line containing the goal specification, it activates any 
 <a href="ACL2____HINTS.html">hints</a> that are attached to that goal-spec.  Consider the example above. 
 Suppose <span class="v">Subgoal *1/14.2'</span> could be proved by using a certain lemma 
 instance.  Then the appropriate entry in the <a href="ACL2____HINTS.html">hints</a> would be:</p> 
 
 <pre class="code">("Subgoal *1/14.2'" :use ...)</pre> 
 
 <p>This might surprise you because the system appears to do nothing to 
 <span class="v">*1/14.2'</span> besides push it for a subsequent induction.  But actually 
 between the time the system printed the goal-spec line and the time it decides 
 to push the goal, you can think of the system as trying everything it has.  So 
 a <span class="v">use</span> hint activated when <span class="v">Subgoal *1/14.2'</span> arises is just what you 
 want.</p> 
 
 <p>But what if you want to give an <span class="v">:induct</span> hint?  By the time induction 
 is tried, the formula has been given the name <span class="v">*1.1</span>.  Well, this is one 
 you just have to remember:</p> 
 
 <pre class="code">("Subgoal *1/14.2'" :induct ...).</pre> 
 
 <p>When the above hint is activated the <span class="v">:induct</span> directive short-circuits 
 the rest of the processing and sends immediately the formula into the pool of 
 goals to prove by induction.  The induct hint is attached to the formula in 
 the pool and when the time comes to turn our attention to that goal, the 
 induct advice is followed.</p> 
 
 <p>You can probably figure out the naming conventions for goals after seeing 
 some examples in prover output.  Let's discuss the use of the character <span class="v">'</span> 
 for a suffix.  If a goal has a single subgoal then a prime is added; e.g., if 
 <span class="v">"Subgoal 3.2"</span> has a single subgoal then it is named <span class="v">"Subgoal
 3.2'"</span> rather than <span class="v">"Subgoal 3.2.1"</span>.  If in turn that goal has a 
 single subgoal, it is named <span class="v">"Subgoal 3.2''"</span>; and so on.  When four or 
 more primes would be generated, say, <span class="v">n</span> primes, then the suffix is 
 <span class="v">"'n'"</span>; e.g., continuing the preceding example we get <span class="v">"Subgoal
 3.2'''"</span>, <span class="v">"Subgoal 3.2'4'"</span>, <span class="v">"Subgoal 3.2'5'"</span>, and so on.  If 
 any of these generates at least two subgoals then any ``prime'' suffix is 
 dropped; for example, if <span class="v">"Subgoal 3.2'5'"</span> has two subgoals then they 
 are named <span class="v">"Subgoal 3.2.2"</span> and <span class="v">"Subgoal 3.2.1"</span>.</p> 
 
 <p>We conclude by emphasizing a point made above, that a hint is applied to a 
 goal when the hint's goal specification matches the name ACL2 assigns to the 
 goal.  If there is no such match, then the hint is ignored.  Consider the 
 following example.</p> 
 
 <pre class="code">(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="COMMON-LISP____APPEND.html">append</a> x y) z) (<a href="COMMON-LISP____APPEND.html">append</a> x y z))
     :hints (("Subgoal *1/" :in-theory nil)))</pre> 
 
 <p>Normally, <span class="v">:in-theory</span> hints are inherited by subgoals (see <a href="ACL2____HINTS-AND-THE-WATERFALL.html">hints-and-the-waterfall</a>), so you might expect that the empty theory is used 
 in <span class="v">Subgoal *1/2</span> and <span class="v">Subgoal *1/1</span>.  But in fact, since there is no 
 subgoal printed that is labeled <span class="v">Subgoal *1/</span>, the above <span class="v">:in-theory</span> 
 hint is ignored.  The above example is in contrast to the following, where the 
 hint makes the proof fail, because there really is a <span class="v">Subgoal *1/</span> in the 
 proof this time.</p> 
 
 <pre class="code">(<a href="ACL2____THM.html">thm</a> (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____ENDP.html">endp</a> x)) (<a href="COMMON-LISP____NOT.html">not</a> (<a href="COMMON-LISP____ENDP.html">endp</a> (<a href="COMMON-LISP____CDR.html">cdr</a> x))))
              (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="COMMON-LISP____APPEND.html">append</a> x y) z) (<a href="COMMON-LISP____APPEND.html">append</a> x y z)))
     :hints (("Subgoal *1/" :in-theory nil)))</pre>
</body>
</html>
