<html>
<head>
<meta charset="UTF-8">
<title>Restrict-vars-when-renamevar</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=YUL____RESTRICT-VARS-WHEN-RENAMEVAR">Click for Restrict-vars-when-renamevar in the Full Manual</a></h3>

<p>Theorems about restricting variables and variable renaming.</p><p>The function <span class="tt"><a href="YUL____RESTRICT-VARS.html">restrict-vars</a></span> is used, in the Yul dynamic semantics, 
     to model the execution of blocks and the execution of loops. 
     These theorems about <span class="tt"><a href="YUL____RESTRICT-VARS.html">restrict-vars</a></span> apply to these two cases, 
     as explained below.</p><p>In the execution of a block, 
     there are three computation states of interest: 
     (i) the state before the block; 
     (ii) the state after executing the statements of the block; and 
     (iii) the state after the block, 
     obtained from the second one by restricting it 
     to the variables present in the first one. 
     Consider the execution of two blocks related by variable renaming: 
     then there are corresponding first, second, and third states. 
     If the first states are related, 
     and the second states are related, 
     and the keys of each second state is a superset of 
     the keys of the first state, 
     then the third states are related too. 
     The theorem <span class="v">cstate-renamevarp-of-restrict-vars-1</span> below says this. 
     It does not mention block execution, 
     but only the three states (for old and new execution), 
     because all we need for this property to hold 
     are the hypotheses in the theorem. 
     This theorem is used later to prove properties 
     of the execution of blocks. 
     This theorem is proved via a preliminary one for local states.</p><p>In the execution of a loop, 
     there are four computation states of interest: 
     (i) the state before the loop; 
     (ii) the state after executing the initialization block; 
     (ii) the state after execution the loop iterations; and 
     (iv) the state after the loop. 
     The theorem <span class="v">cstate-renamevarp-of-restrict-vars-2</span> below 
     is similar to the ones explained above (for blocks), 
     but it involves additional states. 
     It is also proved via a preliminary one for local states.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Theorem: </b>lstate-renamevarp-of-restrict-1</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  lstate-renamevarp-of-restrict-1
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____LSTATEP.html">lstatep</a> old-lstate)
                (<a href="YUL____LSTATEP.html">lstatep</a> new-lstate)
                (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate new-lstate ren)
                (<a href="YUL____LSTATEP.html">lstatep</a> old-lstate1)
                (<a href="YUL____LSTATEP.html">lstatep</a> new-lstate1)
                (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate1 new-lstate1 ren1)
                (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate)
                        (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate1))
                (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate)
                        (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate1))
                (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren)
                               (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren1)))
           (<a href="ACL2____B_A2.html">b*</a> ((old-lstate2 (<a href="OMAP____RESTRICT.html">omap::restrict</a> (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate)
                                             old-lstate1))
                (new-lstate2 (<a href="OMAP____RESTRICT.html">omap::restrict</a> (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate)
                                             new-lstate1)))
               (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate2 new-lstate2 ren))))</pre> 
<p><b>Theorem: </b>cstate-renamevarp-of-restrict-vars-1</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 cstate-renamevarp-of-restrict-vars-1
 (<a href="ACL2____IMPLIES.html">implies</a>
    (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate new-cstate ren)
         (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate1 new-cstate1 ren1)
         (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate))
                 (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate1)))
         (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate))
                 (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate1)))
         (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren)
                        (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren1)))
    (<a href="ACL2____B_A2.html">b*</a> ((old-cstate2
              (<a href="YUL____RESTRICT-VARS.html">restrict-vars</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate))
                             old-cstate1))
         (new-cstate2
              (<a href="YUL____RESTRICT-VARS.html">restrict-vars</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate))
                             new-cstate1)))
        (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate2 new-cstate2 ren))))</pre> 
<p><b>Theorem: </b>lstate-renamevarp-of-restrict-2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  lstate-renamevarp-of-restrict-2
  (<a href="ACL2____IMPLIES.html">implies</a> (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____LSTATEP.html">lstatep</a> old-lstate)
                (<a href="YUL____LSTATEP.html">lstatep</a> new-lstate)
                (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate new-lstate ren)
                (<a href="YUL____LSTATEP.html">lstatep</a> old-lstate1)
                (<a href="YUL____LSTATEP.html">lstatep</a> new-lstate1)
                (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate1 new-lstate1 ren1)
                (<a href="YUL____LSTATEP.html">lstatep</a> old-lstate2)
                (<a href="YUL____LSTATEP.html">lstatep</a> new-lstate2)
                (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate2 new-lstate2 ren1)
                (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate)
                        (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate1))
                (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate)
                        (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate1))
                (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate2)
                       (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate1))
                (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate2)
                       (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate1))
                (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren)
                               (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren1)))
           (<a href="ACL2____B_A2.html">b*</a> ((old-lstate3 (<a href="OMAP____RESTRICT.html">omap::restrict</a> (<a href="OMAP____KEYS.html">omap::keys</a> old-lstate)
                                             old-lstate2))
                (new-lstate3 (<a href="OMAP____RESTRICT.html">omap::restrict</a> (<a href="OMAP____KEYS.html">omap::keys</a> new-lstate)
                                             new-lstate2)))
               (<a href="YUL____LSTATE-RENAMEVARP.html">lstate-renamevarp</a> old-lstate3 new-lstate3 ren))))</pre> 
<p><b>Theorem: </b>cstate-renamevarp-of-restrict-vars-2</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 cstate-renamevarp-of-restrict-vars-2
 (<a href="ACL2____IMPLIES.html">implies</a>
    (<a href="COMMON-LISP____AND.html">and</a> (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate new-cstate ren)
         (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate1 new-cstate1 ren1)
         (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate2 new-cstate2 ren1)
         (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate))
                 (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate1)))
         (<a href="SET____SUBSET.html">subset</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate))
                 (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate1)))
         (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate2))
                (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate1)))
         (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate2))
                (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate1)))
         (<a href="ACL2____SUBSETP-EQUAL.html">subsetp-equal</a> (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren)
                        (<a href="YUL____RENAMING-_E3LIST.html">renaming-&gt;list</a> ren1)))
    (<a href="ACL2____B_A2.html">b*</a> ((old-cstate3
              (<a href="YUL____RESTRICT-VARS.html">restrict-vars</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> old-cstate))
                             old-cstate2))
         (new-cstate3
              (<a href="YUL____RESTRICT-VARS.html">restrict-vars</a> (<a href="OMAP____KEYS.html">omap::keys</a> (<a href="YUL____CSTATE-_E3LOCAL.html">cstate-&gt;local</a> new-cstate))
                             new-cstate2)))
        (<a href="YUL____CSTATE-RENAMEVARP.html">cstate-renamevarp</a> old-cstate3 new-cstate3 ren))))</pre> 

</body>
</html>
