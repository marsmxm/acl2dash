<html>
<head>
<meta charset="UTF-8">
<title>Atj-gen-shallow-main-cunit</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=JAVA____ATJ-GEN-SHALLOW-MAIN-CUNIT">Click for Atj-gen-shallow-main-cunit in the Full Manual</a></h3>

<p>Generate the main Java compilation unit, 
          in the shallow embedding approach.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(atj-gen-shallow-main-cunit guards$ no-aij-types$ java-package$ 
                            java-class$ pkgs fns-to-translate 
                            call-graph verbose$ wrld) 
 
  → 
(mv cunit pkg-class-names fn-method-names)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">guards$</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> guards$)</span>.</font>
</dd> 
  <dd>
<span class="tt">no-aij-types$</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> no-aij-types$)</span>.</font>
</dd> 
  <dd>
<span class="tt">java-package$</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> java-package$)</span>.</font>
</dd> 
  <dd>
<span class="tt">java-class$</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____STRINGP.html">stringp</a> java-class$)</span>.</font>
</dd> 
  <dd>
<span class="tt">pkgs</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____STRING-LISTP.html">string-listp</a> pkgs)</span>.</font>
</dd> 
  <dd>
<span class="tt">fns-to-translate</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> fns-to-translate)</span>.</font>
</dd> 
  <dd>
<span class="tt">call-graph</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-SYMBOLLIST-ALISTP.html">symbol-symbollist-alistp</a> call-graph)</span>.</font>
</dd> 
  <dd>
<span class="tt">verbose$</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> verbose$)</span>.</font>
</dd> 
  <dd>
<span class="tt">wrld</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____PLIST-WORLDP.html">plist-worldp</a> wrld)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">cunit</span> — <font color="#606060">Type <span class="v">(<a href="JAVA____JCUNITP.html">jcunitp</a> cunit)</span>.</font>
</dd> 
<dd>
<span class="tt">pkg-class-names</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____STRING-STRING-ALISTP.html">string-string-alistp</a> pkg-class-names)</span>, given <span class="v">(<a href="ACL2____STRING-LISTP.html">string-listp</a> pkgs)</span>.</font>
</dd> 
<dd>
<span class="tt">fn-method-names</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____SYMBOL-STRING-ALISTP.html">symbol-string-alistp</a> fn-method-names)</span>, given <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> fns-to-translate)</span>.</font>
</dd> 
 
</dl></div> 
<p>The compilation unit imports all the AIJ public classes, 
     since it needs to reference (at least some of) them. 
     It also imports <span class="v">BigInteger</span>, used to build certain quoted constants. 
     However, if the <span class="v">:no-aij-types</span> input is <span class="v">t</span>, 
     there are no imports.</p><p>We also return the alist from ACL2 package names to Java class names 
     and the alist from ACL2 function symbols to Java method names, 
     which must be eventually passed to the functions that generate 
     the Java test class.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>atj-gen-shallow-main-cunit</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 atj-gen-shallow-main-cunit
 (guards$ no-aij-types$ java-package$
          java-class$ pkgs fns-to-translate
          call-graph verbose$ wrld)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____BOOLEANP.html">booleanp</a> guards$)
                             (<a href="ACL2____BOOLEANP.html">booleanp</a> no-aij-types$)
                             (<a href="COMMON-LISP____STRINGP.html">stringp</a> java-package$)
                             (<a href="COMMON-LISP____STRINGP.html">stringp</a> java-class$)
                             (<a href="ACL2____STRING-LISTP.html">string-listp</a> pkgs)
                             (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> fns-to-translate)
                             (<a href="ACL2____SYMBOL-SYMBOLLIST-ALISTP.html">symbol-symbollist-alistp</a> call-graph)
                             (<a href="ACL2____BOOLEANP.html">booleanp</a> verbose$)
                             (<a href="ACL2____PLIST-WORLDP.html">plist-worldp</a> wrld))))
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="ACL2____NO-DUPLICATESP-EQUAL.html">no-duplicatesp-equal</a> pkgs)))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'atj-gen-shallow-main-cunit))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____MV.html">mv</a> class pkg-class-names fn-method-names)
     (<a href="JAVA____ATJ-GEN-SHALLOW-MAIN-CLASS.html">atj-gen-shallow-main-class</a> pkgs fns-to-translate
                                 call-graph guards$ no-aij-types$
                                 java-class$ verbose$ wrld))
    (imports
      (<a href="COMMON-LISP____IF.html">if</a> no-aij-types$ nil
          (<a href="COMMON-LISP____LIST.html">list</a> (<a href="JAVA____MAKE-JIMPORT.html">make-jimport</a> :static? nil
                              :target (<a href="STR____CAT.html">str::cat</a> *aij-package* ".*"))
                (<a href="JAVA____MAKE-JIMPORT.html">make-jimport</a> :static? nil
                              :target "java.math.BigInteger"))))
    ((run-when verbose$)
     (<a href="ACL2____CW.html">cw</a> "~%Generate the main Java compilation unit.~%"))
    (cunit (<a href="JAVA____MAKE-JCUNIT.html">make-jcunit</a> :package? java-package$
                        :imports imports
                        :types (<a href="COMMON-LISP____LIST.html">list</a> class))))
   (<a href="ACL2____MV.html">mv</a> cunit
       pkg-class-names fn-method-names))))</pre> 
<p><b>Theorem: </b>jcunitp-of-atj-gen-shallow-main-cunit.cunit</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 jcunitp-of-atj-gen-shallow-main-cunit.cunit
 (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____MV.html">mv</a> ?cunit
         ?pkg-class-names ?fn-method-names)
     (<a href="JAVA____ATJ-GEN-SHALLOW-MAIN-CUNIT.html">atj-gen-shallow-main-cunit</a> guards$ no-aij-types$ java-package$
                                 java-class$ pkgs fns-to-translate
                                 call-graph verbose$ wrld)))
   (<a href="JAVA____JCUNITP.html">jcunitp</a> cunit))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>string-string-alistp-of-atj-gen-shallow-main-cunit.pkg-class-names</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 string-string-alistp-of-atj-gen-shallow-main-cunit.pkg-class-names
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="ACL2____STRING-LISTP.html">string-listp</a> pkgs)
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____MV.html">mv</a> ?cunit
         ?pkg-class-names ?fn-method-names)
     (<a href="JAVA____ATJ-GEN-SHALLOW-MAIN-CUNIT.html">atj-gen-shallow-main-cunit</a> guards$ no-aij-types$ java-package$
                                 java-class$ pkgs fns-to-translate
                                 call-graph verbose$ wrld)))
   (<a href="ACL2____STRING-STRING-ALISTP.html">string-string-alistp</a> pkg-class-names)))
 :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>symbol-string-alistp-of-atj-gen-shallow-main-cunit.fn-method-names</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
 symbol-string-alistp-of-atj-gen-shallow-main-cunit.fn-method-names
 (<a href="ACL2____IMPLIES.html">implies</a>
  (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> fns-to-translate)
  (<a href="ACL2____B_A2.html">b*</a>
   (((<a href="ACL2____MV.html">mv</a> ?cunit
         ?pkg-class-names ?fn-method-names)
     (<a href="JAVA____ATJ-GEN-SHALLOW-MAIN-CUNIT.html">atj-gen-shallow-main-cunit</a> guards$ no-aij-types$ java-package$
                                 java-class$ pkgs fns-to-translate
                                 call-graph verbose$ wrld)))
   (<a href="ACL2____SYMBOL-STRING-ALISTP.html">symbol-string-alistp</a> fn-method-names)))
 :rule-classes :rewrite)</pre> 

</body>
</html>
