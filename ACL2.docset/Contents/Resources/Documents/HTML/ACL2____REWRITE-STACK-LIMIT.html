<html>
<head>
<meta charset="UTF-8">
<title>Rewrite-stack-limit</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____REWRITE-STACK-LIMIT">Click for Rewrite-stack-limit in the Full Manual</a></h3>

<p>Limiting the stack depth of the ACL2 rewriter</p><p>ACL2 users can create rules of class <span class="v">:</span><span class="tt"><a href="ACL2____REWRITE.html">rewrite</a></span> (see 
 <a href="ACL2____RULE-CLASSES.html">rule-classes</a>) that have the potential of causing an infinite loop in 
 the ACL2 rewriter.  This could lead to Lisp stack overflows and even 
 segmentation faults.  For this reason, the depth of certain calls of functions 
 in the ACL2 rewriter is limited by default using the value of the form 
 <span class="v">(<a href="ACL2____REWRITE-STACK-LIMIT.html">rewrite-stack-limit</a> (<a href="ACL2____W.html">w</a> state))</span>.  To see the limit in action, execute the 
 following forms.</p> 
 
 <pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a> app-assoc-1
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="COMMON-LISP____APPEND.html">append</a> x y) z)
         (<a href="COMMON-LISP____APPEND.html">append</a> x y z)))
(<a href="ACL2____DEFTHM.html">defthm</a> app-assoc-2
  (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____APPEND.html">append</a> x y z)
         (<a href="COMMON-LISP____APPEND.html">append</a> (<a href="COMMON-LISP____APPEND.html">append</a> x y) z)))
(<a href="ACL2____THM.html">thm</a> (<a href="COMMON-LISP____EQUAL.html">equal</a> (<a href="COMMON-LISP____APPEND.html">append</a> a b c) xxx)
     ; try without these hints to see a slightly different error message
     :hints (("Goal" :do-not '(preprocess))))</pre> 
 
 <p>The ensuing error message shows a stack of one greater than the value of 
 <span class="v">(<a href="ACL2____REWRITE-STACK-LIMIT.html">rewrite-stack-limit</a> (<a href="ACL2____W.html">w</a> state))</span>, which by default is the value of the 
 constant <span class="v">*default-rewrite-stack-limit*</span>.  The error message also explains 
 how to use <span class="v">:</span><span class="tt"><a href="ACL2____BRR.html">brr</a></span><span class="v"> t</span> and <span class="v">(</span><span class="tt"><a href="ACL2____CW-GSTACK.html">cw-gstack</a></span><span class="v">)</span> to find 
 looping rewrite rules.</p> 
 
 <p>This limit can be changed; see <a href="ACL2____SET-REWRITE-STACK-LIMIT.html">set-rewrite-stack-limit</a>.</p> 
 
 <p>For a related limit, see <a href="ACL2____BACKCHAIN-LIMIT.html">backchain-limit</a>.</p>
</body>
</html>
