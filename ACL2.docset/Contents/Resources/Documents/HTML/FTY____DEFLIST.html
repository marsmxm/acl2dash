<html>
<head>
<meta charset="UTF-8">
<title>Deflist</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=FTY____DEFLIST">Click for Deflist in the Full Manual</a></h3>

<p>Define a list type with a fixing function, supported by <a href="FTY____DEFTYPES.html">deftypes</a>.</p><p><span class="v">Deflist</span> provides a recognizer predicate, fixing function, and 
a few theorems defining a list of elements of a certain type.</p> 
 
<p><span class="v">Deflist</span> is compatible with <a href="FTY____DEFTYPES.html">deftypes</a>, and can be 
mutually-recursive with other <span class="v">deftypes</span> compatible type generators.  As 
with all <a href="FTY____DEFTYPES.html">deftypes</a>-compatible type generators, its element type must 
either be one produced by a compatible type generator or else have an 
associated fixing function given by <a href="FTY____DEFFIXTYPE.html">deffixtype</a>.  See <a href="FTY____BASETYPES.html">basetypes</a> for 
some base types with fixing functions.</p> 
 
<p>The syntax of <span class="v">deflist</span> is:</p> 
<pre class="code">(<a href="FTY____DEFLIST.html">deflist</a> foolist
  :elt-type foo      ;; required, must have a known fixing function
  :parents (...)     ;; xdoc
  :short "..."       ;; xdoc
  :long "..."        ;; xdoc
  :measure (<a href="COMMON-LISP_____B2.html">+</a> 1 (<a href="COMMON-LISP_____A2.html">*</a> 2 (<a href="ACL2____ACL2-COUNT.html">acl2-count</a> x)))
                     ;; default: (<a href="ACL2____ACL2-COUNT.html">acl2-count</a> x)
  :xvar x            ;; default: x, or find x symbol in measure
  :prepwork          ;; admit these events before starting
  :pred foolistp     ;; default: foolist-p
  :fix foolistfix    ;; default: foolist-fix
  :equiv foolist-=   ;; default: foolist-equiv
  :count foolistcnt  ;; default: foolist-count
                     ;; (may be nil; skipped unless mutually recursive)
  :no-count t        ;; default: nil, same as :count nil
  :true-listp t      ;; default: nil, require nil final cdr
  :elementp-of-nil   ;; default: :unknown, where nil has type foo or not
)</pre> 
 
<p>Only the name and the <span class="v">:elt-type</span> argument is required.</p> 
 
<p>As part of the event, <span class="v">deflist</span> calls <a href="STD____DEFLIST.html">std::deflist</a> to produce 
several useful theorems about the introduced predicate.</p> 
 
<p><span class="v">Deflist</span> (by itself, not when part of mutually-recursive deftypes form) 
also allows previously defined list predicates.  For example, the following 
form produces a fixing function for ACL2's built-in <a href="ACL2____STRING-LISTP.html">string-listp</a> 
predicate:</p> 
 
<pre class="code">(<a href="FTY____DEFLIST.html">deflist</a> string-list :pred string-listp :elt-type stringp)</pre> 
 
<p>If the predicate has been previously defined by <span class="tt"><a href="STD____DEFLIST.html">std::deflist</a></span>, then 
the <span class="v">:true-listp</span> and <span class="v">:elementp-of-nil</span> values of the <span class="v">fty::deflist</span> 
must be the same as the ones of the <span class="tt"><a href="STD____DEFLIST.html">std::deflist</a></span>.  Otherwise, the 
<span class="v">fty::deflist</span> may attempt to generate some theorems that have the same name 
as, but slightly different formulas from, theorems generated by the <span class="tt"><a href="STD____DEFLIST.html">std::deflist</a></span>, causing an error.</p> 
 
<p>The theorems generated by <span class="v">deflist</span> depend on the currently included 
books.  For instance, if <span class="v">std/lists/sets.lisp</span> is included, certain theorems 
involving <span class="tt"><a href="COMMON-LISP____MEMBER.html">member</a></span> are generated.  This provides more modularity, by not 
automatically including something like <span class="v">std/lists/top.lisp</span> with 
<span class="v">deflist</span>.  If <span class="v">deflist</span> is called again with the same argument after 
including more books, additional theorems corresponding to the newly included 
books may be generated.  See also the `Pluggable Architecture' section of 
<span class="tt"><a href="STD____DEFLIST.html">std::deflist</a></span>.</p>
</body>
</html>
