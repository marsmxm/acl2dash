<html>
<head>
<meta charset="UTF-8">
<title>Ld-query-control-alist</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=ACL2____LD-QUERY-CONTROL-ALIST">Click for Ld-query-control-alist in the Full Manual</a></h3>

<p>How to default answers to queries</p><p><span class="v">Ld-query-control-alist</span> is an <span class="tt"><a href="ACL2____LD.html">ld</a></span> special (see <a href="ACL2____LD.html">ld</a>).  The accessor is <span class="v">(<a href="ACL2____LD-QUERY-CONTROL-ALIST.html">ld-query-control-alist</a> state)</span> and the updater is 
 <span class="v">(set-ld-query-control-alist val state)</span>.  Roughly speaking, 
 <span class="v">ld-query-control-alist</span> is either <span class="v">nil</span> (meaning all queries should be 
 interactive), <span class="v">t</span> (meaning all should default to the first accepted 
 response), or an alist that pairs query ids to keyword responses.  The alist 
 may end in either <span class="v">t</span> or <span class="v">nil</span>, indicating the default value for all ids 
 not listed explicitly.  Formally, the <span class="v">ld-query-control-alist</span> must satisfy 
 <span class="v">ld-query-control-alistp</span>.  The initial <span class="v">ld-query-control-alist</span> is 
 <span class="v">nil</span>, which means all queries are handled interactively.</p> 
 
 <p>When an ACL2 query is raised, a unique identifying symbol is printed in 
 parentheses after the word ``Query''.  This symbol, called the ``query id,'' 
 can be used in conjunction with <span class="v">ld-query-control-alist</span> to prevent the 
 query from being handled interactively.  By ``handled interactively'' we mean 
 that the query is printed to <span class="tt"><a href="ACL2_____A2STANDARD-CO_A2.html">*standard-co*</a></span> and a response is read from 
 <span class="tt"><a href="ACL2_____A2STANDARD-OI_A2.html">*standard-oi*</a></span>.  The alist can be used to obtain a ``default value'' 
 for each query id.  If this value is <span class="v">nil</span>, then the query is handled 
 interactively.  In all other cases, the system handles the query without 
 interaction (although text may be printed to <span class="tt"><a href="ACL2____STANDARD-CO.html">standard-co</a></span> to make it 
 appear that an interaction has occurred; see below).  If the default value is 
 <span class="v">t</span>, the system acts as though the user responded to the query by typing 
 the first response listed among the acceptable responses.  If the default 
 value is neither <span class="v">nil</span> nor <span class="v">t</span>, then it must be a keyword and one of the 
 acceptable responses.  In that case, the system acts as though the user 
 responded with the given keyword.</p> 
 
 <p>Next, we discuss how the <span class="v">ld-query-control-alist</span> assigns a default 
 value to each query id.  It assigns each id the first value paired with the id 
 in the alist, or, if no such pair appears in the alist, it assigns the final 
 <span class="tt"><a href="COMMON-LISP____CDR.html">cdr</a></span> of the alist as the value.  Thus, <span class="v">nil</span> assigns all ids 
 <span class="v">nil</span>.  <span class="v">T</span> assigns all ids <span class="v">t</span>.  <span class="v">'((:filter . nil) (:sysdef . :n)
 . t)</span> assigns <span class="v">nil</span> to the <span class="v">:filter</span> query, <span class="v">:n</span> to the <span class="v">:sysdef</span> 
 query, and <span class="v">t</span> to all others.</p> 
 
 <p>It remains only to discuss how the system prints text when the default 
 value is not <span class="v">nil</span>, i.e., when the query is handled without interaction. 
 In fact, it is allowed to pair a query id with a singleton list containing a 
 keyword, rather than a keyword, and this indicates that no printing is to be 
 done.  Thus for the example above, <span class="v">:sysdef</span> queries would be handled 
 noninteractively, with printing done to simulate the interaction.  But if we 
 change the example so that <span class="v">:sysdef</span> is paired with <span class="v">(:n)</span>, i.e., if 
 <span class="v">ld-query-control-alist</span> is <span class="v">'((:filter . nil) (:sysdef :n) . t)</span>, then 
 no such printing would take place for <span class="v">sysdef</span> queries.  Instead, the 
 default value of <span class="v">:n</span> would be assigned ``quietly''.</p>
</body>
</html>
