<html>
<head>
<meta charset="UTF-8">
<title>Rp-ruleset</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=RP____RP-RULESET">Click for Rp-ruleset in the Full Manual</a></h3>

<p>Functions to manage RP-Rewriter's ruleset</p><p>Users can use  
the functions below to register rules to RP-Rewriter's 
 ruleset:</p> 
 
<p>ADD-RP-RULE</p> 
<pre class="code">  
<span class="v">(rp::add-rp-rule &lt;rule-name&gt; 
                 &amp;key (disabled 'nil)
                      (beta-reduce 'nil)
                      (hints 'nil)
                      (outside-in 'nil))</span>  </pre> 
 
<p>This  macro  submits  a  table  event  that saves  the  given  rule  in  the 
RP-Rewriter's ruleset to be used later.   Application priority of the rule will 
depend on when this event is submitted  rather than when the rule is originally 
defined. </p> 
 
<p> :disabled key, when set, leaves the added rule disabled. </p> 
 
<p> :beta-reduce key checks if the rule  has any lambda expressions. If that is 
the case, then it calls <a href="RP____DEFTHM-LAMBDA.html">defthm-lambda</a>  to create a new rule and save 
that instead. The name of the new rule will be printed, and it will be disabled 
for ACL2. You need to use that new name while enabling/disabling the added rule 
for  RP-Rewriter.</p> 
 
<p> :hints  key  is   relevant  only when :beta-reduce is set and rp::defthm-lambda. </p> 
 
<p>  :outside-in  key can  be  set  to :inside-out,  :both,  t,  or nil.   This 
determines the rewrite direction when applying a  rule. If the key is set to t, 
then the rule will  be tried on a term before rewriting the  subterms. If it is 
set to nil,  then the rule will  be considered only an inside-out  rule and the 
subterms will be rewritten first before applying the rewrite rule. If it is set 
to  :inside-out  or   :both,  then  it  is  treated  as   both  inside-out  and 
outside-in.</p> 
 
<p> DEF-RP-RULE </p> 
 
<pre class="code"><span class="v">(<a href="RP____DEF-RP-RULE.html">rp::def-rp-rule</a> &lt;rule-name&gt; &lt;conjecture&gt;
                 &amp;rest
                 &lt;hints&gt;)</span> 
</pre> 
 
<p>  This  macro  has  the  same  signature  as  defthm.  It  submits  a  <a href="RP____DEFTHM-LAMBDA.html">defthm-lambda</a> event  in the term has  a lambda expression. If  it doesn't 
 then defthm-lambda translates  to defthm. It also submits  a add-rp-rule event 
 to save the rule in the rule-set.  </p> 
 
 
<p> ENABLING/DISABLING RULES </p> 
 
<p> To enable rewrite, definition or meta rules: </p> 
 
<pre class="code"><span class="v">(<a href="RP____ENABLE-RULES.html">rp::enable-rules</a> &lt;rules&gt;)</span> 
</pre> 
 
<p>   The   argument  should   be   a   quoted   list  of   rules/runes.    For 
example: (rp::enable-rules '(implies (:rewrite append-of-nil))). To enable meta 
rules, their trigger function should be passed as well. For example: 
(rp::enable-rules '((:meta mv-nth-meta . mv-nth))).</p> 
 
<p>To disable them:</p> 
 
<pre class="code">  
<span class="v">(<a href="RP____DISABLE-RULES.html">rp::disable-rules</a> &lt;rules&gt;)</span> 
</pre> 
 
<p> To disable all: </p> 
<pre class="code"><span class="v">(<a href="RP____DISABLE-ALL-RULES.html">rp::disable-all-rules</a>)</span></pre> 
 
<p> Meta rules can be  enabled/disabled without passing their trigger functions 
with  rp::enable-meta-rules and  rp::disable-meta-rules.  These  macros have  a 
different signature than  rp::enable-rules. For example: (rp::enable-meta-rules 
mv-nth-meta hons-acons-meta hons-get-meta). These macros will enable/disable 
the meta rules for all of their trigger functions. </p> 
 
<pre class="code"><span class="v">(rp::enable-meta-rules meta-fnc1 meta-fnc2 ...)</span> 
</pre> 
 
<p>and</p> 
 
<pre class="code"><span class="v">(rp::disable-meta-rules meta-fnc1 meta-fnc2 ...)</span> 
</pre> 
 
 
<p> All executable counterparts are enabled by default even if the user does not 
add the functions to RP-Rewriter's ruleset. They can be disabled and enabled 
with the macro calls below. The given function name should be unquoted. </p> 
 
<pre class="code"> <span class="v">(<a href="RP____DISABLE-EXC-COUNTERPART.html">rp::disable-exc-counterpart</a> &lt;fnc-name&gt;)</span> </pre> 
 
<p>and</p> 
 
<pre class="code"> <span class="v">(<a href="RP____ENABLE-EXC-COUNTERPART.html">rp::enable-exc-counterpart</a> &lt;fnc-name&gt;)</span> </pre> 
 
 
<p> Preprocessors and postprocessors can be enabled/disabled with the macros 
below. </p> 
 
<pre class="code"> <span class="v">(<a href="RP____ENABLE-PREPROCESSOR.html">rp::enable-preprocessor</a> &lt;fnc-name&gt;)</span> </pre> 
<pre class="code"> <span class="v">(<a href="RP____DISABLE-PREPROCESSOR.html">rp::disable-preprocessor</a> &lt;fnc-name&gt;)</span> </pre> 
<pre class="code"> <span class="v">(<a href="RP____ENABLE-POSTPROCESSOR.html">rp::enable-postprocessor</a> &lt;fnc-name&gt;)</span> </pre> 
<pre class="code"> <span class="v">(<a href="RP____DISABLE-POSTPROCESSOR.html">rp::disable-postprocessor</a> &lt;fnc-name&gt;)</span> </pre> 
 
 
<p> CHANGING RULE PRIORITIES </p> 
 
<p>Users can 'bump'  or 'bump down' rules, effectively  changing their application 
priority.         For         example,        (bump-rp-rule        (:definition 
implies))   (alternatively,  (bump-rp-rule   implies))   will  priorities   the 
definition rule of  implies over any rewrite rule that  might have been defined 
prior to that  point. If user defines  a rewrite rule about  implies after this 
point, then that  rule will be tried/applied.  If it fails, then  the bumped up 
definition rule of implies will be applied.</p> 
 
<pre class="code"><span class="v">(<a href="RP____BUMP-RULE.html">rp::bump-rule</a> &lt;rule-name/rune&gt;)</span> 
</pre> 
 
<p> Reversely, bump-down-rule pushes down a rule at the end of the rule list, 
making it the least prioritized rule. </p> 
 
<pre class="code"><span class="v">(<a href="RP____BUMP-DOWN-RULE.html">rp::bump-down-rule</a> &lt;rule-name/rune&gt;)</span> 
</pre> 
 
<p>Users can bump multiple rules with a single event:</p> 
 
<pre class="code"> <span class="v">(<a href="RP____BUMP-RULES.html">rp::bump-rules</a> rule-name/rune1 rule-name/rune2 ...)</span> </pre> 
 
 
<p> Users can bump all the meta rules with the macro below: </p> 
 
<pre class="code"> <span class="v">(<a href="RP____BUMP-ALL-META-RULES.html">rp::bump-all-meta-rules</a>)</span> </pre> 
 

</body>
</html>
