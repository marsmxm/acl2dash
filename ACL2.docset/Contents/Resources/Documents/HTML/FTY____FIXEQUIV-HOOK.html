<html>
<head>
<meta charset="UTF-8">
<title>Fixequiv-hook</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=FTY____FIXEQUIV-HOOK">Click for Fixequiv-hook in the Full Manual</a></h3>

<p>An <a href="STD____POST-DEFINE-HOOK.html">std::post-define-hook</a> for automatically proving <a href="ACL2____FTY.html">fty</a> 
congruences rules.</p><p>The <span class="v">:fix</span> hook allows you to instruct <a href="ACL2____DEFINE.html">define</a> to 
automatically try to infer and prove appropriate congruence rules as in <a href="FTY____DEFFIXEQUIV.html">deffixequiv</a>.</p> 
 
<p>Typical usage, to try to automatically prove congruences everywhere, is to 
simply add the following to the top of your file, section, encapsulate, or 
similar:</p> 
 
<pre class="code">(<a href="ACL2____LOCAL.html">local</a> (std::add-default-post-define-hook :fix))</pre> 
 
<p>You will almost certainly want to ensure that this is done <a href="ACL2____LOCAL.html">local</a>ly, 
since otherwise it will affect all users who include your book.</p> 
 
<p>For finer-grained control or to suppress equivalences for a particular 
function, you can use the <span class="v">:hooks</span> argument to an individual define, 
e.g.,</p> 
 
<pre class="code">(<a href="ACL2____DEFINE.html">define</a> none ((n natp))    ;; don't prove any congruences
   :hooks nil
   n)

(<a href="ACL2____DEFINE.html">define</a> custom ((a natp) (b natp))   ;; prove congruences only
   :hooks ((:fix :omit (b)))         ;; for A, not for B
   (<a href="COMMON-LISP____LIST.html">list</a> (<a href="ACL2____NFIX.html">nfix</a> a) b))

(<a href="ACL2____DEFINE.html">define</a> custom2 ((a natp) (b natp))       ;; prove congruences other than
   :hooks ((:fix :args ((a integerp)      ;; those the formals suggest
                        (b rationalp))))
   (<a href="COMMON-LISP____LIST.html">list</a> (<a href="ACL2____IFIX.html">ifix</a> a) (<a href="ACL2____RFIX.html">rfix</a> b)))</pre> 
 
<p>The arguments beyond <span class="v">:fix</span> get passed to <a href="FTY____DEFFIXEQUIV.html">deffixequiv</a>, so see its 
documentation for more options.</p>
</body>
</html>
