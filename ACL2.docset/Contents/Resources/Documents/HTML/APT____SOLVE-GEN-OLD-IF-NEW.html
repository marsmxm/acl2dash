<html>
<head>
<meta charset="UTF-8">
<title>Solve-gen-old-if-new</title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>

<h3><a href="../index.html?topic=APT____SOLVE-GEN-OLD-IF-NEW">Click for Solve-gen-old-if-new in the Full Manual</a></h3>

<p>Generate the <span class="v">old-if-new</span> theorem.</p><div class="box"><dl> 
  <dt>Signature</dt>
<dt><pre class="code">(solve-gen-old-if-new old-if-new 
                      old-if-new-enable old ?f x1...xn 
                      new f solution-theorem old-instance) 
 
  → 
(mv local-event exported-event)</pre></dt>  <dt>Arguments</dt>  <dd>
<span class="tt">old-if-new</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-if-new)</span>.</font>
</dd> 
  <dd>
<span class="tt">old-if-new-enable</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____BOOLEANP.html">booleanp</a> old-if-new-enable)</span>.</font>
</dd> 
  <dd>
<span class="tt">old</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old)</span>.</font>
</dd> 
  <dd>
<span class="tt">?f</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> ?f)</span>.</font>
</dd> 
  <dd>
<span class="tt">x1...xn</span> — <font color="#606060">Guard <span class="v">(<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> x1...xn)</span>.</font>
</dd> 
  <dd>
<span class="tt">new</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> new)</span>.</font>
</dd> 
  <dd>
<span class="tt">f</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> f)</span>.</font>
</dd> 
  <dd>
<span class="tt">solution-theorem</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> solution-theorem)</span>.</font>
</dd> 
  <dd>
<span class="tt">old-instance</span> — <font color="#606060">Guard <span class="v">(<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-instance)</span>.</font>
</dd> 
<dt>Returns</dt>
<dd>
<span class="tt">local-event</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a> local-event)</span>.</font>
</dd> 
<dd>
<span class="tt">exported-event</span> — <font color="#606060">Type <span class="v">(<a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a> exported-event)</span>.</font>
</dd> 
 
</dl></div> 
<p>The proof follows the design notes, 
     but those use a second-order notation and explicit quantification, 
     so here we need to do things a little differently. 
     We enable the definition of <span class="v">old</span>, 
     which results in its matrix applied to the witness(es). 
     We enable the rewrite rule of <span class="v">new</span> that turns <span class="v">?f</span> into <span class="v">f</span>, 
     so that it carries out that replacement in the aforementioned matrix. 
     We add the solution theorem via a <span class="v">:use</span> hint; 
     this theorem has the form <span class="v">(old-instance)</span>. 
     We use an instance of the rewrite rule of <span class="v">old-instance</span>, 
     where the quantifier variable(s) is/are instantiated with the witness(es): 
     this results exactly in the matrix with <span class="v">f</span> above, 
     and thus the theorem is proved.</p> 
 
<h3>Definitions and Theorems</h3><p><b>Function: </b>solve-gen-old-if-new-thm-aux</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 solve-gen-old-if-new-thm-aux
 (vars index old-witness)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> vars)
                             (<a href="ACL2____NATP.html">natp</a> index)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-witness))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'solve-gen-old-if-new-thm-aux))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="COMMON-LISP____COND.html">cond</a>
   ((<a href="COMMON-LISP____ENDP.html">endp</a> vars) nil)
   (t
    (<a href="COMMON-LISP____CONS.html">cons</a>
       (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CAR.html">car</a> vars)
             (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'mv-nth
                         (<a href="COMMON-LISP____CONS.html">cons</a> index
                               (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old-witness 'nil) 'nil)))
                   'nil))
       (<a href="APT____SOLVE-GEN-OLD-IF-NEW-THM-AUX.html">solve-gen-old-if-new-thm-aux</a> (<a href="COMMON-LISP____CDR.html">cdr</a> vars)
                                     (<a href="COMMON-LISP____1_B2.html">1+</a> index)
                                     old-witness))))))</pre> 
<p><b>Theorem: </b>doublet-listp-of-solve-gen-old-if-new-thm-aux</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
   doublet-listp-of-solve-gen-old-if-new-thm-aux
   (<a href="ACL2____B_A2.html">b*</a> ((instantiation
             (<a href="APT____SOLVE-GEN-OLD-IF-NEW-THM-AUX.html">solve-gen-old-if-new-thm-aux</a> vars index old-witness)))
       (<a href="ACL2____DOUBLET-LISTP.html">doublet-listp</a> instantiation))
   :rule-classes :rewrite)</pre> 
<p><b>Function: </b>solve-gen-old-if-new</p><pre class="code">(<a href="COMMON-LISP____DEFUN.html">defun</a>
 solve-gen-old-if-new
 (old-if-new old-if-new-enable old ?f x1...xn
             new f solution-theorem old-instance)
 (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="ACL2____XARGS.html">xargs</a> :guard (<a href="COMMON-LISP____AND.html">and</a> (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-if-new)
                             (<a href="ACL2____BOOLEANP.html">booleanp</a> old-if-new-enable)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> ?f)
                             (<a href="ACL2____SYMBOL-LISTP.html">symbol-listp</a> x1...xn)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> new)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> f)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> solution-theorem)
                             (<a href="COMMON-LISP____SYMBOLP.html">symbolp</a> old-instance))))
 (<a href="COMMON-LISP____LET.html">let</a>
  ((__function__ 'solve-gen-old-if-new))
  (<a href="COMMON-LISP____DECLARE.html">declare</a> (<a href="COMMON-LISP____IGNORABLE.html">ignorable</a> __function__))
  (<a href="ACL2____B_A2.html">b*</a>
   ((<a href="ACL2____FORMULA.html">formula</a> (<a href="COMMON-LISP____CONS.html">cons</a> 'implies
                   (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> new 'nil)
                         (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old 'nil) 'nil))))
    (new-rwrule (<a href="ACL2____PACKN-POS.html">packn-pos</a> (<a href="COMMON-LISP____LIST.html">list</a> ?f '-to- f) new))
    (old-instance-rwrule (<a href="ACL2____ADD-SUFFIX-TO-FN.html">add-suffix-to-fn</a> old-instance "-NECC"))
    (old-witness (<a href="ACL2____ADD-SUFFIX-TO-FN.html">add-suffix-to-fn</a> old "-WITNESS"))
    (instantiation
         (<a href="COMMON-LISP____IF.html">if</a> (<a href="COMMON-LISP_____E3_D3.html">&gt;=</a> (<a href="ACL2____LEN.html">len</a> x1...xn) 2)
             (<a href="APT____SOLVE-GEN-OLD-IF-NEW-THM-AUX.html">solve-gen-old-if-new-thm-aux</a> x1...xn 0 old-witness)
             (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CAR.html">car</a> x1...xn)
                         (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old-witness 'nil) 'nil))
                   'nil)))
    (hints
     (<a href="COMMON-LISP____CONS.html">cons</a>
      (<a href="COMMON-LISP____CONS.html">cons</a>
       '"Goal"
       (<a href="COMMON-LISP____CONS.html">cons</a>
        ':in-theory
        (<a href="COMMON-LISP____CONS.html">cons</a>
         (<a href="COMMON-LISP____CONS.html">cons</a> 'quote
               (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> old (<a href="COMMON-LISP____CONS.html">cons</a> new-rwrule 'nil))
                     'nil))
         (<a href="COMMON-LISP____CONS.html">cons</a>
          ':use
          (<a href="COMMON-LISP____CONS.html">cons</a>
           (<a href="COMMON-LISP____CONS.html">cons</a>
               solution-theorem
               (<a href="COMMON-LISP____CONS.html">cons</a> (<a href="COMMON-LISP____CONS.html">cons</a> ':instance
                           (<a href="COMMON-LISP____CONS.html">cons</a> old-instance-rwrule instantiation))
                     'nil))
           'nil)))))
      'nil)))
   (<a href="ACL2____EVMAC-GENERATE-DEFTHM.html">evmac-generate-defthm</a> old-if-new
                          :enable old-if-new-enable
                          :formula formula
                          :hints hints))))</pre> 
<p><b>Theorem: </b>pseudo-event-formp-of-solve-gen-old-if-new.local-event</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  pseudo-event-formp-of-solve-gen-old-if-new.local-event
  (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?local-event ?exported-event)
        (<a href="APT____SOLVE-GEN-OLD-IF-NEW.html">solve-gen-old-if-new</a> old-if-new
                              old-if-new-enable old ?f x1...xn
                              new f solution-theorem old-instance)))
      (<a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a> local-event))
  :rule-classes :rewrite)</pre> 
<p><b>Theorem: </b>pseudo-event-formp-of-solve-gen-old-if-new.exported-event</p><pre class="code">(<a href="ACL2____DEFTHM.html">defthm</a>
  pseudo-event-formp-of-solve-gen-old-if-new.exported-event
  (<a href="ACL2____B_A2.html">b*</a> (((<a href="ACL2____MV.html">mv</a> ?local-event ?exported-event)
        (<a href="APT____SOLVE-GEN-OLD-IF-NEW.html">solve-gen-old-if-new</a> old-if-new
                              old-if-new-enable old ?f x1...xn
                              new f solution-theorem old-instance)))
      (<a href="ACL2____PSEUDO-EVENT-FORMP.html">pseudo-event-formp</a> exported-event))
  :rule-classes :rewrite)</pre> 

</body>
</html>
